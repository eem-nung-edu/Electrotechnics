<!DOCTYPE html>
<!-- Adding the lang attribute, which will be updated by the script -->
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- Title will be set via JS -->
    <title>Калькулятор струму</title>
    <script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true
          },
          svg: {
            fontCache: 'global'
          }
        };
        </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
<style>
/* Styles remain THE SAME as in the previous version */
/* General styles */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    font-size: 16px;
    line-height: 1.5;
    background-color: #f4f4f4;
    color: #333;
    display: flex; /* For pinning the footer, if it exists */
    flex-direction: column;
    min-height: 100vh;
}

* {
    box-sizing: border-box;
}

h1, h2 {
    color: #0056b3;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
h1 { font-size: 1.6em; text-align: center; }
h2 { font-size: 1.2em; border-bottom: 1px solid #ccc; padding-bottom: 0.2em;}

hr {
    border: 0;
    height: 1px;
    background-color: #ccc;
    margin: 20px 0;
}

/* Application container */
#app-container {
    display: flex;
    flex-grow: 1;
    width: 100%;
    overflow-x: hidden; /* Prevent horizontal scrolling */
}

/* Information panel */
#info-panel {
    padding: 15px 20px;
    background-color: #fff;
    overflow-y: auto; /* Allow scrolling if content doesn't fit */
    border-right: 2px solid #ccc; /* Separator in horizontal mode */
    flex-shrink: 0; /* Do not shrink the panel */
}

/* Graph panel */
#graph-panel-container {
    flex-grow: 1; /* Occupy the remaining space */
    display: flex;
    flex-direction: column; /* Position canvas and hint */
    padding: 10px;
    background-color: #e9e9e9; /* Light background for the graph area */
    min-width: 0; /* Allows the panel to shrink */
}

#canvas-container {
    flex-grow: 1; /* Canvas occupies available space */
    position: relative; /* For positioning the canvas, if necessary */
    min-height: 200px; /* Minimum height for graphs */
    display: flex; /* Center the canvas */
    justify-content: center;
    align-items: center;
}

#canvas-container canvas {
    display: block;
    max-width: 100%;
    max-height: 100%; /* Canvas does not extend beyond the container */
    /* background-color: #F0F0F0; */ /* Canvas background is now controlled by p5 */
    border: 1px solid #bbb; /* Border around the canvas */
}

#graph-hint {
    flex-shrink: 0; /* Do not shrink the hint */
    padding-top: 5px;
}

/* --- Panel Layout --- */
/* Horizontal (default for wider screens) */
#app-container.layout-horizontal {
    flex-direction: row;
}
#info-panel.layout-horizontal {
    /*width: 50%;         /* Desired width of the information panel */
    flex-shrink: 0;     /* Do not shrink the panel */
    min-width: 350px;   /* Minimum width so content doesn't break */
    max-width: 50%;
    border-right: 2px solid #ccc;
    border-bottom: none;
    overflow-y: auto; /* Keep scroll */
}
#graph-panel-container.layout-horizontal {
    /* Occupies remaining space */
}


/* Vertical (for narrower screens) */
#app-container.layout-vertical {
    flex-direction: column;
}
#info-panel.layout-vertical {
    width: 100%;
    max-width: none;
    border-right: none;
    border-bottom: 2px solid #ccc; /* Separator at the bottom */
}
#graph-panel-container.layout-vertical {
     min-height: 400px; /* Larger minimum height in vertical mode */
     height: 60vh; /* Or fixed height, e.g., 500px */
}


/* --- Input Element Styles --- */
.input-section {
    margin-bottom: 20px;
}

.input-container {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    flex-wrap: wrap; /* Allow wrapping on small screens */
}

.input-container label {
    min-width: 110px;
    text-align: right;
    margin-right: 10px;
    font-weight: bold;
}

.input-container div { /* Wrapper for input and units */
    display: flex;
    align-items: center;
}

input[type="number"], select {
    padding: 6px 10px;
    font-size: 1em;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #fff;
    color: #333;
    width: 100px; /* Input field width */
}

/* Remove arrows in number fields (Webkit/Firefox) */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type=number] {
  -moz-appearance: textfield;
}

select {
   width: auto; /* Automatic width for select */
   min-width: 80px;
   padding-right: 5px;
   cursor: pointer;
}

.input-container span.unit { /* Added class for units of measurement */
    margin-left: 8px;
    color: #555;
}
.input-container span#phase-angle-display { /* Style for displaying the angle */
     margin-left: 10px;
     color: #555;
}
.input-container span#phase-angle-label { /* Added class for the word 'Angle' */
    margin-left: 10px;
    color: #555;
}


/* --- Result Styles --- */
#results-area {
    margin-top: 15px;
}

#results-area p {
    margin: 8px 0;
}
#results-area span[id$="-value"], /* Span for values */
#results-area span[id$="-result"] {
    font-weight: bold;
    color: #006622; /* Green for values */
}

.formula-block {
    margin: 10px 0 15px 15px; /* Indent for formulas */
    font-size: 1.1em; /* Slightly larger font for formulas */
    overflow-x: auto; /* Allow scrolling if the formula is very long */
    padding: 5px 0;
}
.formula-block mjx-container { /* Styling the MathJax container */
    margin: 5px 0 !important;
}


.final-result {
    margin-top: 15px;
    padding: 10px;
    background-color: #e6f4e6;
    border: 1px solid #5cb85c;
    border-radius: 4px;
    display: inline-block; /* So the background is only around the text */
}
.final-result b {
    color: #3c763d;
}

/* Error styles */
.error {
    color: #D8000C;
    background-color: #FFD2D2;
    border: 1px solid #D8000C;
    padding: 10px;
    margin-bottom: 15px;
    border-radius: 4px;
    display: none; /* Initially hidden */
}
.error:not(:empty) { /* Show only if there is text */
    display: block;
}

/* Class for hiding inputs when the graph is maximized */
body.graph-maximized .input-container {
    visibility: hidden;
}
/* Hiding the hint when maximized */
body.graph-maximized #graph-hint {
     display: none;
}


/* Media query for layout control */
@media (max-width: 768px) { /* Threshold for vertical mode */
    #app-container {
        flex-direction: column;
    }
    #info-panel {
        width: 100%;
        max-width: none;
        border-right: none;
        border-bottom: 2px solid #ccc;
        height: auto; /* Automatic height */
        max-height: 60vh; /* Height limit so graphs are visible */
        overflow-y: auto; /* Allow scroll */
    }
    #graph-panel-container {
        min-height: 350px; /* Minimum height for graphs */
        height: 50vh; /* Height of the graph panel */
    }
    .input-container label {
        min-width: 100px; /* Can be reduced */
        text-align: left;
        margin-bottom: 3px;
    }
     .input-container {
        flex-direction: column;
        align-items: flex-start;
     }
     .input-container div{
         margin-left: 0; /* Remove indent for the input+units group */
     }
}

</style>
</head>
<body>
    <div id="app-container">
        <!-- Information and Input Panel -->
        <div id="info-panel">
            <!-- Headers and labels with data-lang-key -->
            <h1 data-lang-key="mainTitle">Калькулятор струму в фазі</h1>

            <!-- Data Input -->
            <div class="input-section">
                <h2 data-lang-key="inputDataTitle">Вхідні дані:</h2>
                <div id="voltage-container" class="input-container">
                    <label for="voltage-input" data-lang-key="voltageLabel">Напруга U:</label>
                    <div>
                        <input type="number" id="voltage-input" step="any" min="0" value="230">
                        <span class="unit" data-lang-key="unitVolt">В</span>
                    </div>
                </div>
                <div id="phase-angle-container" class="input-container">
                   <label for="phase-select" data-lang-key="phaseLabel">Фаза:</label>
                   <div>
                       <select id="phase-select">
                           <option value="A" selected>A (0°)</option>
                           <option value="B">B (-120°)</option>
                           <option value="C">C (120°)</option>
                       </select>
                       <!-- Added span for the word 'Angle' -->
                       <span id="phase-angle-label" data-lang-key="angleLabel" style="margin-left: 10px;">Кут:</span>
                       <span id="phase-angle-display" style="margin-left: 5px;">0°</span>
                   </div>
                </div>
                <div id="r-container" class="input-container">
                    <label for="r-input" data-lang-key="rLabel">Активний R:</label>
                     <div>
                        <input type="number" id="r-input" step="any" min="0" value="10">
                        <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>
                <div id="xl-container" class="input-container">
                    <label for="xl-input" data-lang-key="xlLabel">Індуктивний XL:</label>
                    <div>
                        <input type="number" id="xl-input" step="any" min="0" value="5">
                         <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>
                <div id="xc-container" class="input-container">
                    <label for="xc-input" data-lang-key="xcLabel">Ємнісний XC:</label>
                     <div>
                        <input type="number" id="xc-input" step="any" min="0" value="15">
                        <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>

            </div>

            <hr>

            <!-- Results Area -->
            <div id="results-area">
                <h2 data-lang-key="resultsTitle">Розрахунок:</h2>
                <div id="error-message" class="error"></div>

                <div id="calculation-steps">
                    <!-- Text before values also add data-lang-key -->
                    <p><span data-lang-key="phaseVoltageLabel">Напруга фази:</span> <span id="voltage-result"></span> <span data-lang-key="unitVolt">В</span></p>
                    <p><span data-lang-key="phaseImpedanceLabel">Імпеданс фази:</span>
                        <span id="impedance-rect-formula"></span> = <span id="impedance-rect-value"></span> <span data-lang-key="unitOhm">Ом</span>
                    </p>

                    <div id="impedance-polar-calculation">
                        <p><span data-lang-key="impedancePolarCalcLabel">Розрахунок Z (полярна форма):</span></p>
                        <div class="formula-block">
                           <span id="impedance-polar-formula"></span>
                        </div>
                    </div>
                    <p>|Z| = <span id="impedance-mag-value"></span> <span data-lang-key="unitOhm">Ом</span></p>
                    <p>φ<sub>Z</sub> = <span id="impedance-angle-value"></span><span data-lang-key="unitDegree">°</span></p>

                    <p><span data-lang-key="currentPolarCalcLabel">Розрахунок струму I (полярна форма):</span></p>
                    <div class="formula-block">
                       <span id="current-polar-formula"></span>
                    </div>
                    <p>I = <span id="current-polar-value"></span> <span data-lang-key="unitAmpere">А</span></p>

                    <div id="current-rect-calculation" style="display: none;">
                        <p><span data-lang-key="currentRectCalcLabel">Розрахунок струму I (прямокутна форма):</span></p>
                        <div class="formula-block">
                            <span id="current-rect-formula"></span>
                        </div>
                        <p>I = <span id="current-rect-value"></span> <span data-lang-key="unitAmpere">А</span></p>
                    </div>

                    <p class="final-result">
                        <b><span data-lang-key="finalCurrentLabel">Підсумковий струм:</span> <span id="final-current-value"></span> <span data-lang-key="unitAmpere">А</span></b>
                    </p>
                </div>
                <div id="needs-calculation-message" style="display: none;" data-lang-key="needsCalcMessage">Натисніть 'Порахувати' або змініть дані.</div>
            </div>
        </div>

        <!-- Graph Panel -->
        <div id="graph-panel-container">
            <div id="canvas-container"></div>
            <div id="graph-hint" style="text-align: center; margin-top: 5px; font-size: 0.9em; color: #555;" data-lang-key="graphHint">
                (Клікніть на графік для збільшення)
            </div>
        </div>
    </div>
</body>
</html>

    <script >
const _0x386d85=_0x33da;(function(_0x21004a,_0xf01b30){const _0x57d399=_0x33da,_0x189f9f=_0x21004a();while(!![]){try{const _0x36d4ae=parseInt(_0x57d399(0x2cd))/0x1+-parseInt(_0x57d399(0x258))/0x2*(-parseInt(_0x57d399(0x25d))/0x3)+-parseInt(_0x57d399(0x2a8))/0x4+parseInt(_0x57d399(0x2c4))/0x5+parseInt(_0x57d399(0x2e9))/0x6+-parseInt(_0x57d399(0x254))/0x7*(parseInt(_0x57d399(0x1e1))/0x8)+-parseInt(_0x57d399(0x223))/0x9;if(_0x36d4ae===_0xf01b30)break;else _0x189f9f['push'](_0x189f9f['shift']());}catch(_0x52fe42){_0x189f9f['push'](_0x189f9f['shift']());}}}(_0x4dce,0x6fdac));const _0x1b0374={};_0x1b0374[_0x386d85(0x2cc)]=_0x386d85(0x248),_0x1b0374['mainTitle']='Калькулятор\x20струму\x20в\x20фазі',_0x1b0374['inputDataTitle']=_0x386d85(0x1dc),_0x1b0374[_0x386d85(0x28d)]=_0x386d85(0x2a7),_0x1b0374[_0x386d85(0x24e)]=_0x386d85(0x2bb),_0x1b0374[_0x386d85(0x2eb)]=_0x386d85(0x2b3),_0x1b0374['rLabel']=_0x386d85(0x2af),_0x1b0374[_0x386d85(0x251)]=_0x386d85(0x1fa),_0x1b0374[_0x386d85(0x247)]='Ємнісний\x20XC:',_0x1b0374[_0x386d85(0x274)]='Розрахунок:',_0x1b0374[_0x386d85(0x21e)]=_0x386d85(0x2d8),_0x1b0374[_0x386d85(0x2a0)]=_0x386d85(0x29f),_0x1b0374['impedancePolarCalcLabel']='Розрахунок\x20Z\x20(полярна\x20форма):',_0x1b0374['currentPolarCalcLabel']=_0x386d85(0x205),_0x1b0374[_0x386d85(0x29d)]=_0x386d85(0x263),_0x1b0374[_0x386d85(0x1dd)]='Підсумковий\x20струм:',_0x1b0374[_0x386d85(0x245)]=_0x386d85(0x281),_0x1b0374[_0x386d85(0x27a)]='(Клікніть\x20на\x20графік\x20для\x20збільшення)',_0x1b0374[_0x386d85(0x25c)]='В',_0x1b0374['unitOhm']='Ом',_0x1b0374[_0x386d85(0x215)]='А',_0x1b0374['unitDegree']='°',_0x1b0374['errorInvalidInputPrefix']=_0x386d85(0x288),_0x1b0374['errorZeroImpedance']=_0x386d85(0x27e),_0x1b0374[_0x386d85(0x294)]=_0x386d85(0x2c8),_0x1b0374[_0x386d85(0x297)]='Очікування\x20розрахунку...',_0x1b0374['p5_fixInputError']=_0x386d85(0x2e0),_0x1b0374[_0x386d85(0x20e)]=_0x386d85(0x21d),_0x1b0374[_0x386d85(0x2ba)]=_0x386d85(0x285),_0x1b0374['p5_axisRe']='Re',_0x1b0374[_0x386d85(0x2e2)]='Im',_0x1b0374[_0x386d85(0x2e8)]='Струм',_0x1b0374[_0x386d85(0x26a)]=_0x386d85(0x264),_0x1b0374['p5_sineGraphTitle']='Синусоїди\x20U\x20та\x20I',_0x1b0374['p5_voltageAxisLabel']=_0x386d85(0x279),_0x1b0374[_0x386d85(0x259)]=_0x386d85(0x20c),_0x1b0374[_0x386d85(0x290)]='Δφ\x20≈',_0x1b0374[_0x386d85(0x273)]=_0x386d85(0x295),_0x1b0374[_0x386d85(0x22d)]='Струм\x20I',_0x1b0374[_0x386d85(0x1df)]=_0x386d85(0x253);const _0x432ed0={};_0x432ed0['pageTitle']=_0x386d85(0x2ea),_0x432ed0['mainTitle']='Phase\x20Current\x20Calculator',_0x432ed0[_0x386d85(0x2c9)]=_0x386d85(0x270),_0x432ed0[_0x386d85(0x28d)]=_0x386d85(0x214),_0x432ed0['phaseLabel']=_0x386d85(0x1e7),_0x432ed0[_0x386d85(0x2eb)]=_0x386d85(0x2dd),_0x432ed0['rLabel']=_0x386d85(0x252),_0x432ed0[_0x386d85(0x251)]='Inductive\x20XL:',_0x432ed0[_0x386d85(0x247)]=_0x386d85(0x2ae),_0x432ed0[_0x386d85(0x274)]=_0x386d85(0x2ab),_0x432ed0['phaseVoltageLabel']=_0x386d85(0x1f3),_0x432ed0[_0x386d85(0x2a0)]=_0x386d85(0x287),_0x432ed0[_0x386d85(0x289)]=_0x386d85(0x275),_0x432ed0[_0x386d85(0x280)]=_0x386d85(0x21b),_0x432ed0[_0x386d85(0x29d)]=_0x386d85(0x2ec),_0x432ed0[_0x386d85(0x1dd)]=_0x386d85(0x2d1),_0x432ed0[_0x386d85(0x245)]='Enter\x20data\x20and/or\x20click\x20\x27Calculate\x27\x20(changing\x20data\x20triggers\x20calculation).',_0x432ed0['graphHint']=_0x386d85(0x2a1),_0x432ed0['unitVolt']='V',_0x432ed0[_0x386d85(0x1e2)]='Ω',_0x432ed0[_0x386d85(0x215)]='A',_0x432ed0[_0x386d85(0x2bd)]='°',_0x432ed0[_0x386d85(0x228)]=_0x386d85(0x2b5),_0x432ed0[_0x386d85(0x1e4)]=_0x386d85(0x2b9),_0x432ed0[_0x386d85(0x294)]=_0x386d85(0x225),_0x432ed0[_0x386d85(0x297)]=_0x386d85(0x26e),_0x432ed0[_0x386d85(0x2e6)]=_0x386d85(0x2ad),_0x432ed0['p5_impedanceZeroError']=_0x386d85(0x26c),_0x432ed0[_0x386d85(0x2ba)]=_0x386d85(0x2d5),_0x432ed0[_0x386d85(0x267)]='Re',_0x432ed0[_0x386d85(0x2e2)]='Im',_0x432ed0[_0x386d85(0x2e8)]=_0x386d85(0x1e9),_0x432ed0['p5_currentZero']='I\x20=\x200\x20A',_0x432ed0[_0x386d85(0x2df)]='Voltage\x20U\x20&\x20Current\x20I\x20Waveforms',_0x432ed0[_0x386d85(0x272)]=_0x386d85(0x229),_0x432ed0[_0x386d85(0x259)]='Current\x20I\x20(A)',_0x432ed0[_0x386d85(0x290)]=_0x386d85(0x23f),_0x432ed0[_0x386d85(0x273)]=_0x386d85(0x2db),_0x432ed0['p5_legendCurrent']=_0x386d85(0x216),_0x432ed0[_0x386d85(0x1df)]=_0x386d85(0x2e1);const _0x5e5cca={};_0x5e5cca['uk']=_0x1b0374,_0x5e5cca['en']=_0x432ed0;const translations=_0x5e5cca;let currentLang='en',voltage=0xe6,resistanceR=0xa,reactanceXl=0x5,reactanceXc=0xf,selectedPhase='A',phaseAngleDeg=0x0,impedanceZ_mag=0x0,impedanceZ_angle_deg=0x0,impedanceZ_real=0x0,impedanceZ_imag=0x0,currentI_mag=0x0,currentI_angle_deg=0x0,currentI_real=0x0,currentI_imag=0x0,calculated=![],calculationErrorKey=null,showPolarMaximized=![],showSineMaximized=![],isHorizontalLayout=!![],isMobile=![],voltageInputElement,phaseSelectElement,phaseAngleLabelElement,phaseAngleDisplay,rInputElement,xlInputElement,xcInputElement,resultsArea,errorMessageElement,needsCalcMessageElement,voltageResultSpan,impedanceRectFormulaSpan,impedanceRectValueSpan,impedancePolarFormulaSpan,impedanceMagValueSpan,impedanceAngleValueSpan,currentPolarFormulaSpan,currentPolarValueSpan,currentRectFormulaSpan,currentRectValueSpan,finalCurrentValueSpan,appContainer,canvasContainer,p5Canvas,graphHintElement,smallPolarGraphClickRect=null,smallSineGraphClickRect=null;const COLOR_BG_P5='#F0F0F0',COLOR_TEXT_P5=_0x386d85(0x2a4),COLOR_SEPARATOR_P5=_0x386d85(0x2bc),COLOR_GRAPH_AXES='#555555',COLOR_VOLTAGE_WAVE=_0x386d85(0x209),COLOR_CURRENT_WAVE='#337AFF',COLOR_VECTOR_CURRENT=_0x386d85(0x1fe),COLOR_PROJECTION='#AAAAAA';let lastInteractionTime=0x0;const INTERACTION_DEBOUNCE_DELAY=0x12c,SINE_GRAPH_VERTICAL_SCALE_SMALL=1.5,SINE_GRAPH_VERTICAL_SCALE_MAXIMIZED=1.8,SINE_GRAPH_XMARGIN_SMALL=0x32,SINE_GRAPH_YMARGIN_SMALL=0x23,SINE_GRAPH_XMARGIN_MAXIMIZED=0x19,SINE_GRAPH_YMARGIN_MAXIMIZED=0x14;function detectLanguage(){const _0x5c554b=_0x386d85,_0x26f32c=navigator[_0x5c554b(0x256)]||[navigator[_0x5c554b(0x2ac)]||navigator[_0x5c554b(0x2c6)]];let _0x5df670='en';console['log'](_0x5c554b(0x235),_0x26f32c);if(_0x26f32c&&_0x26f32c[_0x5c554b(0x292)]>0x0){const _0x3387dd=_0x26f32c[0x0]['toLowerCase']();console[_0x5c554b(0x1ec)](_0x5c554b(0x1d8),_0x3387dd),_0x3387dd[_0x5c554b(0x213)]('uk')&&(_0x5df670='uk');}else console['log'](_0x5c554b(0x2d3));currentLang=_0x5df670,console[_0x5c554b(0x1ec)](_0x5c554b(0x233),currentLang),document[_0x5c554b(0x2de)][_0x5c554b(0x28a)]=currentLang;}function getText(_0x6de5a2){const _0x1e3d70=_0x386d85;let _0x12dce8=translations[currentLang]?.[_0x6de5a2];_0x12dce8===undefined&&(_0x12dce8=translations['en']?.[_0x6de5a2]);if(_0x12dce8===undefined)return console['warn'](_0x1e3d70(0x1ed)+_0x6de5a2),'['+_0x6de5a2+']';return _0x12dce8;}function applyStaticTranslations(){const _0x2a21a0=_0x386d85;document[_0x2a21a0(0x25f)](_0x2a21a0(0x250))['forEach'](_0x28335f=>{const _0x3d0be8=_0x2a21a0,_0x46a493=_0x28335f[_0x3d0be8(0x1f8)](_0x3d0be8(0x241));_0x46a493&&(_0x28335f[_0x3d0be8(0x1de)]===_0x3d0be8(0x2bf)?document[_0x3d0be8(0x29a)]=getText(_0x46a493):_0x28335f[_0x3d0be8(0x206)]=getText(_0x46a493));}),document[_0x2a21a0(0x29a)]=getText(_0x2a21a0(0x2cc));}document[_0x386d85(0x227)](_0x386d85(0x25a),initialize);function initialize(){const _0x22dceb=_0x386d85;console[_0x22dceb(0x1ec)]('Initializing\x20Calculator\x20with\x20Localization...'),detectLanguage(),isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i['test'](navigator[_0x22dceb(0x299)]),console['log'](_0x22dceb(0x210),isMobile),appContainer=document[_0x22dceb(0x268)](_0x22dceb(0x2e3)),canvasContainer=document['getElementById']('canvas-container'),graphHintElement=document[_0x22dceb(0x268)](_0x22dceb(0x25b)),voltageInputElement=document[_0x22dceb(0x268)](_0x22dceb(0x2c0)),phaseSelectElement=document[_0x22dceb(0x268)](_0x22dceb(0x2a2)),phaseAngleLabelElement=document[_0x22dceb(0x268)]('phase-angle-label'),phaseAngleDisplay=document[_0x22dceb(0x268)]('phase-angle-display'),rInputElement=document[_0x22dceb(0x268)](_0x22dceb(0x1f5)),xlInputElement=document['getElementById'](_0x22dceb(0x2c7)),xcInputElement=document[_0x22dceb(0x268)]('xc-input'),resultsArea=document['getElementById'](_0x22dceb(0x26d)),errorMessageElement=document[_0x22dceb(0x268)](_0x22dceb(0x239)),needsCalcMessageElement=document[_0x22dceb(0x268)]('needs-calculation-message'),voltageResultSpan=document['getElementById']('voltage-result'),impedanceRectFormulaSpan=document[_0x22dceb(0x268)](_0x22dceb(0x25e)),impedanceRectValueSpan=document[_0x22dceb(0x268)](_0x22dceb(0x28b)),impedancePolarFormulaSpan=document['getElementById'](_0x22dceb(0x2b1)),impedanceMagValueSpan=document[_0x22dceb(0x268)](_0x22dceb(0x23b)),impedanceAngleValueSpan=document[_0x22dceb(0x268)](_0x22dceb(0x29c)),currentPolarFormulaSpan=document[_0x22dceb(0x268)]('current-polar-formula'),currentPolarValueSpan=document['getElementById'](_0x22dceb(0x2c3)),currentRectFormulaSpan=document[_0x22dceb(0x268)](_0x22dceb(0x1e3)),currentRectValueSpan=document[_0x22dceb(0x268)]('current-rect-value'),finalCurrentValueSpan=document[_0x22dceb(0x268)]('final-current-value');if(!appContainer||!canvasContainer){console[_0x22dceb(0x27f)](_0x22dceb(0x1f9)),document['body']['innerHTML']=_0x22dceb(0x2be);return;}applyStaticTranslations(),voltageInputElement[_0x22dceb(0x2cf)]=voltage,phaseSelectElement['value']=selectedPhase,rInputElement[_0x22dceb(0x2cf)]=resistanceR,xlInputElement[_0x22dceb(0x2cf)]=reactanceXl,xcInputElement[_0x22dceb(0x2cf)]=reactanceXc,voltageInputElement[_0x22dceb(0x227)](_0x22dceb(0x1db),handleInput),phaseSelectElement['addEventListener'](_0x22dceb(0x27b),handlePhaseChange),rInputElement['addEventListener'](_0x22dceb(0x1db),handleInput),xlInputElement['addEventListener']('input',handleInput),xcInputElement[_0x22dceb(0x227)]('input',handleInput),window['addEventListener']('resize',handleResize),new p5(sketch,canvasContainer),updateLayout(),updatePhaseAngle(),performCalculation();}function handleInput(_0x39717e){const _0x21413f=_0x386d85,_0x17ebc7=_0x39717e[_0x21413f(0x1fb)];let _0x83091b=_0x17ebc7[_0x21413f(0x2cf)],_0x5d7a25=parseFloat(_0x83091b),_0x712bd9=_0x17ebc7['id'],_0x2eef58=!![],_0x5db2be='';const _0x5c9e30=document[_0x21413f(0x2b7)](_0x21413f(0x265)+_0x712bd9+'\x22]');if(_0x5c9e30){const _0x349ad4=_0x5c9e30[_0x21413f(0x1f8)](_0x21413f(0x241));_0x5db2be=_0x349ad4?getText(_0x349ad4):_0x5c9e30[_0x21413f(0x206)]||_0x712bd9;}else _0x5db2be=_0x712bd9;_0x5db2be=_0x5db2be['replace'](/:$/,''),_0x17ebc7[_0x21413f(0x204)][_0x21413f(0x202)]='';calculationErrorKey===_0x21413f(0x1d9)&&(calculationErrorKey=null);if(_0x83091b==='')_0x5d7a25=0x0;else isNaN(_0x5d7a25)||_0x5d7a25<0x0?(calculationErrorKey=_0x21413f(0x1d9),calculationErrorContext=_0x5db2be,_0x17ebc7[_0x21413f(0x204)]['borderColor']=_0x21413f(0x24d),_0x2eef58=![],calculated=![]):calculationErrorContext=null;if(_0x2eef58){switch(_0x712bd9){case _0x21413f(0x2c0):voltage=_0x5d7a25;break;case _0x21413f(0x1f5):resistanceR=_0x5d7a25;break;case _0x21413f(0x2c7):reactanceXl=_0x5d7a25;break;case _0x21413f(0x2ce):reactanceXc=_0x5d7a25;break;}performCalculation();}else updateResultsHTML();}function handlePhaseChange(_0x31e392){const _0x503459=_0x386d85;selectedPhase=_0x31e392[_0x503459(0x1fb)][_0x503459(0x2cf)];const _0x3e483a=_0x31e392['target'];_0x3e483a[_0x503459(0x204)]['borderColor']='',updatePhaseAngle(),calculationErrorKey===_0x503459(0x1d9)&&(calculationErrorKey=null,calculationErrorContext=null),performCalculation();}function updatePhaseAngle(){const _0x5c967b=_0x386d85;switch(selectedPhase){case'A':phaseAngleDeg=0x0;break;case'B':phaseAngleDeg=-0x78;break;case'C':phaseAngleDeg=0x78;break;default:phaseAngleDeg=0x0;}if(phaseAngleLabelElement){}phaseAngleDisplay&&(phaseAngleDisplay[_0x5c967b(0x206)]=''+formatNumber(phaseAngleDeg,0x0)+getText(_0x5c967b(0x2bd)));}let calculationErrorContext=null;function performCalculation(){const _0x1f58a2=_0x386d85;console[_0x1f58a2(0x1ec)](_0x1f58a2(0x266)+voltage+_0x1f58a2(0x22e)+selectedPhase+'('+phaseAngleDeg+_0x1f58a2(0x2a9)+resistanceR+_0x1f58a2(0x1e6)+reactanceXl+_0x1f58a2(0x221)+reactanceXc);if(calculationErrorKey==='errorInvalidInput'){calculated=![],updateResultsHTML();return;}impedanceZ_real=resistanceR,impedanceZ_imag=reactanceXl-reactanceXc,impedanceZ_mag=Math[_0x1f58a2(0x234)](Math[_0x1f58a2(0x278)](impedanceZ_real,0x2)+Math[_0x1f58a2(0x278)](impedanceZ_imag,0x2)),impedanceZ_angle_deg=0xb4/Math['PI']*Math['atan2'](impedanceZ_imag,impedanceZ_real),calculationErrorKey=null,calculationErrorContext=null;if(impedanceZ_mag<1e-9){calculationErrorKey=_0x1f58a2(0x1e4),currentI_mag=0x0,currentI_angle_deg=0x0,currentI_real=0x0,currentI_imag=0x0,calculated=!![],updateResultsHTML();return;}currentI_mag=voltage/ impedanceZ_mag,currentI_angle_deg=phaseAngleDeg-impedanceZ_angle_deg;while(currentI_angle_deg>0xb4)currentI_angle_deg-=0x168;while(currentI_angle_deg<=-0xb4)currentI_angle_deg+=0x168;let _0x20afe2=Math['PI']/0xb4*currentI_angle_deg;currentI_real=currentI_mag*Math[_0x1f58a2(0x283)](_0x20afe2),currentI_imag=currentI_mag*Math[_0x1f58a2(0x2d9)](_0x20afe2);if(Math[_0x1f58a2(0x1fd)](impedanceZ_imag)<1e-9)impedanceZ_imag=0x0;if(Math[_0x1f58a2(0x1fd)](currentI_imag)<1e-9)currentI_imag=0x0;if(impedanceZ_imag===0x0&&impedanceZ_real>=0x0)impedanceZ_angle_deg=0x0;calculated=!![],updateResultsHTML();}function updateResultsHTML(){const _0x5db2d5=_0x386d85,_0x48614e=document[_0x5db2d5(0x268)](_0x5db2d5(0x26b)),_0x2d3ef2=document['getElementById'](_0x5db2d5(0x201)),_0x2d23bd=document[_0x5db2d5(0x268)]('current-rect-calculation'),_0x3a5f0f=getText('unitVolt'),_0x5b7303=getText('unitOhm'),_0x45a013=getText('unitAmpere'),_0x2d58a7=getText(_0x5db2d5(0x2bd));if(calculationErrorKey){let _0x2b5e26=getText(calculationErrorKey);calculationErrorKey===_0x5db2d5(0x1d9)&&calculationErrorContext&&(_0x2b5e26+='\x20\x22'+calculationErrorContext+'\x22');errorMessageElement[_0x5db2d5(0x206)]=_0x2b5e26,errorMessageElement[_0x5db2d5(0x204)]['display']=_0x5db2d5(0x2d2),_0x48614e['style']['display']=_0x5db2d5(0x1e0),needsCalcMessageElement[_0x5db2d5(0x204)]['display']='none';if(_0x2d3ef2)_0x2d3ef2[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x1e0);if(_0x2d23bd)_0x2d23bd[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x1e0);}else{if(calculated){errorMessageElement[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x1e0),_0x48614e[_0x5db2d5(0x204)]['display']=_0x5db2d5(0x2d2),needsCalcMessageElement['style'][_0x5db2d5(0x260)]='none';const _0x34a651=formatNumber(voltage),_0x5be8bd=formatNumber(phaseAngleDeg),_0x58bf08=_0x34a651+'\x20\x5cangle\x20'+_0x5be8bd+_0x2d58a7,_0xc9486c=formatNumber(impedanceZ_real),_0x5b2ae1=formatNumber(impedanceZ_imag),_0x63dbda=formatComplexLatex(impedanceZ_real,impedanceZ_imag),_0x334c6e=formatNumber(impedanceZ_mag),_0xc50237=formatNumber(impedanceZ_angle_deg),_0x5c2c1d=_0x334c6e+'\x20\x5cangle\x20'+_0xc50237+_0x2d58a7,_0x43f0f6=formatNumber(currentI_mag),_0x3829c0=formatNumber(currentI_angle_deg),_0x5b3aed=_0x43f0f6+_0x5db2d5(0x1f2)+_0x3829c0+_0x2d58a7,_0x307c79=formatComplexLatex(currentI_real,currentI_imag);voltageResultSpan[_0x5db2d5(0x206)]='$'+_0x58bf08+'$',impedanceRectFormulaSpan['innerText']='$Z\x20=\x20R\x20+\x20j(X_L\x20-\x20X_C)$',impedanceRectValueSpan[_0x5db2d5(0x206)]='$'+_0x63dbda+'$',impedanceMagValueSpan[_0x5db2d5(0x206)]=_0x334c6e,impedanceAngleValueSpan['innerText']=_0xc50237;const _0x190e9d=Math[_0x5db2d5(0x1fd)](impedanceZ_imag)<1e-9;if(_0x190e9d){if(_0x2d3ef2)_0x2d3ef2[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x1e0);}else{if(_0x2d3ef2){const _0x16a3e4=_0x5db2d5(0x246)+_0xc9486c+'^2\x20+\x20'+_0x5b2ae1+_0x5db2d5(0x2b2),_0x1cc9c4=_0x5db2d5(0x2c1)+_0x5b2ae1+'}{'+_0xc9486c+_0x5db2d5(0x261),_0x312bb7=_0x2d3ef2[_0x5db2d5(0x2b7)](_0x5db2d5(0x2ee));_0x312bb7&&(_0x312bb7[_0x5db2d5(0x207)]='$$'+_0x16a3e4+_0x5db2d5(0x217)+_0x1cc9c4+'$$'),_0x2d3ef2[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x2d2);}}let _0xef6231;if(_0x190e9d)_0xef6231=_0x5db2d5(0x21c)+_0x58bf08+'}{'+_0x5c2c1d+_0x5db2d5(0x257)+_0x34a651+'}{'+_0x334c6e+_0x5db2d5(0x24b)+_0x5be8bd+_0x2d58a7;else{let _0xea1df4;impedanceZ_angle_deg<-1e-9?_0xea1df4='('+_0xc50237+_0x2d58a7+')':_0xea1df4=''+_0xc50237+_0x2d58a7,_0xef6231='I\x20=\x20\x5cfrac{U}{Z}\x20=\x20\x5cfrac{'+_0x58bf08+'}{'+_0x5c2c1d+_0x5db2d5(0x257)+_0x34a651+'}{'+_0x334c6e+_0x5db2d5(0x1ff)+_0x5be8bd+_0x2d58a7+_0x5db2d5(0x230)+_0xea1df4+')';}currentPolarFormulaSpan[_0x5db2d5(0x207)]='$$'+_0xef6231+'$$',currentPolarValueSpan['innerText']='$'+_0x5b3aed+'$';if(_0x2d23bd){const _0x3b2768=_0x5db2d5(0x2a6)+_0x43f0f6+_0x5db2d5(0x24f)+_0x3829c0+_0x2d58a7+_0x5db2d5(0x208)+_0x3829c0+_0x2d58a7+'))',_0x12469c=_0x2d23bd[_0x5db2d5(0x2b7)](_0x5db2d5(0x1ee)),_0x36b750=_0x2d23bd[_0x5db2d5(0x2b7)]('#current-rect-value');if(_0x12469c)_0x12469c[_0x5db2d5(0x207)]='$$'+_0x3b2768+'$$';if(_0x36b750)_0x36b750[_0x5db2d5(0x206)]='$'+_0x307c79+'$';_0x2d23bd[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x2d2);}finalCurrentValueSpan[_0x5db2d5(0x206)]='$'+_0x5b3aed+'$',typeof MathJax!==_0x5db2d5(0x276)&&MathJax[_0x5db2d5(0x20a)]?MathJax['typesetPromise']([resultsArea])['catch'](function(_0x3aaf4d){console['error']('MathJax\x20Typesetting\x20Error:',_0x3aaf4d);}):console[_0x5db2d5(0x21a)](_0x5db2d5(0x24a));}else{errorMessageElement[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x1e0),_0x48614e[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x1e0),needsCalcMessageElement[_0x5db2d5(0x204)][_0x5db2d5(0x260)]=_0x5db2d5(0x2d2);if(_0x2d3ef2)_0x2d3ef2['style'][_0x5db2d5(0x260)]=_0x5db2d5(0x1e0);if(_0x2d23bd)_0x2d23bd[_0x5db2d5(0x204)][_0x5db2d5(0x260)]='none';}}}function updateLayout(){const _0x597500=_0x386d85,_0x1aefd6=window[_0x597500(0x28e)],_0x4a8027=0x301,_0x1d41b6=_0x1aefd6>=_0x4a8027;if(_0x1d41b6!==isHorizontalLayout){isHorizontalLayout=_0x1d41b6,console[_0x597500(0x1ec)](_0x597500(0x1f0),isHorizontalLayout?_0x597500(0x21f):_0x597500(0x23e));if(appContainer){appContainer[_0x597500(0x27d)]['toggle'](_0x597500(0x20f),isHorizontalLayout),appContainer['classList'][_0x597500(0x1f6)]('layout-vertical',!isHorizontalLayout);const _0x4efc8b=document[_0x597500(0x268)](_0x597500(0x2b6)),_0x4baf80=document[_0x597500(0x268)](_0x597500(0x2ca));_0x4efc8b&&(_0x4efc8b['classList'][_0x597500(0x1f6)](_0x597500(0x20f),isHorizontalLayout),_0x4efc8b[_0x597500(0x27d)][_0x597500(0x1f6)]('layout-vertical',!isHorizontalLayout)),_0x4baf80&&(_0x4baf80[_0x597500(0x27d)][_0x597500(0x1f6)](_0x597500(0x20f),isHorizontalLayout),_0x4baf80[_0x597500(0x27d)][_0x597500(0x1f6)](_0x597500(0x282),!isHorizontalLayout));}updateGraphHint(),(showPolarMaximized||showSineMaximized)&&handleCloseMaximizedGraph();}updateGraphHint();}function handleResize(){const _0x25f231=_0x386d85;updateLayout();if(p5Canvas&&typeof window[_0x25f231(0x1f7)]!==_0x25f231(0x276)&&window[_0x25f231(0x1f7)][_0x25f231(0x2a5)]&&canvasContainer){const _0x2611b3=canvasContainer[_0x25f231(0x262)]-0x2,_0x226916=canvasContainer[_0x25f231(0x2a3)]-0x2;_0x2611b3>0x0&&_0x226916>0x0?(p5Canvas[_0x25f231(0x2cb)]!==_0x2611b3||p5Canvas[_0x25f231(0x1ea)]!==_0x226916)&&(console[_0x25f231(0x1ec)](_0x25f231(0x27c)+_0x2611b3+'x'+_0x226916),window[_0x25f231(0x1f7)][_0x25f231(0x2a5)](_0x2611b3,_0x226916),window[_0x25f231(0x1f7)][_0x25f231(0x244)]()?window[_0x25f231(0x1f7)][_0x25f231(0x22a)]():window[_0x25f231(0x1f7)][_0x25f231(0x22a)]()):console[_0x25f231(0x21a)](_0x25f231(0x2c2));}}function formatNumber(_0x38de0a,_0x14c8c9=0x2){const _0x14f467=_0x386d85;if(!isFinite(_0x38de0a))return _0x38de0a[_0x14f467(0x1f4)]();if(Math[_0x14f467(0x1fd)](_0x38de0a)<0.000001&&Math[_0x14f467(0x1fd)](_0x38de0a)>0x0)return _0x38de0a[_0x14f467(0x2d4)](_0x14c8c9);if(Math[_0x14f467(0x1fd)](_0x38de0a)>0x3b9aca00)return _0x38de0a[_0x14f467(0x2d4)](_0x14c8c9);const _0x339a85={};_0x339a85[_0x14f467(0x236)]=0x0,_0x339a85[_0x14f467(0x20b)]=_0x14c8c9,_0x339a85[_0x14f467(0x211)]=![];let _0xdf93df=_0x339a85,_0x2739ca=parseFloat(_0x38de0a['toFixed'](_0x14c8c9));if(Object['is'](_0x2739ca,-0x0))_0x2739ca=0x0;return _0x2739ca[_0x14f467(0x224)]('en',_0xdf93df);}function _0x4dce(){const _0x3b01a6=['p5_axisIm','app-container','textFont','canvas-container','p5_fixInputError','CENTER','p5_currentLabel','3887070vrgKnb','Phase\x20Current\x20Calculator\x20(HTML+MathJax+p5)','angleLabel','Current\x20I\x20Calculation\x20(Rectangular\x20Form):','textSize','#impedance-polar-formula','Checking\x20first\x20preferred\x20language:','errorInvalidInput','stroke','input','Вхідні\x20дані:','finalCurrentLabel','tagName','p5_notEnoughSpace','none','3760VRNbpp','unitOhm','current-rect-formula','errorZeroImpedance','...',',\x20XL=','Phase:','3π/2','Current','height','setLineDash','log','Missing\x20translation\x20for\x20key:\x20','#current-rect-formula','textAlign','Layout\x20changed\x20to:','sine','\x20\x5cangle\x20','Phase\x20Voltage:','toString','r-input','toggle','p5Instance','getAttribute','Fatal\x20Error:\x20Could\x20not\x20find\x20all\x20required\x20HTML\x20elements!','Індуктивний\x20XL:','target','translate','abs','#337AFF','}\x20\x5cright)\x20\x5cangle\x20(','arc','impedance-polar-calculation','borderColor','ellipse','style','Розрахунок\x20струму\x20I\x20(полярна\x20форма):','innerText','innerHTML',')\x20+\x20j\x20\x5csin(','#FF5733','typesetPromise','maximumFractionDigits','Струм\x20I\x20(А)','rotate','p5_impedanceZeroError','layout-horizontal','Is\x20mobile:','useGrouping','millis','startsWith','Voltage\x20U:','unitAmpere','Current\x20I','$$\x20$$','mouseX','Small\x20Sine\x20Graph\x20clicked\x20-\x20maximizing\x20(Mobile/Vertical)...','warn','Current\x20I\x20Calculation\x20(Polar\x20Form):','I\x20=\x20\x5cfrac{U}{Z}\x20=\x20\x5cfrac{','Помилка:\x20Імпеданс\x20Z\x20=\x200','phaseVoltageLabel','Horizontal','max',',\x20XC=','mouseY','7773804LfDMEb','toLocaleString','Calculation\x20Error','strokeWeight','addEventListener','errorInvalidInputPrefix','Voltage\x20U\x20(V)','redraw','number','ms)','p5_legendCurrent',',\x20Phase=','radians','\x20-\x20','setAlpha','Click\x20on\x20maximized\x20graph\x20-\x20closing...','Final\x20language\x20selected:','sqrt','Browser\x20languages\x20reported:','minimumFractionDigits','draw','push','error-message','text','impedance-mag-value','noFill','noStroke','Vertical','Δφ\x20≈','BOTTOM','data-lang-key','line','LEFT','isLooping','needsCalcMessage','|Z|\x20=\x20\x5csqrt{R^2\x20+\x20X^2}\x20=\x20\x5csqrt{','xcLabel','Калькулятор\x20струму\x20(HTML+MathJax+p5)','polar','MathJax\x20not\x20fully\x20loaded\x20or\x20typesetPromise\x20not\x20available\x20yet.','}\x20\x5cright)\x20\x5cangle\x20','drawingContext','red','phaseLabel','\x20(\x5ccos(','[data-lang-key]','xlLabel','Resistance\x20R:','Недостатньо\x20місця\x20для\x20графіків','7602AOJRDv','Arial','languages','}\x20=\x20\x5cleft(\x20\x5cfrac{','70ROwifQ','p5_currentAxisLabel','DOMContentLoaded','graph-hint','unitVolt','31197TYKaOy','impedance-rect-formula','querySelectorAll','display','}\x5cright)','clientWidth','Розрахунок\x20струму\x20I\x20(прямокутна\x20форма):','I\x20=\x200\x20А','label[for=\x22','Performing\x20calculation\x20with:\x20U=','p5_axisRe','getElementById','BOLD','p5_currentZero','calculation-steps','Error:\x20Impedance\x20Z\x20=\x200','results-area','Waiting\x20for\x20calculation...','DoubleClick\x20debounced','Input\x20Data:','TWO_PI','p5_voltageAxisLabel','p5_legendVoltage','resultsTitle','Z\x20Calculation\x20(Polar\x20Form):','undefined','p5.js\x20setup\x20complete.','pow','Напруга\x20U\x20(В)','graphHint','change','Resizing\x20p5\x20canvas\x20to\x20','classList','Помилка:\x20Ділення\x20на\x20нуль\x20(Імпеданс\x20Z\x20=\x200)','error','currentPolarCalcLabel','Введіть\x20дані\x20та/або\x20натисніть\x20\x27Розрахувати\x27\x20(зміна\x20даних\x20запускає\x20розрахунок).','layout-vertical','cos','vertex','Векторна\x20діаграма\x20струму','HALF_PI','Phase\x20Impedance:','Помилка\x20вводу:\x20Некоректне\x20значення\x20для','impedancePolarCalcLabel','lang','impedance-rect-value','pixelDensity','voltageLabel','innerWidth','rect','p5_phaseDiffLabel','background','length','TOP','p5_errorCalculating','Напруга\x20U','State:\x20Maximized\x20graphs\x20closed.','p5_waitingCalculation','NORMAL','userAgent','title','min','impedance-angle-value','currentRectCalcLabel','triangle','Імпеданс\x20фази:','phaseImpedanceLabel','(Click\x20on\x20the\x20graph\x20to\x20maximize)','phase-select','clientHeight','#333333','resizeCanvas','I\x20=\x20|I|\x20(\x5ccos(\x5cphi_I)\x20+\x20j\x20\x5csin(\x5cphi_I))\x20=\x20','Напруга\x20U:','1850196gGpckr','),\x20R=','pop','Calculation:','language','Please\x20correct\x20the\x20input\x20data\x20error.','Capacitive\x20XC:','Активний\x20R:','fill','impedance-polar-formula','^2}','Кут:','State:\x20showSineMaximized\x20=\x20true','Input\x20Error:\x20Invalid\x20value\x20for','info-panel','querySelector','Small\x20Polar\x20Graph\x20clicked\x20-\x20maximizing\x20(Mobile/Vertical)...','Error:\x20Division\x20by\x20zero\x20(Impedance\x20Z\x20=\x200)','p5_vectorDiagramTitle','Фаза:','#AAAAAA','unitDegree','<h1\x20style=\x22color:red;\x22>Fatal\x20Error:\x20HTML\x20structure\x20mismatch.\x20Check\x20element\x20IDs.</h1>','TITLE','voltage-input','\x5cphi_Z\x20=\x20\x5carctan\x5cleft(\x5cfrac{X}{R}\x5cright)\x20=\x20\x5carctan\x5cleft(\x5cfrac{','Canvas\x20container\x20has\x20zero\x20dimensions,\x20cannot\x20resize\x20p5\x20canvas.','current-polar-value','1931460DcvCTZ','π/2','userLanguage','xl-input','Помилка\x20в\x20розрахунку','inputDataTitle','graph-panel-container','width','pageTitle','896779LUQdTR','xc-input','value','color','Final\x20Current:','block','No\x20languages\x20reported\x20by\x20browser,\x20defaulting\x20to\x20\x27en\x27.','toExponential','Current\x20Vector\x20Diagram','Double-click\x20on\x20maximized\x20graph\x20-\x20closing...','map','Напруга\x20фази:','sin','beginShape','Voltage\x20U','textStyle','Angle:','documentElement','p5_sineGraphTitle','Виправте\x20помилку\x20вводу\x20даних.','Not\x20enough\x20space\x20for\x20graphs'];_0x4dce=function(){return _0x3b01a6;};return _0x4dce();}function formatComplexLatex(_0x1b8017,_0x5888f2,_0x536ba2=0x2){const _0x1e1632=_0x386d85;let _0x3cab93=formatNumber(_0x1b8017,_0x536ba2),_0x234b44=formatNumber(Math[_0x1e1632(0x1fd)](_0x5888f2),_0x536ba2);if(Math['abs'](_0x5888f2)<1e-9)return _0x3cab93;else{const _0x27354a=_0x5888f2<0x0?'-':'+';return _0x3cab93+'\x20'+_0x27354a+'\x20j'+_0x234b44;}}function updateGraphHint(){const _0xe0e1c3=_0x386d85;graphHintElement&&(isMobile&&!isHorizontalLayout?graphHintElement[_0xe0e1c3(0x204)][_0xe0e1c3(0x260)]=_0xe0e1c3(0x2d2):graphHintElement[_0xe0e1c3(0x204)]['display']=_0xe0e1c3(0x1e0));}const sketch=_0x26fdc7=>{const _0x26dc60=_0x386d85;window[_0x26dc60(0x1f7)]=_0x26fdc7,_0x26fdc7['setup']=()=>{const _0x3d7ed7=_0x26dc60;p5Canvas=_0x26fdc7['createCanvas'](0x64,0x64),p5Canvas['parent'](_0x3d7ed7(0x2e5)),_0x26fdc7[_0x3d7ed7(0x2e4)](_0x3d7ed7(0x255)),_0x26fdc7[_0x3d7ed7(0x28c)](_0x26fdc7['displayDensity']()),handleResize(),console[_0x3d7ed7(0x1ec)](_0x3d7ed7(0x277));},_0x26fdc7[_0x26dc60(0x237)]=()=>{const _0x3da6c8=_0x26dc60;_0x26fdc7[_0x3da6c8(0x291)](COLOR_BG_P5);if(!calculated||calculationErrorKey){_0x26fdc7['push'](),_0x26fdc7[_0x3da6c8(0x2b0)](COLOR_TEXT_P5),_0x26fdc7[_0x3da6c8(0x1ef)](_0x26fdc7['CENTER'],_0x26fdc7[_0x3da6c8(0x2e7)]),_0x26fdc7[_0x3da6c8(0x2ed)](0xe);let _0x4ae111=_0x3da6c8(0x297);if(calculationErrorKey)switch(calculationErrorKey){case _0x3da6c8(0x1d9):_0x4ae111=_0x3da6c8(0x2e6);break;case _0x3da6c8(0x1e4):_0x4ae111=_0x3da6c8(0x20e);break;default:_0x4ae111=_0x3da6c8(0x294);}else!calculated&&(_0x4ae111=_0x3da6c8(0x297));_0x26fdc7[_0x3da6c8(0x23a)](getText(_0x4ae111),_0x26fdc7['width']/0x2,_0x26fdc7[_0x3da6c8(0x1ea)]/0x2),_0x26fdc7[_0x3da6c8(0x2aa)](),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;return;}if(showPolarMaximized)drawPolarGraph(_0x26fdc7,_0x26fdc7[_0x3da6c8(0x2cb)],_0x26fdc7[_0x3da6c8(0x1ea)],!![]),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;else{if(showSineMaximized)drawSineGraph(_0x26fdc7,_0x26fdc7[_0x3da6c8(0x2cb)],_0x26fdc7['height'],!![]),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;else{let _0x5029c4=_0x26fdc7[_0x3da6c8(0x2cb)],_0x2b2fb7=_0x26fdc7[_0x3da6c8(0x1ea)],_0x5ce7fc=0x3c;if(_0x5029c4>_0x5ce7fc&&_0x2b2fb7>_0x5ce7fc){drawGraphsArea(_0x26fdc7,_0x5029c4,_0x2b2fb7,![],!isHorizontalLayout);let _0x2bf98d=0x8,_0xe64916=_0x5029c4-0x2*_0x2bf98d,_0x3d23c1=_0x2b2fb7-0x2*_0x2bf98d,_0x5beff9=0x1e,_0x4c4440=0x14,_0xa5e13c=_0x3d23c1-_0x5beff9*0x2-_0x4c4440;if(_0xa5e13c>0x14){let _0x2436d1,_0x45786a;const _0x35933b=Math[_0x3da6c8(0x220)](0.1,SINE_GRAPH_VERTICAL_SCALE_SMALL),_0x1f312f=0x1+_0x35933b;!isHorizontalLayout?(_0x2436d1=_0xa5e13c/_0x1f312f,_0x45786a=_0xa5e13c*_0x35933b/_0x1f312f):(_0x2436d1=_0xa5e13c/0x2,_0x45786a=_0xa5e13c/0x2);const _0x2e1140={};_0x2e1140['x']=_0x2bf98d,_0x2e1140['y']=_0x2bf98d+_0x5beff9,_0x2e1140['w']=_0xe64916,_0x2e1140['h']=_0x2436d1,smallPolarGraphClickRect=_0x2e1140;const _0x6a6d7e={};_0x6a6d7e['x']=_0x2bf98d,_0x6a6d7e['y']=_0x2bf98d+_0x5beff9+_0x2436d1+_0x4c4440+_0x5beff9,_0x6a6d7e['w']=_0xe64916,_0x6a6d7e['h']=_0x45786a,smallSineGraphClickRect=_0x6a6d7e;}else smallPolarGraphClickRect=null,smallSineGraphClickRect=null;}else smallPolarGraphClickRect=null,smallSineGraphClickRect=null;}}},_0x26fdc7['mousePressed']=()=>{handleP5MousePress(_0x26fdc7);},_0x26fdc7['doubleClicked']=()=>{handleP5DoubleClick(_0x26fdc7);};};function handleP5MousePress(_0x3dfd97){const _0x348b8e=_0x386d85;let _0x45beea=_0x3dfd97[_0x348b8e(0x212)]();if(_0x45beea-lastInteractionTime<INTERACTION_DEBOUNCE_DELAY){console[_0x348b8e(0x1ec)]('Interaction\x20debounced\x20(time\x20diff:\x20'+(_0x45beea-lastInteractionTime)+_0x348b8e(0x22c));return;}let _0x3e347b=_0x3dfd97[_0x348b8e(0x218)],_0x18e20b=_0x3dfd97[_0x348b8e(0x222)];if(showPolarMaximized||showSineMaximized){console[_0x348b8e(0x1ec)](_0x348b8e(0x232)),handleCloseMaximizedGraph(),lastInteractionTime=_0x45beea;return;}const _0x15b7fc=isMobile&&!isHorizontalLayout;if(!_0x15b7fc)return;if(calculated&&!calculationErrorKey){let _0x32e2cc=![];if(smallPolarGraphClickRect&&isClickInsideRect(_0x3e347b,_0x18e20b,smallPolarGraphClickRect))console[_0x348b8e(0x1ec)](_0x348b8e(0x2b8)),handleOpenMaximizedGraph(_0x348b8e(0x249)),_0x32e2cc=!![];else smallSineGraphClickRect&&isClickInsideRect(_0x3e347b,_0x18e20b,smallSineGraphClickRect)&&(console[_0x348b8e(0x1ec)](_0x348b8e(0x219)),handleOpenMaximizedGraph(_0x348b8e(0x1f1)),_0x32e2cc=!![]);_0x32e2cc&&(lastInteractionTime=_0x45beea);}}function handleP5DoubleClick(_0x16a146){const _0x38de6f=_0x386d85;let _0x288a2e=_0x16a146[_0x38de6f(0x212)]();if(_0x288a2e-lastInteractionTime<INTERACTION_DEBOUNCE_DELAY){console[_0x38de6f(0x1ec)](_0x38de6f(0x26f));return;}(showPolarMaximized||showSineMaximized)&&(console[_0x38de6f(0x1ec)](_0x38de6f(0x2d6)),handleCloseMaximizedGraph(),lastInteractionTime=_0x288a2e);}function _0x33da(_0x14805c,_0xd465f){const _0x4dce07=_0x4dce();return _0x33da=function(_0x33dac1,_0x139687){_0x33dac1=_0x33dac1-0x1d8;let _0x110f76=_0x4dce07[_0x33dac1];return _0x110f76;},_0x33da(_0x14805c,_0xd465f);}function handleOpenMaximizedGraph(_0x2ba7b0){const _0x5351be=_0x386d85;if(_0x2ba7b0===_0x5351be(0x249)&&showPolarMaximized||_0x2ba7b0===_0x5351be(0x1f1)&&showSineMaximized)return;if(_0x2ba7b0===_0x5351be(0x249))showPolarMaximized=!![],showSineMaximized=![],console[_0x5351be(0x1ec)]('State:\x20showPolarMaximized\x20=\x20true');else{if(_0x2ba7b0===_0x5351be(0x1f1))showSineMaximized=!![],showPolarMaximized=![],console['log'](_0x5351be(0x2b4));else return;}updateGraphHint(),typeof window[_0x5351be(0x1f7)]!==_0x5351be(0x276)&&(window['p5Instance']['loop'](),window[_0x5351be(0x1f7)]['redraw']());}function handleCloseMaximizedGraph(){const _0x3ebe5f=_0x386d85;if(!showPolarMaximized&&!showSineMaximized)return;showPolarMaximized=![],showSineMaximized=![],console[_0x3ebe5f(0x1ec)](_0x3ebe5f(0x296)),updateGraphHint(),typeof window[_0x3ebe5f(0x1f7)]!==_0x3ebe5f(0x276)&&window[_0x3ebe5f(0x1f7)]['redraw']();}function isClickInsideRect(_0x28e021,_0x3f276a,_0x36a862){const _0x5729e2=_0x386d85;if(!_0x36a862)return![];if(typeof _0x36a862['x']!==_0x5729e2(0x22b)||typeof _0x36a862['y']!==_0x5729e2(0x22b)||typeof _0x36a862['w']!==_0x5729e2(0x22b)||typeof _0x36a862['h']!==_0x5729e2(0x22b))return console[_0x5729e2(0x21a)]('Invalid\x20rect\x20object\x20passed\x20to\x20isClickInsideRect:',_0x36a862),![];return _0x28e021>=_0x36a862['x']&&_0x28e021<=_0x36a862['x']+_0x36a862['w']&&_0x3f276a>=_0x36a862['y']&&_0x3f276a<=_0x36a862['y']+_0x36a862['h'];}function drawGraphsArea(_0xc13c67,_0x5f4b26,_0x3ee625,_0x3d74f9,_0x3dbfcc=![]){const _0x371828=_0x386d85;_0xc13c67[_0x371828(0x238)]();let _0x54061c=_0x3d74f9?0x28:0x8,_0x4b95fc=_0x5f4b26-0x2*_0x54061c,_0x61517=_0x3ee625-0x2*_0x54061c,_0xd87a7e=0x1e,_0x327343=0x14,_0x591a07=_0xd87a7e*0x2+_0x327343+0x28;if(_0x4b95fc<=0x0||_0x61517<_0x591a07){_0xc13c67[_0x371828(0x238)](),_0xc13c67[_0x371828(0x2b0)](COLOR_TEXT_P5),_0xc13c67[_0x371828(0x1ef)](_0xc13c67[_0x371828(0x2e7)],_0xc13c67[_0x371828(0x2e7)]),_0xc13c67['textSize'](0xe),_0xc13c67[_0x371828(0x23a)](getText(_0x371828(0x1df)),_0x5f4b26/0x2,_0x3ee625/0x2),_0xc13c67['pop'](),_0xc13c67['pop']();return;}let _0x1c9269=_0x61517-_0xd87a7e*0x2-_0x327343,_0x313eb3,_0x12b1f7;const _0x2b9bce=Math['max'](0.1,SINE_GRAPH_VERTICAL_SCALE_SMALL),_0x3ee571=0x1+_0x2b9bce;_0x3dbfcc&&!_0x3d74f9?(_0x313eb3=_0x1c9269/_0x3ee571,_0x12b1f7=_0x1c9269*_0x2b9bce/_0x3ee571):(_0x313eb3=_0x1c9269/0x2,_0x12b1f7=_0x1c9269/0x2),_0xc13c67['translate'](_0x54061c,_0x54061c),_0xc13c67['push'](),_0xc13c67[_0x371828(0x2b0)](COLOR_TEXT_P5),_0xc13c67[_0x371828(0x2ed)](_0x3d74f9?0x12:0xe),_0xc13c67[_0x371828(0x1ef)](_0xc13c67[_0x371828(0x2e7)],_0xc13c67['TOP']),_0xc13c67[_0x371828(0x23a)](getText('p5_vectorDiagramTitle'),_0x4b95fc/0x2,0x0),_0xc13c67[_0x371828(0x1fc)](0x0,_0xd87a7e),_0x313eb3>0x14?drawPolarGraph(_0xc13c67,_0x4b95fc,_0x313eb3,_0x3d74f9):_0xc13c67[_0x371828(0x23a)](_0x371828(0x1e5),_0x4b95fc/0x2,_0x313eb3/0x2),_0xc13c67[_0x371828(0x2aa)](),_0xc13c67[_0x371828(0x238)](),_0xc13c67[_0x371828(0x1fc)](0x0,_0xd87a7e+_0x313eb3+_0x327343),_0xc13c67[_0x371828(0x2b0)](COLOR_TEXT_P5),_0xc13c67[_0x371828(0x2ed)](_0x3d74f9?0x12:0xe),_0xc13c67[_0x371828(0x1ef)](_0xc13c67[_0x371828(0x2e7)],_0xc13c67[_0x371828(0x293)]),_0xc13c67[_0x371828(0x23a)](getText(_0x371828(0x2df)),_0x4b95fc/0x2,0x0),_0xc13c67[_0x371828(0x1fc)](0x0,_0xd87a7e),_0x12b1f7>0x14?drawSineGraph(_0xc13c67,_0x4b95fc,_0x12b1f7,_0x3d74f9):_0xc13c67[_0x371828(0x23a)](_0x371828(0x1e5),_0x4b95fc/0x2,_0x12b1f7/0x2),_0xc13c67[_0x371828(0x2aa)](),_0xc13c67['pop']();}function drawPolarGraph(_0x291ee4,_0x50dd6e,_0xae9fca,_0x5f4660){const _0x24e35e=_0x386d85;_0x291ee4['push'](),_0x291ee4[_0x24e35e(0x1fc)](_0x50dd6e/0x2,_0xae9fca/0x2);let _0x515fa4=_0x291ee4[_0x24e35e(0x29b)](_0x50dd6e,_0xae9fca)/0x2*(_0x5f4660?0.9:0.85),_0x512824=currentI_mag,_0x2ea1e1=_0x291ee4[_0x24e35e(0x22f)](currentI_angle_deg),_0x172a9e=0x1;if(_0x512824>1e-9&&_0x515fa4>0xa){let _0x341135=_0x515fa4*0.75;_0x172a9e=_0x341135/_0x512824;let _0x5618c7=0.01;_0x512824<_0x5618c7&&(_0x172a9e=_0x341135/_0x5618c7),_0x172a9e=_0x291ee4['max'](0.01,_0x172a9e);}else{if(_0x515fa4<=0xa){_0x291ee4[_0x24e35e(0x2aa)]();return;}else _0x512824=0x0;}_0x291ee4[_0x24e35e(0x23d)](),_0x291ee4[_0x24e35e(0x2b0)](0xff,0xff,0xff,0x96),_0x291ee4[_0x24e35e(0x203)](0x0,0x0,_0x515fa4*2.1,_0x515fa4*2.1),_0x291ee4[_0x24e35e(0x23c)]();let _0x46f6c7=_0x291ee4[_0x24e35e(0x2d0)](COLOR_GRAPH_AXES);_0x46f6c7['setAlpha'](0x3c),_0x291ee4[_0x24e35e(0x1da)](_0x46f6c7),_0x291ee4[_0x24e35e(0x226)](0.5);let _0x3484b8=0x5;for(let _0x28c001=0x1;_0x28c001<=_0x3484b8;_0x28c001++){let _0x333984=_0x515fa4*(_0x28c001/_0x3484b8);_0x291ee4[_0x24e35e(0x203)](0x0,0x0,_0x333984*0x2,_0x333984*0x2);}for(let _0x2c9bf2=0x0;_0x2c9bf2<0x168;_0x2c9bf2+=0x1e){let _0x11b660=_0x291ee4['radians'](_0x2c9bf2);_0x291ee4['stroke'](_0x46f6c7),_0x291ee4[_0x24e35e(0x226)](0.5),_0x291ee4[_0x24e35e(0x242)](0x0,0x0,_0x291ee4[_0x24e35e(0x283)](_0x11b660)*_0x515fa4,_0x291ee4[_0x24e35e(0x2d9)](_0x11b660)*_0x515fa4);if(_0x515fa4>0x1e&&_0x2c9bf2%0x5a!==0x0){_0x291ee4[_0x24e35e(0x238)](),_0x291ee4['noStroke'](),_0x291ee4[_0x24e35e(0x2b0)](COLOR_GRAPH_AXES),_0x291ee4[_0x24e35e(0x1ef)](_0x291ee4[_0x24e35e(0x2e7)],_0x291ee4[_0x24e35e(0x2e7)]),_0x291ee4[_0x24e35e(0x2ed)](_0x291ee4[_0x24e35e(0x220)](0x9,_0x515fa4*0.1));let _0x19e886=_0x515fa4+_0x291ee4[_0x24e35e(0x220)](0xa,_0x515fa4*0.15);_0x291ee4[_0x24e35e(0x23a)](_0x2c9bf2+getText('unitDegree'),_0x291ee4[_0x24e35e(0x283)](_0x11b660)*_0x19e886,_0x291ee4[_0x24e35e(0x2d9)](_0x11b660)*_0x19e886),_0x291ee4[_0x24e35e(0x2aa)]();}}_0x291ee4[_0x24e35e(0x1da)](COLOR_GRAPH_AXES),_0x291ee4['strokeWeight'](1.5);let _0xf41742=_0x515fa4*1.1;_0x291ee4['line'](-_0xf41742,0x0,_0xf41742,0x0),_0x291ee4['line'](0x0,-_0xf41742,0x0,_0xf41742);_0x515fa4>0x14&&(_0x291ee4['fill'](COLOR_GRAPH_AXES),_0x291ee4[_0x24e35e(0x23d)](),_0x291ee4[_0x24e35e(0x2ed)](_0x291ee4[_0x24e35e(0x220)](0xa,_0x515fa4*0.12)),_0x291ee4['textStyle'](_0x291ee4[_0x24e35e(0x269)]),_0x291ee4[_0x24e35e(0x1ef)](_0x291ee4['LEFT'],_0x291ee4[_0x24e35e(0x2e7)]),_0x291ee4['text'](getText(_0x24e35e(0x267)),_0xf41742+0x5,0x0),_0x291ee4[_0x24e35e(0x1ef)](_0x291ee4[_0x24e35e(0x2e7)],_0x291ee4[_0x24e35e(0x240)]),_0x291ee4[_0x24e35e(0x23a)](getText(_0x24e35e(0x2e2)),0x0,-_0xf41742-0x5),_0x291ee4[_0x24e35e(0x2dc)](_0x291ee4[_0x24e35e(0x298)]));if(_0x512824>0x0&&_0x172a9e>0x0){let _0x3b019b=_0x512824*_0x291ee4[_0x24e35e(0x283)](_0x2ea1e1)*_0x172a9e,_0x2afd46=_0x512824*_0x291ee4[_0x24e35e(0x2d9)](_0x2ea1e1)*_0x172a9e;_0x515fa4>0x28&&(_0x291ee4[_0x24e35e(0x238)](),_0x291ee4[_0x24e35e(0x1da)](COLOR_PROJECTION),_0x291ee4['strokeWeight'](1.5),_0x291ee4[_0x24e35e(0x24c)][_0x24e35e(0x1eb)]([0x4,0x3]),_0x291ee4['line'](_0x3b019b,_0x2afd46,_0x3b019b,0x0),_0x291ee4[_0x24e35e(0x242)](_0x3b019b,_0x2afd46,0x0,_0x2afd46),_0x291ee4['drawingContext'][_0x24e35e(0x1eb)]([]),_0x291ee4[_0x24e35e(0x2aa)]());_0x291ee4[_0x24e35e(0x1da)](COLOR_VECTOR_CURRENT),_0x291ee4[_0x24e35e(0x226)](_0x291ee4[_0x24e35e(0x220)](0x2,_0x515fa4*0.05)),_0x291ee4['line'](0x0,0x0,_0x3b019b,_0x2afd46),_0x291ee4['push'](),_0x291ee4[_0x24e35e(0x1fc)](_0x3b019b,_0x2afd46),_0x291ee4[_0x24e35e(0x20d)](_0x2ea1e1),_0x291ee4[_0x24e35e(0x2b0)](COLOR_VECTOR_CURRENT),_0x291ee4[_0x24e35e(0x23d)]();let _0x2eaa10=_0x291ee4[_0x24e35e(0x220)](0x6,_0x515fa4*0.1);_0x291ee4[_0x24e35e(0x29e)](0x0,0x0,-_0x2eaa10,-_0x2eaa10/0x2,-_0x2eaa10,_0x2eaa10/0x2),_0x291ee4['pop']();if(_0x515fa4>0x32&&_0x291ee4[_0x24e35e(0x1fd)](_0x2ea1e1)>0.01){let _0x38858a=_0x515fa4*0.25;_0x291ee4[_0x24e35e(0x23c)]();let _0x37d81c=_0x291ee4['color'](COLOR_GRAPH_AXES);_0x37d81c[_0x24e35e(0x231)](0xb4),_0x291ee4[_0x24e35e(0x1da)](_0x37d81c),_0x291ee4[_0x24e35e(0x226)](0x1),_0x291ee4[_0x24e35e(0x200)](0x0,0x0,_0x38858a*0x2,_0x38858a*0x2,0x0,_0x2ea1e1),_0x291ee4[_0x24e35e(0x2b0)](COLOR_TEXT_P5),_0x291ee4[_0x24e35e(0x23d)](),_0x291ee4[_0x24e35e(0x2ed)](_0x291ee4[_0x24e35e(0x220)](0x9,_0x515fa4*0.1)),_0x291ee4[_0x24e35e(0x1ef)](_0x291ee4[_0x24e35e(0x2e7)],_0x291ee4['CENTER']);let _0x2af2e3=_0x38858a*1.6;_0x291ee4[_0x24e35e(0x23a)](''+formatNumber(currentI_angle_deg,0x1)+getText(_0x24e35e(0x2bd)),_0x291ee4[_0x24e35e(0x283)](_0x2ea1e1/0x2)*_0x2af2e3,_0x291ee4[_0x24e35e(0x2d9)](_0x2ea1e1/0x2)*_0x2af2e3);}_0x515fa4>0x3c&&(_0x291ee4[_0x24e35e(0x238)](),_0x291ee4[_0x24e35e(0x1fc)](_0x3b019b/0x2,_0x2afd46/0x2),_0x291ee4[_0x24e35e(0x20d)](_0x2ea1e1),_0x291ee4['fill'](COLOR_TEXT_P5),_0x291ee4[_0x24e35e(0x23d)](),_0x291ee4['textSize'](_0x291ee4[_0x24e35e(0x220)](0x9,_0x515fa4*0.1)),_0x291ee4[_0x24e35e(0x1ef)](_0x291ee4[_0x24e35e(0x2e7)],_0x291ee4[_0x24e35e(0x240)]),_0x291ee4[_0x24e35e(0x23a)](formatNumber(_0x512824)+'\x20'+getText('unitAmpere'),0x0,-0x5),_0x291ee4[_0x24e35e(0x2aa)]());}else _0x515fa4>0xa&&(_0x291ee4[_0x24e35e(0x2b0)](COLOR_VECTOR_CURRENT),_0x291ee4[_0x24e35e(0x23d)](),_0x291ee4[_0x24e35e(0x203)](0x0,0x0,_0x291ee4[_0x24e35e(0x220)](0x4,_0x515fa4*0.08),_0x291ee4[_0x24e35e(0x220)](0x4,_0x515fa4*0.08)),_0x291ee4[_0x24e35e(0x2b0)](COLOR_TEXT_P5),_0x291ee4['textAlign'](_0x291ee4[_0x24e35e(0x2e7)],_0x291ee4[_0x24e35e(0x240)]),_0x291ee4[_0x24e35e(0x2ed)](_0x291ee4[_0x24e35e(0x220)](0x9,_0x515fa4*0.1)),_0x291ee4['text'](getText(_0x24e35e(0x26a)),0x0,-0xa));_0x291ee4[_0x24e35e(0x2aa)]();}function drawSineGraph(_0x4e951e,_0x37aef6,_0x2774e2,_0x481411){const _0xf511df=_0x386d85;_0x4e951e['push']();let _0x50794c=_0x481411?SINE_GRAPH_XMARGIN_MAXIMIZED:SINE_GRAPH_XMARGIN_SMALL,_0x4e4ff4=_0x481411?SINE_GRAPH_YMARGIN_MAXIMIZED:SINE_GRAPH_YMARGIN_SMALL,_0x29682c=_0x37aef6-_0x50794c*0x2,_0x44818f=_0x2774e2-_0x4e4ff4*0x2;if(_0x29682c<=0x14||_0x44818f<=0x14){_0x4e951e[_0xf511df(0x2aa)]();return;}_0x4e951e['translate'](_0x50794c,_0x4e4ff4);let _0x21f97b=voltage,_0x473a5a=currentI_mag,_0x5a20d9=_0x4e951e[_0xf511df(0x22f)](phaseAngleDeg),_0x42ea7d=_0x4e951e[_0xf511df(0x22f)](currentI_angle_deg),_0x5312d3=_0x42ea7d-_0x5a20d9;while(_0x5312d3<=-_0x4e951e['PI'])_0x5312d3+=_0x4e951e[_0xf511df(0x271)];while(_0x5312d3>_0x4e951e['PI'])_0x5312d3-=_0x4e951e[_0xf511df(0x271)];let _0x4c6e48=_0x4e951e['max'](0x1,_0x21f97b),_0x3fd453=_0x44818f/0x2/_0x4c6e48*0.9,_0x28af3c=_0x4c6e48*_0x3fd453*0.8,_0x32e9d0=0x0;_0x473a5a>1e-9&&_0x28af3c>0x1?_0x32e9d0=_0x28af3c/_0x473a5a:(_0x473a5a=0x0,_0x28af3c=0x0,_0x32e9d0=0x0);let _0x203810=_0x29682c/_0x4e951e[_0xf511df(0x271)];_0x4e951e[_0xf511df(0x2b0)](0xf5,0xf5,0xfa,0xc8),_0x4e951e[_0xf511df(0x23d)](),_0x4e951e[_0xf511df(0x28f)](0x0,0x0,_0x29682c,_0x44818f),_0x4e951e['stroke'](0xc8,0xc8,0xdc,0x96),_0x4e951e[_0xf511df(0x226)](0.5);for(let _0x5cb33f=0x0;_0x5cb33f<=0x4;_0x5cb33f++){_0x4e951e['line'](0x0,_0x44818f*_0x5cb33f/0x4,_0x29682c,_0x44818f*_0x5cb33f/0x4),_0x4e951e['line'](_0x29682c*_0x5cb33f/0x4,0x0,_0x29682c*_0x5cb33f/0x4,_0x44818f);}_0x4e951e[_0xf511df(0x1da)](COLOR_GRAPH_AXES),_0x4e951e[_0xf511df(0x226)](1.5),_0x4e951e[_0xf511df(0x242)](0x0,_0x44818f/0x2,_0x29682c,_0x44818f/0x2),_0x4e951e['line'](0x0,0x0,0x0,_0x44818f);_0x473a5a>0x0&&_0x4e951e['line'](_0x29682c,0x0,_0x29682c,_0x44818f);_0x4e951e[_0xf511df(0x2b0)](COLOR_GRAPH_AXES),_0x4e951e[_0xf511df(0x23d)]();let _0x3cbefa=_0x4e951e['max'](0xa,_0x4e951e[_0xf511df(0x29b)](_0x29682c*0.05,_0x44818f*0.08));_0x4e951e[_0xf511df(0x2ed)](_0x3cbefa),_0x4e951e[_0xf511df(0x1ef)](_0x4e951e['CENTER'],_0x4e951e[_0xf511df(0x293)]);let _0xe1fe6f=_0x44818f/0x2+0x5;_0x4e951e[_0xf511df(0x23a)]('0',0x0,_0xe1fe6f),_0x4e951e[_0xf511df(0x23a)](_0xf511df(0x2c5),_0x29682c/0x4,_0xe1fe6f),_0x4e951e[_0xf511df(0x23a)]('π',_0x29682c/0x2,_0xe1fe6f),_0x4e951e['text'](_0xf511df(0x1e8),_0x29682c*0x3/0x4,_0xe1fe6f),_0x4e951e[_0xf511df(0x23a)]('2π',_0x29682c,_0xe1fe6f);let _0x5e26c4=_0x4e951e[_0xf511df(0x220)](0x9,_0x4e951e[_0xf511df(0x29b)](_0x29682c*0.04,_0x44818f*0.07));_0x4e951e[_0xf511df(0x2ed)](_0x5e26c4),_0x4e951e[_0xf511df(0x1ef)](_0x4e951e['RIGHT'],_0x4e951e[_0xf511df(0x2e7)]);for(let _0x526381=-0x2;_0x526381<=0x2;_0x526381++){if(_0x526381===0x0)continue;let _0x26afac=_0x526381/0x2*_0x21f97b,_0xe8ddb5=_0x44818f/0x2-_0x26afac*_0x3fd453;_0x4e951e[_0xf511df(0x23a)](formatNumber(_0x26afac,0x1),-0x5,_0xe8ddb5);}_0x4e951e[_0xf511df(0x238)](),_0x4e951e[_0xf511df(0x1fc)](-_0x50794c*0.6,_0x44818f/0x2),_0x4e951e[_0xf511df(0x20d)](-_0x4e951e[_0xf511df(0x286)]),_0x4e951e['textAlign'](_0x4e951e[_0xf511df(0x2e7)],_0x4e951e['BOTTOM']),_0x4e951e[_0xf511df(0x2b0)](COLOR_VOLTAGE_WAVE),_0x4e951e[_0xf511df(0x2dc)](_0x4e951e[_0xf511df(0x269)]),_0x4e951e[_0xf511df(0x2ed)](_0x3cbefa),_0x4e951e[_0xf511df(0x23a)](getText(_0xf511df(0x272)),0x0,0x0),_0x4e951e[_0xf511df(0x2aa)]();if(_0x473a5a>0x0&&_0x32e9d0>0x0){_0x4e951e['textAlign'](_0x4e951e[_0xf511df(0x243)],_0x4e951e[_0xf511df(0x2e7)]),_0x4e951e[_0xf511df(0x2ed)](_0x5e26c4);for(let _0x5a521f=-0x2;_0x5a521f<=0x2;_0x5a521f++){if(_0x5a521f===0x0)continue;let _0x33f41f=_0x5a521f/0x2*_0x473a5a,_0x1f0cdd=_0x44818f/0x2-_0x33f41f*_0x32e9d0;_0x4e951e[_0xf511df(0x23a)](formatNumber(_0x33f41f,0x1),_0x29682c+0x5,_0x1f0cdd);}_0x4e951e[_0xf511df(0x238)](),_0x4e951e[_0xf511df(0x1fc)](_0x29682c+_0x50794c*0.5,_0x44818f/0x2),_0x4e951e[_0xf511df(0x20d)](_0x4e951e[_0xf511df(0x286)]),_0x4e951e[_0xf511df(0x1ef)](_0x4e951e[_0xf511df(0x2e7)],_0x4e951e['BOTTOM']),_0x4e951e[_0xf511df(0x2b0)](COLOR_CURRENT_WAVE),_0x4e951e[_0xf511df(0x2dc)](_0x4e951e[_0xf511df(0x269)]),_0x4e951e['textSize'](_0x3cbefa),_0x4e951e['text'](getText(_0xf511df(0x259)),0x0,0x0),_0x4e951e[_0xf511df(0x2aa)]();}_0x4e951e[_0xf511df(0x23c)]();let _0x33c425=0xc8,_0x5674c1=_0x4e951e[_0xf511df(0x220)](1.5,_0x4e951e[_0xf511df(0x29b)](_0x29682c*0.008,_0x44818f*0.008));_0x4e951e['stroke'](COLOR_VOLTAGE_WAVE),_0x4e951e['strokeWeight'](_0x5674c1),_0x4e951e[_0xf511df(0x2da)]();for(let _0x2575cd=0x0;_0x2575cd<=_0x33c425;_0x2575cd++){let _0x1bd411=_0x4e951e[_0xf511df(0x2d7)](_0x2575cd,0x0,_0x33c425,0x0,_0x4e951e[_0xf511df(0x271)]);_0x4e951e[_0xf511df(0x284)](_0x1bd411*_0x203810,_0x44818f/0x2-_0x21f97b*_0x4e951e[_0xf511df(0x2d9)](_0x1bd411+_0x5a20d9)*_0x3fd453);}_0x4e951e['endShape']();if(_0x473a5a>0x0&&_0x32e9d0>0x0){_0x4e951e[_0xf511df(0x1da)](COLOR_CURRENT_WAVE),_0x4e951e[_0xf511df(0x226)](_0x5674c1),_0x4e951e[_0xf511df(0x2da)]();for(let _0x21a3f0=0x0;_0x21a3f0<=_0x33c425;_0x21a3f0++){let _0x37e098=_0x4e951e['map'](_0x21a3f0,0x0,_0x33c425,0x0,_0x4e951e[_0xf511df(0x271)]);_0x4e951e[_0xf511df(0x284)](_0x37e098*_0x203810,_0x44818f/0x2-_0x473a5a*_0x4e951e[_0xf511df(0x2d9)](_0x37e098+_0x42ea7d)*_0x32e9d0);}_0x4e951e['endShape']();}if(_0x29682c>0x50&&_0x44818f>0x28){_0x4e951e[_0xf511df(0x226)](0x1);let _0x205466=_0x4e951e['color'](COLOR_VOLTAGE_WAVE);_0x205466[_0xf511df(0x231)](0xb4);let _0x19101b=_0x4e951e[_0xf511df(0x2d0)](COLOR_CURRENT_WAVE);_0x19101b[_0xf511df(0x231)](0xb4),_0x4e951e[_0xf511df(0x24c)][_0xf511df(0x1eb)]([0x4,0x3]);let _0x2db3d4=_0x4e951e[_0xf511df(0x286)]-_0x5a20d9;while(_0x2db3d4<0x0)_0x2db3d4+=_0x4e951e['TWO_PI'];_0x2db3d4%=_0x4e951e[_0xf511df(0x271)];let _0x4445a8=_0x2db3d4*_0x203810,_0x32d851=_0x44818f/0x2-_0x21f97b*_0x3fd453;_0x4445a8>=0x0&&_0x4445a8<=_0x29682c&&_0x21f97b>0x0&&(_0x4e951e['stroke'](_0x205466),_0x4e951e[_0xf511df(0x242)](_0x4445a8,_0x32d851,_0x4445a8,_0x44818f/0x2));let _0x55b790=-0x1,_0x4941a5=-0x1,_0x3194e4=-0x1;if(_0x473a5a>0x0&&_0x32e9d0>0x0){_0x3194e4=_0x4e951e[_0xf511df(0x286)]-_0x42ea7d;while(_0x3194e4<0x0)_0x3194e4+=_0x4e951e[_0xf511df(0x271)];_0x3194e4%=_0x4e951e[_0xf511df(0x271)],_0x55b790=_0x3194e4*_0x203810,_0x4941a5=_0x44818f/0x2-_0x473a5a*_0x32e9d0,_0x55b790>=0x0&&_0x55b790<=_0x29682c&&(_0x4e951e['stroke'](_0x19101b),_0x4e951e[_0xf511df(0x242)](_0x55b790,_0x4941a5,_0x55b790,_0x44818f/0x2));}_0x4e951e['drawingContext'][_0xf511df(0x1eb)]([]);if(_0x4445a8>=0x0&&_0x4445a8<=_0x29682c&&_0x55b790>=0x0&&_0x55b790<=_0x29682c&&_0x4e951e[_0xf511df(0x1fd)](_0x5312d3)>0.01){_0x4e951e[_0xf511df(0x226)](_0x4e951e[_0xf511df(0x220)](1.5,_0x44818f*0.015));let _0xf394e7=COLOR_TEXT_P5;_0xf394e7=_0x5312d3>0x0?COLOR_CURRENT_WAVE:COLOR_VOLTAGE_WAVE,_0x4e951e[_0xf511df(0x1da)](_0xf394e7),_0x4e951e['line'](_0x4e951e[_0xf511df(0x29b)](_0x4445a8,_0x55b790),_0x44818f/0x2,_0x4e951e[_0xf511df(0x220)](_0x4445a8,_0x55b790),_0x44818f/0x2);let _0x3a8eeb=(_0x4445a8+_0x55b790)/0x2;_0x4e951e['abs'](_0x4445a8-_0x55b790)>_0x29682c/0x2&&(_0x3a8eeb=(_0x3a8eeb+_0x29682c/0x2)%_0x29682c);let _0x39b4a3=_0x44818f/0x2-_0x4e951e[_0xf511df(0x220)](0xc,_0x44818f*0.08);_0x4e951e['fill'](COLOR_TEXT_P5),_0x4e951e[_0xf511df(0x23d)](),_0x4e951e['textSize'](_0x4e951e['max'](0x9,_0x4e951e[_0xf511df(0x29b)](_0x29682c*0.05,_0x44818f*0.07))),_0x4e951e[_0xf511df(0x1ef)](_0x4e951e[_0xf511df(0x2e7)],_0x4e951e[_0xf511df(0x240)]),_0x4e951e[_0xf511df(0x23a)](getText(_0xf511df(0x290))+'\x20'+formatNumber(_0x4e951e['degrees'](_0x5312d3),0x1)+getText(_0xf511df(0x2bd)),_0x3a8eeb,_0x39b4a3);}}let _0x56d516=_0x481411||_0x29682c>0x96&&_0x44818f>0x64;if(_0x56d516){let _0x127404=0xa,_0x3e4a69=0xa,_0x151dec=_0x4e951e[_0xf511df(0x220)](0xf,_0x44818f*0.08),_0x149ff7=_0x4e951e[_0xf511df(0x220)](0x8,_0x44818f*0.04),_0x485bc5=_0x149ff7*1.5,_0x523d20=_0x4e951e['max'](0xa,_0x4e951e[_0xf511df(0x29b)](_0x37aef6*0.05,_0x2774e2*0.06));_0x4e951e[_0xf511df(0x2ed)](_0x523d20),_0x4e951e[_0xf511df(0x1ef)](_0x4e951e[_0xf511df(0x243)],_0x4e951e['CENTER']),_0x4e951e[_0xf511df(0x2b0)](COLOR_VOLTAGE_WAVE),_0x4e951e[_0xf511df(0x23d)](),_0x4e951e[_0xf511df(0x28f)](_0x127404,_0x3e4a69,_0x485bc5,_0x149ff7),_0x4e951e[_0xf511df(0x2b0)](COLOR_TEXT_P5),_0x4e951e[_0xf511df(0x23a)](getText(_0xf511df(0x273)),_0x127404+_0x485bc5+0x5,_0x3e4a69+_0x149ff7/0x2),_0x473a5a>0x0&&(_0x3e4a69+=_0x151dec,_0x4e951e[_0xf511df(0x2b0)](COLOR_CURRENT_WAVE),_0x4e951e[_0xf511df(0x23d)](),_0x4e951e[_0xf511df(0x28f)](_0x127404,_0x3e4a69,_0x485bc5,_0x149ff7),_0x4e951e[_0xf511df(0x2b0)](COLOR_TEXT_P5),_0x4e951e[_0xf511df(0x23a)](getText('p5_legendCurrent'),_0x127404+_0x485bc5+0x5,_0x3e4a69+_0x149ff7/0x2));}_0x4e951e['pop']();}

    </script>

        <!--
        MIT License

        Copyright (c) 2025 , 

        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:

        The above copyright notice and this permission notice shall be included in all
        copies or substantial portions of the Software.

        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
    -->  
</body>
</html>