<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=yes">    
    <meta name="author" content="">
    <meta name="license" content="https://opensource.org/licenses/MIT">    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>

        html, body {
            overscroll-behavior: none;
            -webkit-overflow-scrolling: none;
        }  

        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; 
            background-color: #f0f0f0;
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important;
            max-width: 180px !important; 
            min-width: 180px !important; 
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 740px;
            overflow-y: auto;
        }
        @media (min-height: 1100px) {
            #palette-container {
                height: 1350px !important;
            }
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        
        #canvas-container {
            /*touch-action: none;*/
            display: flex;
            flex-direction: column; 
            align-items: center; 
            -webkit-overflow-scrolling: touch; 
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2 id="palette-heading"></h2>
        <div id="palette">
        </div>
    </div>
    

    <script>

const _0x5a15da=_0x3f14;(function(_0x3b7aa9,_0x172860){const _0x226df4=_0x3f14,_0x457305=_0x3b7aa9();while(!![]){try{const _0x47d6ec=parseInt(_0x226df4(0x19d))/0x1*(parseInt(_0x226df4(0x109))/0x2)+-parseInt(_0x226df4(0x11c))/0x3*(parseInt(_0x226df4(0x118))/0x4)+parseInt(_0x226df4(0xda))/0x5*(-parseInt(_0x226df4(0x188))/0x6)+parseInt(_0x226df4(0x11d))/0x7*(-parseInt(_0x226df4(0xde))/0x8)+-parseInt(_0x226df4(0x126))/0x9+parseInt(_0x226df4(0x11f))/0xa+-parseInt(_0x226df4(0x180))/0xb*(-parseInt(_0x226df4(0x164))/0xc);if(_0x47d6ec===_0x172860)break;else _0x457305['push'](_0x457305['shift']());}catch(_0x5cdbaa){_0x457305['push'](_0x457305['shift']());}}}(_0x5063,0xd964c));let calculateBtnTitle=_0x5a15da(0x169),countDisplayText=_0x5a15da(0xed),distanceSeekText=_0x5a15da(0xdb),correctlyPlacedMsg='Елемент\x20встановлено!',enterResistancePrompt='Введіть\x20опір\x20для',enterVoltagePrompt=_0x5a15da(0x1a0),circuitNotAssembledMsg=_0x5a15da(0x15b),noTargetPointMsg=_0x5a15da(0x10e),startTestPromptMsg='Запуск\x20тесту?';const _0x57366e={};_0x57366e['i1']='I1',_0x57366e['i2']='I2',_0x57366e['i3']='I3',_0x57366e[_0x5a15da(0x152)]=_0x5a15da(0x15f);function _0x3f14(_0xb02176,_0x596519){const _0x50635b=_0x5063();return _0x3f14=function(_0x3f14be,_0x6471bd){_0x3f14be=_0x3f14be-0xda;let _0x4eeaad=_0x50635b[_0x3f14be];return _0x4eeaad;},_0x3f14(_0xb02176,_0x596519);}let currentLabelPrefix=_0x57366e;const _0x1d151d={};_0x1d151d[_0x5a15da(0x1a3)]=_0x5a15da(0x124),_0x1d151d[_0x5a15da(0x170)]=_0x5a15da(0x132),_0x1d151d[_0x5a15da(0x187)]=_0x5a15da(0x184),_0x1d151d['uxx']='Uxx\x20=';let voltageLabelPrefix=_0x1d151d,ampereUnit='A',voltUnit='В',statusE1Active=_0x5a15da(0x155),statusE2Active='Активне\x20джерело\x20ЕРС\x20Е2',statusBothActive=_0x5a15da(0x134),statusUxx=_0x5a15da(0x15d),statusIkz='Режим\x20короткого\x20замикання\x20(Iкз)';const _0x21e062={};_0x21e062['i1']='I1',_0x21e062['i2']='I2',_0x21e062['i3']='I3',_0x21e062[_0x5a15da(0x152)]=_0x5a15da(0x15f);const _0x1631b4={};_0x1631b4['ur1']=_0x5a15da(0x124),_0x1631b4['ur2']=_0x5a15da(0x132),_0x1631b4[_0x5a15da(0x187)]=_0x5a15da(0x184),_0x1631b4[_0x5a15da(0xdd)]=_0x5a15da(0x16a);function _0x5063(){const _0x2d4f57=['Uxx\x20=','toggleState','distanceSeekText','lightgray','getPositionOnPath','Елемент\x20встановлено!','ur2','LineArraySimple1','Запуск\x20тесту?','paletteIndex','state','click','elementType','postDisplay','resistance','Enter\x20resistance\x20for','calculateBtnTitle','isActive','Kirchhoff\x27s\x20Current\x20and\x20Voltage\x20Laws\x20-\x20Educational\x20Simulation\x20for\x20Students','electronRadius','Distance\x20to\x20the\x20point','Uoc\x20=','11QbqaIf','rotationAngle','calculatePathLength','floor','Ur3','isDragging','LineArray2','ur3','6NSOoSf','textSize','Determinant\x20is\x20close\x20to\x20zero.\x20System\x20might\x20be\x20ill-conditioned\x20or\x20have\x20no\x20unique\x20solution.','Circuit\x20not\x20assembled.\x20Place\x20all\x20elements\x20first.','voltageLabel','electronCount','title','electronSpeed','touchmove','Режим\x20короткого\x20замикання\x20(Iкз)','lightyellow','addEventListener','correctlyPlaced','abs','blue','isMirror','voltUnit','userAgent','reverse','sqrt','#4CAF50','616177VTRPTt','DOMContentLoaded','green','Введіть\x20напругу\x20для','placed','bottom','ur1','calculationDisplayValue','PA1','statusE1Active','lastFrameTime','2143055FzCPoO','Відстань\x20до\x20точки','currentLabel','uxx','1296SsMyBl','startTestPrompt','elt','lastToggleTime','createElement','noStroke','drawElectrons','contains','line','enterResistance','isEnabled','progress','textContent','length','845138','Потрібно\x20поставити\x20елементів','CustomAmmeter','Warning:\x20Zero\x20total\x20resistance\x20in\x20series\x20circuit\x20with\x20non-zero\x20net\x20EMF.','strokeWeight','current','LineArray1','startsWith','language','VoltageSource','electrons','SwitchSPDT','display','placedElementData','now','canvas','currentTarget','enterVoltage','type','classList','ampereUnit','palette','pop','translate','isPathActive','initElectrons','lightgreen','\x20px','Element\x20','4qpTHhq','Simultaneous\x20action\x20of\x20EMF\x20E1\x20and\x20E2','rotateClockwise','targetY','statusIkz','Точку\x20прив\x27язки\x20не\x20знайдено','div','sign','100','active','dataset','circle','fill','displayPalette','voltageDrop','4weGpwZ','warn','text','Element\x20placed\x20correctly!','640227riuZLN','35469bqNqjo','remove','1706940ipxpCS','lightcyan','toFixed','isOpen','preventDefault','Ur1','reverseDirection','14998077zcJoqN','forEach','253','random','update','Circuit\x20Elements','innerHTML','noTargetPoint','orange','Не\x20вдалося\x20знайти\x20#palette\x20для\x20очищення.','voltage','Open-circuit\x20mode\x20(Uoc)','Ur2','statusBothActive','Одночасна\x20дія\x20джерел\x20ЕРС\x20Е1\x20та\x20Е2','getActivePathPoints','setText','rect','noFill','paletteHeading','elementOrientation','targetX','textAlign','SA2','updateElectrons','palette-element','circuitNotAssembled','PA2','Введіть\x20опір\x20для','Resistor','passive','setDirection','statusUxx','statusE2Active','push','countDisplayText','Switch','isLeftPosition','add','Start\x20test?','getElementById','Experimental\x20Data','Target\x20point\x20not\x20found','rectMode','ikz','top','PA3','Активне\x20джерело\x20ЕРС\x20Е1','stroke','Активне\x20джерело\x20ЕРС\x20Е2','show','Елементи\x20схеми','SA1','Схема\x20не\x20зібрана.\x20Спочатку\x20розмістіть\x20усі\x20елементи.','SA4','Режим\x20неробочого\x20ходу\x20(Uxx)','appendChild','Iкз','orientation','isFixed','toLowerCase','SA3','31400676ejViIm','max','label','innerWidth','elementLabel','Дослідні\x20дані'];_0x5063=function(){return _0x2d4f57;};return _0x5063();}const _0x1576ef={};_0x1576ef[_0x5a15da(0x18e)]='Лабораторна\x20робота\x20з\x20електротехніки:\x20Закони\x20Кірхгофа\x20для\x20постійного\x20струму',_0x1576ef['paletteHeading']=_0x5a15da(0x159),_0x1576ef[_0x5a15da(0x17a)]=_0x5a15da(0x169),_0x1576ef[_0x5a15da(0x149)]=_0x5a15da(0xed),_0x1576ef[_0x5a15da(0x16c)]='Відстань\x20до\x20точки',_0x1576ef[_0x5a15da(0x194)]=_0x5a15da(0x16f),_0x1576ef[_0x5a15da(0xe7)]=_0x5a15da(0x142),_0x1576ef['enterVoltage']=_0x5a15da(0x1a0),_0x1576ef[_0x5a15da(0x140)]='Схема\x20не\x20зібрана.\x20Спочатку\x20розмістіть\x20усі\x20елементи.',_0x1576ef[_0x5a15da(0x12d)]=_0x5a15da(0x10e),_0x1576ef[_0x5a15da(0xdf)]='Запуск\x20тесту?',_0x1576ef[_0x5a15da(0xdc)]=_0x21e062,_0x1576ef[_0x5a15da(0x18c)]=_0x1631b4,_0x1576ef[_0x5a15da(0x100)]='A',_0x1576ef[_0x5a15da(0x198)]='В',_0x1576ef['statusE1Active']=_0x5a15da(0x155),_0x1576ef[_0x5a15da(0x147)]=_0x5a15da(0x157),_0x1576ef[_0x5a15da(0x133)]=_0x5a15da(0x134),_0x1576ef[_0x5a15da(0x146)]='Режим\x20неробочого\x20ходу\x20(Uxx)',_0x1576ef[_0x5a15da(0x10d)]=_0x5a15da(0x191);const _0x398774={};_0x398774['i1']='I1',_0x398774['i2']='I2',_0x398774['i3']='I3',_0x398774['ikz']='Isc';const _0x1cf3e2={};_0x1cf3e2['ur1']='Ur1',_0x1cf3e2[_0x5a15da(0x170)]='Ur2',_0x1cf3e2[_0x5a15da(0x187)]=_0x5a15da(0x184),_0x1cf3e2['uxx']=_0x5a15da(0x17f);const _0xc68b00={};_0xc68b00[_0x5a15da(0x18e)]=_0x5a15da(0x17c),_0xc68b00[_0x5a15da(0x139)]=_0x5a15da(0x12b),_0xc68b00[_0x5a15da(0x17a)]=_0x5a15da(0x14f),_0xc68b00[_0x5a15da(0x149)]='Items\x20remaining\x20to\x20be\x20placed',_0xc68b00[_0x5a15da(0x16c)]=_0x5a15da(0x17e),_0xc68b00[_0x5a15da(0x194)]=_0x5a15da(0x11b),_0xc68b00[_0x5a15da(0xe7)]=_0x5a15da(0x179),_0xc68b00[_0x5a15da(0xfd)]='Enter\x20voltage\x20for',_0xc68b00[_0x5a15da(0x140)]=_0x5a15da(0x18b),_0xc68b00[_0x5a15da(0x12d)]=_0x5a15da(0x150),_0xc68b00[_0x5a15da(0xdf)]=_0x5a15da(0x14d),_0xc68b00[_0x5a15da(0xdc)]=_0x398774,_0xc68b00['voltageLabel']=_0x1cf3e2,_0xc68b00[_0x5a15da(0x100)]='A',_0xc68b00[_0x5a15da(0x198)]='V',_0xc68b00['statusE1Active']='EMF\x20source\x20E1\x20active',_0xc68b00['statusE2Active']='EMF\x20source\x20E2\x20active',_0xc68b00[_0x5a15da(0x133)]=_0x5a15da(0x10a),_0xc68b00[_0x5a15da(0x146)]=_0x5a15da(0x131),_0xc68b00['statusIkz']='Short-circuit\x20mode\x20(Isc)';const _0x106c4a={};_0x106c4a['uk']=_0x1576ef,_0x106c4a['en']=_0xc68b00;const translations=_0x106c4a;function detectLanguageAndSetTitle(){const _0x240a69=_0x5a15da,_0x497a9f=navigator[_0x240a69(0xf4)][_0x240a69(0x162)](),_0x31fa6f=_0x497a9f[_0x240a69(0xf3)]('uk')||_0x497a9f['startsWith']('ua'),_0x3fc82f=_0x31fa6f?'uk':'en';return document['addEventListener'](_0x240a69(0x19e),()=>{const _0x122814=_0x240a69;document['title']=translations[_0x3fc82f][_0x122814(0x18e)];const _0x2f26ed=document['getElementById']('palette-heading');_0x2f26ed&&(_0x2f26ed[_0x122814(0xea)]=translations[_0x3fc82f][_0x122814(0x139)]),calculateBtnTitle=translations[_0x3fc82f][_0x122814(0x17a)],countDisplayText=translations[_0x3fc82f][_0x122814(0x149)],distanceSeekText=translations[_0x3fc82f]['distanceSeekText'],correctlyPlacedMsg=translations[_0x3fc82f][_0x122814(0x194)],enterResistancePrompt=translations[_0x3fc82f][_0x122814(0xe7)],enterVoltagePrompt=translations[_0x3fc82f][_0x122814(0xfd)],circuitNotAssembledMsg=translations[_0x3fc82f][_0x122814(0x140)],noTargetPointMsg=translations[_0x3fc82f]['noTargetPoint'],startTestPromptMsg=translations[_0x3fc82f]['startTestPrompt'],currentLabelPrefix=translations[_0x3fc82f][_0x122814(0xdc)],voltageLabelPrefix=translations[_0x3fc82f]['voltageLabel'],ampereUnit=translations[_0x3fc82f][_0x122814(0x100)],voltUnit=translations[_0x3fc82f][_0x122814(0x198)],statusE1Active=translations[_0x3fc82f][_0x122814(0x1a6)],statusE2Active=translations[_0x3fc82f]['statusE2Active'],statusBothActive=translations[_0x3fc82f][_0x122814(0x133)],statusUxx=translations[_0x3fc82f][_0x122814(0x146)],statusIkz=translations[_0x3fc82f][_0x122814(0x10d)];}),_0x3fc82f;}const currentLang=detectLanguageAndSetTitle(),isMobile=/Mobi|Android|iPhone|iPad|iPod/i['test'](navigator[_0x5a15da(0x199)]),isLargeMobileScreen=window[_0x5a15da(0x167)]>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[];const _0x36c8b8={};_0x36c8b8[_0x5a15da(0xfe)]='Resistor',_0x36c8b8[_0x5a15da(0x166)]='R1',_0x36c8b8[_0x5a15da(0x13b)]=0x96*SCALE_FACTOR,_0x36c8b8[_0x5a15da(0x10c)]=0x32*SCALE_FACTOR,_0x36c8b8['orientation']=0x1,_0x36c8b8['placed']=![],_0x36c8b8[_0x5a15da(0x161)]=![];const _0x1f2e3e={};_0x1f2e3e['type']=_0x5a15da(0x143),_0x1f2e3e['label']='R2',_0x1f2e3e[_0x5a15da(0x166)]='R2',_0x1f2e3e[_0x5a15da(0x13b)]=0x15e*SCALE_FACTOR,_0x1f2e3e['targetY']=0x32*SCALE_FACTOR,_0x1f2e3e[_0x5a15da(0x160)]=0x1,_0x1f2e3e['placed']=![],_0x1f2e3e[_0x5a15da(0x161)]=![];const _0xcdefe7={};_0xcdefe7['type']=_0x5a15da(0x143),_0xcdefe7[_0x5a15da(0x166)]='R3',_0xcdefe7['label']='R3',_0xcdefe7[_0x5a15da(0x13b)]=0xfa*SCALE_FACTOR,_0xcdefe7['targetY']=0xb4*SCALE_FACTOR,_0xcdefe7['orientation']=0x2,_0xcdefe7[_0x5a15da(0x1a1)]=![],_0xcdefe7[_0x5a15da(0x161)]=![];const _0xa72d19={};_0xa72d19['type']=_0x5a15da(0xf7),_0xa72d19[_0x5a15da(0x166)]=_0x5a15da(0x15a),_0xa72d19[_0x5a15da(0x13b)]=0x64*SCALE_FACTOR,_0xa72d19[_0x5a15da(0x10c)]=0x78*SCALE_FACTOR,_0xa72d19[_0x5a15da(0x160)]=0x2,_0xa72d19['placed']=![],_0xa72d19['isFixed']=![];const _0xb161e1={};_0xb161e1[_0x5a15da(0xfe)]='SwitchSPDT',_0xb161e1[_0x5a15da(0x166)]=_0x5a15da(0x13d),_0xb161e1[_0x5a15da(0x166)]=_0x5a15da(0x13d),_0xb161e1['targetX']=0x190*SCALE_FACTOR,_0xb161e1['targetY']=0x78*SCALE_FACTOR,_0xb161e1[_0x5a15da(0x160)]=0x2,_0xb161e1['placed']=![],_0xb161e1[_0x5a15da(0x161)]=![];const _0x47f2db={};_0x47f2db['type']=_0x5a15da(0x14a),_0x47f2db[_0x5a15da(0x166)]=_0x5a15da(0x163),_0x47f2db[_0x5a15da(0x166)]=_0x5a15da(0x163),_0x47f2db['targetX']=0xfa*SCALE_FACTOR,_0x47f2db[_0x5a15da(0x10c)]=0x64*SCALE_FACTOR,_0x47f2db['orientation']=0x2,_0x47f2db[_0x5a15da(0x1a1)]=![],_0x47f2db[_0x5a15da(0x161)]=![];const _0x4751c2={};_0x4751c2['type']='Switch',_0x4751c2[_0x5a15da(0x166)]='SA4',_0x4751c2[_0x5a15da(0x166)]=_0x5a15da(0x15c),_0x4751c2['targetX']=0xbe*SCALE_FACTOR,_0x4751c2[_0x5a15da(0x10c)]=0xb4*SCALE_FACTOR,_0x4751c2[_0x5a15da(0x160)]=0x2,_0x4751c2[_0x5a15da(0x1a1)]=![],_0x4751c2[_0x5a15da(0x161)]=![];const _0x52545f={};_0x52545f[_0x5a15da(0xfe)]='VoltageSource',_0x52545f[_0x5a15da(0x166)]='E1',_0x52545f[_0x5a15da(0x13b)]=0x46*SCALE_FACTOR,_0x52545f[_0x5a15da(0x10c)]=0xb4*SCALE_FACTOR,_0x52545f['orientation']=0x1,_0x52545f[_0x5a15da(0x1a1)]=![],_0x52545f[_0x5a15da(0x161)]=![];const _0x44b4bd={};_0x44b4bd[_0x5a15da(0xfe)]=_0x5a15da(0xf5),_0x44b4bd[_0x5a15da(0x166)]='E2',_0x44b4bd[_0x5a15da(0x166)]='E2',_0x44b4bd[_0x5a15da(0x13b)]=0x1ae*SCALE_FACTOR,_0x44b4bd[_0x5a15da(0x10c)]=0xb4*SCALE_FACTOR,_0x44b4bd[_0x5a15da(0x160)]=0x1,_0x44b4bd[_0x5a15da(0x1a1)]=![],_0x44b4bd[_0x5a15da(0x161)]=![];const _0xcb5ab={};_0xcb5ab[_0x5a15da(0xfe)]=_0x5a15da(0xee),_0xcb5ab[_0x5a15da(0x166)]=_0x5a15da(0x1a5),_0xcb5ab[_0x5a15da(0x13b)]=0x64*SCALE_FACTOR,_0xcb5ab[_0x5a15da(0x10c)]=0x10e*SCALE_FACTOR,_0xcb5ab['orientation']=0x1,_0xcb5ab[_0x5a15da(0x1a1)]=![],_0xcb5ab[_0x5a15da(0x161)]=![];const _0x63f4db={};_0x63f4db[_0x5a15da(0xfe)]=_0x5a15da(0xee),_0x63f4db['label']=_0x5a15da(0x141),_0x63f4db['label']=_0x5a15da(0x141),_0x63f4db['targetX']=0x190*SCALE_FACTOR,_0x63f4db[_0x5a15da(0x10c)]=0x10e*SCALE_FACTOR,_0x63f4db[_0x5a15da(0x160)]=0x1,_0x63f4db[_0x5a15da(0x1a1)]=![],_0x63f4db[_0x5a15da(0x161)]=![];const _0x830a34={};_0x830a34['type']=_0x5a15da(0xee),_0x830a34['label']='PA3',_0x830a34[_0x5a15da(0x166)]=_0x5a15da(0x154),_0x830a34[_0x5a15da(0x13b)]=0xfa*SCALE_FACTOR,_0x830a34[_0x5a15da(0x10c)]=0x10e*SCALE_FACTOR,_0x830a34[_0x5a15da(0x160)]=0x1,_0x830a34['placed']=![],_0x830a34['isFixed']=![];let paletteElementsData=[_0x36c8b8,_0x1f2e3e,_0xcdefe7,_0xa72d19,_0xb161e1,_0x47f2db,_0x4751c2,_0x52545f,_0x44b4bd,_0xcb5ab,_0x63f4db,_0x830a34];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null;const _0x342e98={};_0x342e98[_0x5a15da(0xe5)]=function(){return![];},_0x342e98[_0x5a15da(0x14c)]=function(){},_0x342e98[_0x5a15da(0x11e)]=function(){};const _0x4349dc={};_0x4349dc['textContent']='',_0x4349dc[_0x5a15da(0xff)]=_0x342e98;let messageBox=_0x4349dc,messageTimeout;const _0xcac5d3={};_0xcac5d3[_0x5a15da(0xea)]='';let counterBox=_0xcac5d3;const _0x11d4b4={};_0x11d4b4[_0x5a15da(0xea)]='';let distanceBox=_0x11d4b4;const _0x1022eb={};_0x1022eb[_0x5a15da(0xe5)]=function(){return![];},_0x1022eb[_0x5a15da(0x14c)]=function(){},_0x1022eb['remove']=function(){};const _0x299b35={};_0x299b35[_0x5a15da(0xff)]=_0x1022eb;let calculateButton=_0x299b35,isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x64*SCALE_FACTOR:0x64*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x3e8,SWITCH_TOGGLE_DELAY=0x3e8;let lastButtonClickTime=0x0,pressModeCalculateBtn=![];const BUTTON_CLICK_DELAY=0x320;let savedR3Resistance,resistorR1,resistorR2,resistorR3,switchSA1,switchSA2,switchSA3,switchSA4,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3;const teststyle=_0x5a15da(0x172);let dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=![],staticVoltageDisplay;function runPerformanceTest(){const _0x13951a=_0x5a15da,_0x31aa83=0xf4240;let _0x1e3343=0x0;const _0x3e8457=performance[_0x13951a(0xfa)]();for(let _0x5a57a4=0x0;_0x5a57a4<_0x31aa83;_0x5a57a4++){_0x1e3343+=Math['sin'](Math[_0x13951a(0x19b)](_0x5a57a4))*Math['cos'](_0x5a57a4/0x2)/(_0x5a57a4+0x1);}const _0x21612c=performance['now']();return _0x21612c-_0x3e8457;}let targetFrameRate=0x1e,targetPixelDensity=0x1;function setup(){const _0x6cae9e=_0x5a15da,_0x2ba310=runPerformanceTest(),_0x54de9a=0xb4,_0xbb5d1b=0x5a;if(_0x2ba310>_0x54de9a)targetFrameRate=0x1e,targetPixelDensity=0x1;else _0x2ba310>_0xbb5d1b?(targetFrameRate=0x28,targetPixelDensity=0x1):(targetFrameRate=0x2d,targetPixelDensity=1.5);pixelDensity(targetPixelDensity),frameRate(targetFrameRate);let _0x5f38be=createCanvas(0x226*SCALE_FACTOR,0x1c2*SCALE_FACTOR);elements=[],createPalette(),LineArray1=new LineArray(0x64*SCALE_FACTOR,0x8c*SCALE_FACTOR,''),LineArray1[_0x6cae9e(0x14b)]=!![],LineArray1['label']=_0x6cae9e(0xf2),elements[_0x6cae9e(0x148)](LineArray1),LineArray2=new LineArray(0x190*SCALE_FACTOR,0x8c*SCALE_FACTOR,''),LineArray2[_0x6cae9e(0x14b)]=!![],LineArray2[_0x6cae9e(0x197)]=!![],LineArray2[_0x6cae9e(0x166)]=_0x6cae9e(0x186),elements[_0x6cae9e(0x148)](LineArray2),LineArraySimple1=new LineArraySimple(0xfa*SCALE_FACTOR,0x8c*SCALE_FACTOR,''),LineArraySimple1[_0x6cae9e(0xe8)]=![],LineArraySimple1[_0x6cae9e(0x166)]='LineArraySimple1',elements[_0x6cae9e(0x148)](LineArraySimple1),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x6cae9e(0xeb)],staticVoltageDisplay=new StaticTextDisplay(0xfa*SCALE_FACTOR,0x1e*SCALE_FACTOR,''),elements[_0x6cae9e(0x148)](staticVoltageDisplay);if(isMobile&&_0x5f38be[_0x6cae9e(0xe0)]){const _0x356c58={};_0x356c58[_0x6cae9e(0x144)]=![],_0x5f38be['elt']['addEventListener'](_0x6cae9e(0x190),_0x182369=>{const _0x4c9984=_0x6cae9e;draggedElement!==null&&_0x182369[_0x4c9984(0x123)]();},_0x356c58);}KirgofTest&&(placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount),updateCounterDisplay();}function placeAllElementsForTest(){const _0x313d7d=_0x5a15da,_0x5de591={};_0x5de591['SA2']=null,_0x5de591['E2']=null;let _0x12b250=_0x5de591;paletteElementsData[_0x313d7d(0x127)](_0xebc714=>{const _0x346587=_0x313d7d;let _0x33c723=createPaletteElementInstance(_0xebc714[_0x346587(0xfe)],_0xebc714['label'],_0xebc714[_0x346587(0x160)],_0xebc714[_0x346587(0x13b)],_0xebc714['targetY'],_0xebc714);if(_0x33c723[_0x346587(0x166)]==='R1')_0x33c723[_0x346587(0x178)]='50';else{if(_0x33c723[_0x346587(0x166)]==='R2')_0x33c723[_0x346587(0x178)]='30';else{if(_0x33c723[_0x346587(0x166)]==='R3')_0x33c723[_0x346587(0x178)]='80';else{if(_0x33c723[_0x346587(0x166)]==='E1')_0x33c723[_0x346587(0x130)]='25';else _0x33c723[_0x346587(0x166)]==='E2'&&(_0x33c723[_0x346587(0x130)]='12',_0x12b250['E2']=_0x33c723);}}}_0x33c723['label']===_0x346587(0x13d)&&(_0x12b250[_0x346587(0x13d)]=_0x33c723),elements[_0x346587(0x148)](_0x33c723),_0xebc714[_0x346587(0x1a1)]=!![],_0xebc714[_0x346587(0x161)]=!![],_0x33c723[_0x346587(0xf9)]['placed']=!![],_0x33c723[_0x346587(0xf9)][_0x346587(0x161)]=!![];}),paletteElementsData=[];const _0xe4fa77=document[_0x313d7d(0x14e)](_0x313d7d(0x101));_0xe4fa77[_0x313d7d(0x12c)]='',createPalette();}function createPalette(){const _0x3b6648=_0x5a15da,_0x5578e6=document[_0x3b6648(0x14e)](_0x3b6648(0x101));paletteElementsData[_0x3b6648(0x127)]((_0xfdd7e6,_0x16a6e8)=>{const _0x4e22c=_0x3b6648,_0x1909fc=document[_0x4e22c(0xe2)](_0x4e22c(0x10f));_0x1909fc[_0x4e22c(0xff)]['add'](_0x4e22c(0x13f));let _0x1be52c=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x1be52c['clear'](),_0x1be52c[_0x4e22c(0x148)](),_0x1be52c[_0x4e22c(0x103)](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x5e04a4=createPaletteElementInstance(_0xfdd7e6[_0x4e22c(0xfe)],_0xfdd7e6[_0x4e22c(0x166)],_0xfdd7e6['orientation'],0x0,0x0,_0xfdd7e6);_0x5e04a4[_0x4e22c(0x160)]=_0xfdd7e6['orientation'],_0x5e04a4[_0x4e22c(0x116)](_0x1be52c),_0x1be52c[_0x4e22c(0x102)]();const _0x191389=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x191389['copy'](_0x1be52c,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x1909fc['appendChild'](_0x191389[_0x4e22c(0xfb)]),_0x1909fc['dataset']['elementType']=_0xfdd7e6[_0x4e22c(0xfe)],_0x1909fc[_0x4e22c(0x113)][_0x4e22c(0x168)]=_0xfdd7e6['label'],_0x1909fc[_0x4e22c(0x113)][_0x4e22c(0x13a)]=_0xfdd7e6[_0x4e22c(0x160)],_0x1909fc[_0x4e22c(0x113)]['paletteIndex']=_0x16a6e8,_0x1909fc[_0x4e22c(0x193)](_0x4e22c(0x175),paletteElementClick),_0x5578e6[_0x4e22c(0x15e)](_0x1909fc);});}function draw(){const _0x393251=_0x5a15da;background(0xf0),strokeWeight(0x1);const _0x2de41a=0x258*SCALE_FACTOR,_0x564150=0x1c2*SCALE_FACTOR,_0x1c77de=0x32*SCALE_FACTOR;stroke(_0x393251(0x16d));function _0x34cc1b(_0x1e0da5,_0x4a6afe,_0x19c9d3,_0x11b8e5){line(_0x1e0da5-0x32*SCALE_FACTOR,_0x4a6afe,_0x19c9d3-0x32*SCALE_FACTOR,_0x11b8e5);}for(let _0x28caad=0x0;_0x28caad<=_0x564150;_0x28caad+=_0x1c77de){_0x34cc1b(0x0,_0x28caad,_0x2de41a,_0x28caad);}for(let _0x5d310f=0x0;_0x5d310f<=_0x2de41a;_0x5d310f+=_0x1c77de){_0x34cc1b(_0x5d310f,0x0,_0x5d310f,_0x564150);}stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),_0x34cc1b(0x12c*SCALE_FACTOR,0x32*SCALE_FACTOR,0xdc*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x34cc1b(0x12c*SCALE_FACTOR,0x32*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x34cc1b(0x1a4*SCALE_FACTOR,0x32*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x34cc1b(0x1c2*SCALE_FACTOR,0x32*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x34cc1b(0xb4*SCALE_FACTOR,0x32*SCALE_FACTOR,0x96*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x34cc1b(0x96*SCALE_FACTOR,0x32*SCALE_FACTOR,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x34cc1b(0x12c*SCALE_FACTOR,0x32*SCALE_FACTOR,0x12c*SCALE_FACTOR,0x50*SCALE_FACTOR),_0x34cc1b(0x12c*SCALE_FACTOR,0x78*SCALE_FACTOR,0x12c*SCALE_FACTOR,0xa0*SCALE_FACTOR),_0x34cc1b(0x12c*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x12c*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x34cc1b(0x12c*SCALE_FACTOR,0x140*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0x140*SCALE_FACTOR),_0x34cc1b(0x1c2*SCALE_FACTOR,0x122*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0x140*SCALE_FACTOR),_0x34cc1b(0x96*SCALE_FACTOR,0x140*SCALE_FACTOR,0x12c*SCALE_FACTOR,0x140*SCALE_FACTOR),_0x34cc1b(0x96*SCALE_FACTOR,0x122*SCALE_FACTOR,0x96*SCALE_FACTOR,0x140*SCALE_FACTOR),_0x34cc1b(0x96*SCALE_FACTOR,0xdc*SCALE_FACTOR,0x96*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x34cc1b(0x1c2*SCALE_FACTOR,0xdc*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x34cc1b(0x12c*SCALE_FACTOR,0x122*SCALE_FACTOR,0x12c*SCALE_FACTOR,0x140*SCALE_FACTOR);for(let _0x122bd8 of elements){typeof _0x122bd8['update']==='function'&&_0x122bd8[_0x393251(0x12a)](),_0x122bd8[_0x393251(0xf8)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x393251(0xf8)](),pop()),drawMessageBox(),drawCounterBox(),drawDistanceBox(),drawCalculateButton();}function drawMessageBox(){const _0x18cd9b=_0x5a15da;messageBox[_0x18cd9b(0xff)]['contains'](_0x18cd9b(0x158))&&(push(),fill(_0x18cd9b(0x106)),stroke(_0x18cd9b(0x19f)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(messageBox[_0x18cd9b(0xea)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x5e8fda=_0x5a15da;push();const _0x24e43e=0x91*SCALE_FACTOR,_0x5a9af0=height-0x64*SCALE_FACTOR,_0x52ca7e=0x19*SCALE_FACTOR,_0x27612c=0x5*SCALE_FACTOR,_0x4a60dd=0x14*SCALE_FACTOR,_0x11d03e=counterBox['textContent'],_0xc06cd5=0x10*SCALE_FACTOR;textSize(_0xc06cd5),textAlign(LEFT,CENTER);const _0x367484=textWidth(_0x11d03e),_0x4e6280=_0x367484+_0x4a60dd;fill(_0x5e8fda(0x192)),stroke(_0x5e8fda(0x12e)),strokeWeight(0x1),rectMode(CORNER);_0x11d03e!=''&&rect(_0x24e43e,_0x5a9af0,_0x4e6280,_0x52ca7e,_0x27612c);noStroke(),fill(0x0);const _0x1d637e=_0x24e43e+_0x4a60dd/0x2,_0x10eae8=_0x5a9af0+_0x52ca7e/0x2;text(_0x11d03e,_0x1d637e,_0x10eae8),pop();}function drawDistanceBox(){const _0x6c1e4c=_0x5a15da;push();const _0x5e51da=0x96*SCALE_FACTOR,_0x4e24f9=height-0x46*SCALE_FACTOR,_0x2283c3=0xf*SCALE_FACTOR,_0x295ede=0x5*SCALE_FACTOR,_0x2001b5=0xa*SCALE_FACTOR,_0x2cdd9e=distanceBox[_0x6c1e4c(0xea)],_0x5ec070=0xc*SCALE_FACTOR;if(_0x2cdd9e!=''){textSize(_0x5ec070),textAlign(LEFT,CENTER);const _0x53095c=textWidth(_0x2cdd9e),_0x3716b0=_0x53095c+_0x2001b5;fill(_0x6c1e4c(0x120)),stroke(_0x6c1e4c(0x196)),strokeWeight(0x1),rectMode(CORNER),rect(_0x5e51da,_0x4e24f9,_0x3716b0,_0x2283c3,_0x295ede),noStroke(),fill(0x0);const _0x238cf8=_0x5e51da+_0x2001b5/0x2,_0x20a657=_0x4e24f9+_0x2283c3/0x2;text(_0x2cdd9e,_0x238cf8,_0x20a657);}pop();}function drawCalculateButton(){const _0x3ad20a=_0x5a15da;if(isCalculateButtonVisible){push();const _0x1ad608=calculateBtnTitle,_0x426b5c=0x19*SCALE_FACTOR,_0x421fbb=0x2d*SCALE_FACTOR,_0x59d2e3=0x14*SCALE_FACTOR,_0x3414c6=0x5*SCALE_FACTOR;let _0x4573a8=0x96*SCALE_FACTOR;currentLang=='en'&&(_0x4573a8=0x87*SCALE_FACTOR);let _0x900a86=height-_0x421fbb-0x5*SCALE_FACTOR;textSize(_0x426b5c),textAlign(CENTER,CENTER);const _0x57b107=textWidth(_0x1ad608),_0x3bb135=_0x57b107+_0x59d2e3*0x2;let _0x9b66e0=millis();!(_0x9b66e0-lastButtonClickTime<BUTTON_CLICK_DELAY/0x5)&&(pressModeCalculateBtn=![]);pressModeCalculateBtn&&(_0x4573a8=_0x4573a8+0x1*SCALE_FACTOR,_0x900a86=_0x900a86+0x2*SCALE_FACTOR);fill(_0x3ad20a(0x19c)),noStroke(),rectMode(CORNER),rect(_0x4573a8,_0x900a86,_0x3bb135,_0x421fbb,_0x3414c6),fill(0xff);const _0x57311d=_0x4573a8+_0x3bb135/0x2,_0x400a01=_0x900a86+_0x421fbb/0x2;text(_0x1ad608,_0x57311d,_0x400a01),pop();}}function paletteElementClick(_0xa81ac0){const _0xa5898=_0x5a15da,_0x4b931f=_0xa81ac0[_0xa5898(0xfc)];if(!_0x4b931f)return;const _0x1b5b93=_0x4b931f[_0xa5898(0x113)][_0xa5898(0x176)],_0x75a910=_0x4b931f[_0xa5898(0x113)][_0xa5898(0x168)],_0x5c110d=_0x4b931f[_0xa5898(0x113)][_0xa5898(0x13a)],_0x36963f=parseInt(_0x4b931f[_0xa5898(0x113)][_0xa5898(0x173)]);if(!_0x1b5b93||!_0x75a910||!_0x5c110d||isNaN(_0x36963f))return;canvasElementInstance=createPaletteElementInstance(_0x1b5b93,_0x75a910,_0x5c110d,0x82*SCALE_FACTOR,0x82*SCALE_FACTOR,paletteElementsData[_0x36963f]),paletteElementsData['splice'](_0x36963f,0x1);const _0xafcfe9=document[_0xa5898(0x14e)](_0xa5898(0x101));_0xafcfe9['innerHTML']='',createPalette();}function createPaletteElementInstance(_0x191d76,_0x41bb57,_0x314a3a,_0x51be9c,_0x2faee8,_0xcd006a){const _0x2425c0=_0x5a15da;let _0x2d6d41;switch(_0x191d76){case _0x2425c0(0x143):_0x2d6d41=new Resistor(_0x51be9c,_0x2faee8,_0x41bb57);break;case _0x2425c0(0xf7):_0x2d6d41=new SwitchSPDT(_0x51be9c,_0x2faee8,_0x41bb57);break;case _0x2425c0(0x14a):_0x2d6d41=new Switch(_0x51be9c,_0x2faee8,_0x41bb57);_0x41bb57==='SA3'&&(_0x2d6d41[_0x2425c0(0x122)]=![]);break;case _0x2425c0(0xf5):_0x2d6d41=new VoltageSource(_0x51be9c,_0x2faee8,_0x41bb57);_0x41bb57==='E1'&&(_0x2d6d41['isActive']=!![]);break;case _0x2425c0(0xee):_0x2d6d41=new CustomAmmeter(_0x51be9c,_0x2faee8,_0x41bb57);break;default:return null;}return _0x2d6d41[_0x2425c0(0x160)]=parseInt(_0x314a3a),_0x2d6d41[_0x2425c0(0xf9)]=_0xcd006a,_0x2d6d41;}function generateNewData(){const _0x52d20a=_0x5a15da,_0x40bf26=[];for(let _0x4b1625=0xf;_0x4b1625<=0x64;_0x4b1625+=0x5){_0x40bf26[_0x52d20a(0x148)](_0x4b1625);}const _0x369606=[];for(let _0x398cf4=0xa;_0x398cf4<=0x64;_0x398cf4+=0xa){_0x369606[_0x52d20a(0x148)](_0x398cf4);}let _0x5df9ba,_0x32c562;do{_0x5df9ba=_0x40bf26[Math['floor'](Math[_0x52d20a(0x129)]()*_0x40bf26['length'])],_0x32c562=_0x40bf26[Math[_0x52d20a(0x183)](Math[_0x52d20a(0x129)]()*_0x40bf26[_0x52d20a(0xeb)])];}while(_0x5df9ba===_0x32c562);let _0x42343a=_0x369606[Math[_0x52d20a(0x183)](Math[_0x52d20a(0x129)]()*_0x369606[_0x52d20a(0xeb)])],_0x24d858=_0x369606[Math[_0x52d20a(0x183)](Math[_0x52d20a(0x129)]()*_0x369606[_0x52d20a(0xeb)])],_0x1d18d7=_0x369606[Math[_0x52d20a(0x183)](Math[_0x52d20a(0x129)]()*_0x369606[_0x52d20a(0xeb)])],_0x34bad8={'E1':findElementByLabel('E1'),'E2':findElementByLabel('E2'),'R1':findElementByLabel('R1'),'R2':findElementByLabel('R2'),'R3':findElementByLabel('R3'),'SA3':findElementByLabel(_0x52d20a(0x163)),'SA4':findElementByLabel(_0x52d20a(0x15c))};if(!_0x34bad8['E1']||!_0x34bad8['E2']||!_0x34bad8['R1']||!_0x34bad8['R2']||!_0x34bad8['R3']||!_0x34bad8[_0x52d20a(0x163)]||!_0x34bad8[_0x52d20a(0x15c)]){alert(circuitNotAssembledMsg);return;}_0x34bad8['E1']['voltage']=String(_0x5df9ba),_0x34bad8['E2'][_0x52d20a(0x130)]=String(_0x32c562),_0x34bad8['R1'][_0x52d20a(0x178)]=String(_0x42343a),_0x34bad8['R2'][_0x52d20a(0x178)]=String(_0x24d858),_0x34bad8['R3'][_0x52d20a(0x178)]=String(_0x1d18d7),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x47b266=_0x5a15da,_0x330df1=0x32*SCALE_FACTOR,_0x217935=0x226*SCALE_FACTOR,_0x4c60f5=0x1c2*SCALE_FACTOR,_0x25139d=_0x217935-_0x330df1,_0x5b5979=_0x4c60f5-_0x330df1,_0x47cd22=_0x330df1,_0x5bacdb=_0x330df1;if(!isCalculateButtonVisible&&mouseX>_0x25139d&&mouseX<_0x25139d+_0x47cd22&&mouseY>_0x5b5979&&mouseY<_0x5b5979+_0x5bacdb){const _0x383f99=prompt(startTestPromptMsg);if(_0x383f99!==null&&_0x383f99===_0x47b266(0xec)){KirgofTest=!![],elements=[];const _0x3deb39=document[_0x47b266(0x14e)](_0x47b266(0x101));_0x3deb39?_0x3deb39[_0x47b266(0x12c)]='':console['error'](_0x47b266(0x12f));elementsPlacedCount=0x0,setup();return;}else{if(_0x383f99!==null)return;else return;}}if(isCalculateButtonVisible){let _0x3af674=millis();if(!(_0x3af674-lastButtonClickTime<BUTTON_CLICK_DELAY)){let _0x3f8b90=0x96*SCALE_FACTOR,_0x286759=height-0x32*SCALE_FACTOR,_0x43d48c=0xc8*SCALE_FACTOR,_0xf5e93e=0x32*SCALE_FACTOR;if(mouseX>_0x3f8b90&&mouseX<_0x3f8b90+_0x43d48c&&mouseY>_0x286759&&mouseY<_0x286759+_0xf5e93e){pressModeCalculateBtn=!![],lastButtonClickTime=_0x3af674,generateNewData();return;}}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x34a474=null;for(let _0x4010de=elements['length']-0x1;_0x4010de>=0x0;_0x4010de--){let _0x47bd70=elements[_0x4010de];if(_0x47bd70 instanceof StaticTextDisplay)continue;let _0x5092f5;if(_0x47bd70 instanceof VoltageSource||_0x47bd70 instanceof CustomAmmeter){_0x5092f5=dist(mouseX,mouseY,_0x47bd70['x'],_0x47bd70['y']);if(_0x5092f5<_0x47bd70['r']*SCALE_FACTOR){_0x34a474=_0x47bd70;break;}}else{if(_0x47bd70 instanceof Resistor||_0x47bd70 instanceof Switch||_0x47bd70 instanceof SwitchSPDT){if(mouseX>_0x47bd70['x']-_0x47bd70['w']/0x2*SCALE_FACTOR&&mouseX<_0x47bd70['x']+_0x47bd70['w']/0x2*SCALE_FACTOR&&mouseY>_0x47bd70['y']-_0x47bd70['h']/0x2*SCALE_FACTOR&&mouseY<_0x47bd70['y']+_0x47bd70['h']/0x2*SCALE_FACTOR){_0x34a474=_0x47bd70;break;}}}}if(_0x34a474){if(_0x34a474[_0x47b266(0xf9)]&&_0x34a474[_0x47b266(0xf9)][_0x47b266(0x161)]){let _0x2b7ca8=millis();if((_0x34a474 instanceof Switch||_0x34a474 instanceof SwitchSPDT)&&isCalculateButtonVisible){if(_0x2b7ca8-_0x34a474['lastToggleTime']>SWITCH_TOGGLE_DELAY){_0x34a474[_0x47b266(0x16b)](),_0x34a474[_0x47b266(0xe1)]=_0x2b7ca8,draggedElement=null;return;}else{draggedElement=null;return;}}if(_0x2b7ca8-lastMousePressTime>DOUBLE_CLICK_THRESHOLD){if(_0x34a474 instanceof Resistor&&KirgofTest){let _0x137431=prompt(enterResistancePrompt+'\x20'+_0x34a474[_0x47b266(0x166)]+':',_0x34a474[_0x47b266(0x178)]||'100');if(_0x137431!==null&&!isNaN(parseFloat(_0x137431))){_0x34a474[_0x47b266(0x178)]=_0x137431;if(isCalculateButtonVisible)calculateCircuit();}}else{if(_0x34a474 instanceof VoltageSource){let _0x5e2ec3=prompt(enterVoltagePrompt+'\x20'+_0x34a474[_0x47b266(0x166)]+':',_0x34a474[_0x47b266(0x130)]||'12');if(_0x5e2ec3!==null&&!isNaN(parseFloat(_0x5e2ec3))){_0x34a474['voltage']=_0x5e2ec3;if(isCalculateButtonVisible)calculateCircuit();}}}}lastMousePressTime=_0x2b7ca8,draggedElement=null;return;}(!_0x34a474[_0x47b266(0xf9)]||!_0x34a474['placedElementData'][_0x47b266(0x161)])&&(draggedElement=_0x34a474,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']);}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x47b266(0x148)](draggedElement),canvasElementInstance=null):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x3934e3=_0x5a15da;let _0x156907=canvasElementInstance||draggedElement;if(_0x156907){let _0x131455=mouseX-dragOffsetX,_0x21115b=mouseY-dragOffsetY,_0x5171b6=0x1e*SCALE_FACTOR,_0x3ac232=_0x5171b6,_0x3a6547=_0x5171b6,_0x2cc265=width-_0x5171b6,_0x556648=height-_0x5171b6;_0x156907['x']=constrain(_0x131455,_0x3ac232,_0x2cc265),_0x156907['y']=constrain(_0x21115b,_0x3a6547,_0x556648);if(_0x156907[_0x3934e3(0xf9)]){let _0x51ed94=dist(_0x156907['x'],_0x156907['y'],_0x156907['placedElementData'][_0x3934e3(0x13b)],_0x156907[_0x3934e3(0xf9)][_0x3934e3(0x10c)]),_0x4266b3=Math[_0x3934e3(0x165)](0x0,Math['round'](_0x51ed94-SNAP_DISTANCE));distanceBox['textContent']=distanceSeekText+':\x20'+_0x4266b3+_0x3934e3(0x107);}else distanceBox['textContent']=noTargetPointMsg;}}function mouseReleased(){const _0x4703e9=_0x5a15da;let _0x31907d=null;if(canvasElementInstance){elements['push'](canvasElementInstance),_0x31907d=canvasElementInstance['placedElementData'];if(_0x31907d){let _0x16db97=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x31907d[_0x4703e9(0x13b)],_0x31907d[_0x4703e9(0x10c)]);_0x16db97<=SNAP_DISTANCE&&!_0x31907d[_0x4703e9(0x1a1)]&&(canvasElementInstance['x']=_0x31907d[_0x4703e9(0x13b)],canvasElementInstance['y']=_0x31907d[_0x4703e9(0x10c)],showCorrectMessage(),_0x31907d[_0x4703e9(0x1a1)]=!![],elementsPlacedCount++,_0x31907d['isFixed']=!![]);}canvasElementInstance=null,paletteElementPrototype=null;}else{if(draggedElement!==null){_0x31907d=draggedElement[_0x4703e9(0xf9)];if(_0x31907d){let _0x4708ee=dist(draggedElement['x'],draggedElement['y'],_0x31907d['targetX'],_0x31907d[_0x4703e9(0x10c)]);if(_0x4708ee<=SNAP_DISTANCE&&!_0x31907d[_0x4703e9(0x1a1)])!_0x31907d[_0x4703e9(0x1a1)]&&(draggedElement['x']=_0x31907d[_0x4703e9(0x13b)],draggedElement['y']=_0x31907d[_0x4703e9(0x10c)],_0x31907d[_0x4703e9(0x1a1)]=!![],elementsPlacedCount++,_0x31907d[_0x4703e9(0x161)]=!![]);else _0x31907d[_0x4703e9(0x1a1)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x31907d[_0x4703e9(0x1a1)]=![],elementsPlacedCount--,_0x31907d[_0x4703e9(0x161)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x4703e9(0xea)]='';}function updateCounterDisplay(){const _0x13020f=_0x5a15da;if(elementsToPlaceCount-elementsPlacedCount<=0x0){let _0x3cf762=getCircuitStatusMessage();counterBox[_0x13020f(0xea)]=_0x3cf762,!isCalculateButtonVisible&&(isCalculateButtonVisible=!![],calculateCircuit());}else counterBox[_0x13020f(0xea)]=countDisplayText+':\x20'+(elementsToPlaceCount-elementsPlacedCount),isCalculateButtonVisible=![],hideCalculationValues();redraw();}function showCorrectMessage(){const _0x3eb61c=_0x5a15da;messageBox[_0x3eb61c(0xea)]=correctlyPlacedMsg,messageBox[_0x3eb61c(0xff)][_0x3eb61c(0x14c)](_0x3eb61c(0x158)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x5b9f67=_0x3eb61c;messageBox[_0x5b9f67(0xff)][_0x5b9f67(0x11e)](_0x5b9f67(0x158));},0x7d0);}function getCircuitStatusMessage(){const _0x27faa9=_0x5a15da;let _0x3a3c99=findElementByLabel(_0x27faa9(0x163)),_0x331b35=findElementByLabel(_0x27faa9(0x15c)),_0x7c0d6f=findElementByLabel('E1'),_0x32ac9a=findElementByLabel('E2');if(!_0x3a3c99||!_0x331b35||!_0x7c0d6f||!_0x32ac9a)return'';const _0x5bed3c=_0x7c0d6f[_0x27faa9(0x17b)],_0xbe39fd=_0x32ac9a[_0x27faa9(0x17b)],_0x898b02=_0x3a3c99[_0x27faa9(0x122)],_0x1f4b45=_0x331b35[_0x27faa9(0x122)];if(_0x5bed3c&&_0xbe39fd){if(_0x898b02)return statusUxx;else return!_0x898b02&&!_0x1f4b45?statusIkz:statusBothActive;}if(!_0x898b02&&_0x1f4b45){if(_0x5bed3c&&!_0xbe39fd)return statusE1Active;else{if(!_0x5bed3c&&_0xbe39fd)return statusE2Active;}}return'';}function calculateCircuit(){const _0x3551e6=_0x5a15da;if(elementsToPlaceCount-elementsPlacedCount>0x0){alert(circuitNotAssembledMsg);return;}hideCalculationValues();let _0x41207f={'R1':findElementByLabel('R1'),'R2':findElementByLabel('R2'),'R3':findElementByLabel('R3'),'SA1':findElementByLabel(_0x3551e6(0x15a)),'SA2':findElementByLabel(_0x3551e6(0x13d)),'SA3':findElementByLabel(_0x3551e6(0x163)),'SA4':findElementByLabel('SA4'),'E1':findElementByLabel('E1'),'E2':findElementByLabel('E2'),'PA1':findElementByLabel(_0x3551e6(0x1a5)),'PA2':findElementByLabel(_0x3551e6(0x141)),'PA3':findElementByLabel('PA3')};for(const _0x1a5dc5 in _0x41207f){if(!_0x41207f[_0x1a5dc5]){console['error'](_0x3551e6(0x108)+_0x1a5dc5+'\x20not\x20found\x20during\x20calculation!');return;}}let _0x12a322=_0x41207f['E1'][_0x3551e6(0x17b)]?parseFloat(_0x41207f['E1'][_0x3551e6(0x130)]):0x0,_0x2876af=_0x41207f['E2'][_0x3551e6(0x17b)]?parseFloat(_0x41207f['E2'][_0x3551e6(0x130)]):0x0,_0x52e187=parseFloat(_0x41207f['R1'][_0x3551e6(0x178)]),_0x2dec99=parseFloat(_0x41207f['R2'][_0x3551e6(0x178)]),_0x3a1d0c=parseFloat(_0x41207f['R3'][_0x3551e6(0x178)]);if(_0x41207f[_0x3551e6(0x163)][_0x3551e6(0x122)]){let _0x43509e=_0x52e187+_0x2dec99,_0x5da908=_0x12a322-_0x2876af,_0xe80aa7=0x0;if(_0x43509e!==0x0)_0xe80aa7=_0x5da908/_0x43509e;else _0x5da908!==0x0&&(_0xe80aa7=Infinity*Math[_0x3551e6(0x110)](_0x5da908),console[_0x3551e6(0x119)](_0x3551e6(0xef)));let _0x36b2aa=_0xe80aa7*_0x52e187,_0x4cd343=_0xe80aa7*_0x2dec99,_0x332b6e=_0x2876af+_0xe80aa7*_0x2dec99,_0x2824c9=_0xe80aa7,_0x5f4ae4=_0xe80aa7,_0x25878f=0x0;_0x41207f[_0x3551e6(0x1a5)][_0x3551e6(0xf1)]=_0x2824c9,_0x41207f[_0x3551e6(0x141)][_0x3551e6(0xf1)]=_0x5f4ae4,_0x41207f[_0x3551e6(0x154)][_0x3551e6(0xf1)]=_0x25878f,_0x41207f['R1']['voltageDrop']=_0x36b2aa,_0x41207f['R2'][_0x3551e6(0x117)]=_0x4cd343,_0x41207f['R3'][_0x3551e6(0x117)]=_0x332b6e,staticVoltageDisplay[_0x3551e6(0x136)](voltageLabelPrefix[_0x3551e6(0xdd)]+'\x20'+Math[_0x3551e6(0x195)](_0x332b6e)[_0x3551e6(0x121)](0x2)+'\x20'+voltUnit),displayCalculationValue(_0x41207f[_0x3551e6(0x1a5)],currentLabelPrefix['i1']+'\x20'+Math['abs'](_0x2824c9)[_0x3551e6(0x121)](0x3)+'\x20'+ampereUnit,_0x3551e6(0x1a2)),displayCalculationValue(_0x41207f[_0x3551e6(0x141)],currentLabelPrefix['i2']+'\x20'+Math[_0x3551e6(0x195)](_0x5f4ae4)['toFixed'](0x3)+'\x20'+ampereUnit,_0x3551e6(0x1a2)),displayCalculationValue(_0x41207f['R1'],voltageLabelPrefix['ur1']+'\x20'+Math[_0x3551e6(0x195)](_0x36b2aa)[_0x3551e6(0x121)](0x2)+'\x20'+voltUnit,_0x3551e6(0x153)),displayCalculationValue(_0x41207f['R2'],voltageLabelPrefix[_0x3551e6(0x170)]+'\x20'+Math[_0x3551e6(0x195)](_0x4cd343)['toFixed'](0x2)+'\x20'+voltUnit,_0x3551e6(0x153));}else{let _0x49009a=_0x41207f['SA4'][_0x3551e6(0x122)]?_0x3a1d0c:1e-9;const _0x252689=_0x52e187+_0x49009a,_0x3579f8=_0x49009a,_0x30118b=_0x12a322,_0x4924c8=_0x49009a,_0x5920a0=_0x2dec99+_0x49009a,_0x582c88=_0x2876af;let _0x52b2f7=_0x252689*_0x5920a0-_0x3579f8*_0x4924c8,_0x7848a5=0x0,_0x26f3cf=0x0;Math[_0x3551e6(0x195)](_0x52b2f7)>1e-12?(_0x7848a5=(_0x30118b*_0x5920a0-_0x582c88*_0x3579f8)/_0x52b2f7,_0x26f3cf=(_0x582c88*_0x252689-_0x30118b*_0x4924c8)/_0x52b2f7):console['warn'](_0x3551e6(0x18a));let _0x937831=_0x7848a5,_0x3bb21f=_0x26f3cf,_0x3ba46b=_0x7848a5+_0x26f3cf,_0x1389bb=_0x937831*_0x52e187,_0x5a913b=_0x3bb21f*_0x2dec99,_0x7f3013=_0x41207f[_0x3551e6(0x15c)][_0x3551e6(0x122)]?_0x3ba46b*_0x3a1d0c:0x0;_0x41207f['PA1'][_0x3551e6(0xf1)]=_0x937831,_0x41207f[_0x3551e6(0x141)]['current']=_0x3bb21f,_0x41207f[_0x3551e6(0x154)][_0x3551e6(0xf1)]=_0x3ba46b,_0x41207f['R1']['voltageDrop']=_0x1389bb,_0x41207f['R2'][_0x3551e6(0x117)]=_0x5a913b,_0x41207f['R3']['voltageDrop']=_0x7f3013,staticVoltageDisplay[_0x3551e6(0x136)](''),displayCalculationValue(_0x41207f['PA1'],currentLabelPrefix['i1']+'\x20'+Math[_0x3551e6(0x195)](_0x937831)[_0x3551e6(0x121)](0x3)+'\x20'+ampereUnit,_0x3551e6(0x1a2)),displayCalculationValue(_0x41207f[_0x3551e6(0x141)],currentLabelPrefix['i2']+'\x20'+Math[_0x3551e6(0x195)](_0x3bb21f)[_0x3551e6(0x121)](0x3)+'\x20'+ampereUnit,_0x3551e6(0x1a2));let _0x59d5ba=_0x41207f['SA4'][_0x3551e6(0x122)]?currentLabelPrefix['i3']:currentLabelPrefix[_0x3551e6(0x152)];displayCalculationValue(_0x41207f[_0x3551e6(0x154)],_0x59d5ba+'\x20'+Math['abs'](_0x3ba46b)[_0x3551e6(0x121)](0x3)+'\x20'+ampereUnit,_0x3551e6(0x1a2)),displayCalculationValue(_0x41207f['R1'],voltageLabelPrefix[_0x3551e6(0x1a3)]+'\x20'+Math[_0x3551e6(0x195)](_0x1389bb)[_0x3551e6(0x121)](0x2)+'\x20'+voltUnit,_0x3551e6(0x153)),displayCalculationValue(_0x41207f['R2'],voltageLabelPrefix[_0x3551e6(0x170)]+'\x20'+Math['abs'](_0x5a913b)[_0x3551e6(0x121)](0x2)+'\x20'+voltUnit,'top'),_0x41207f[_0x3551e6(0x15c)]['isOpen']&&displayCalculationValue(_0x41207f['R3'],voltageLabelPrefix[_0x3551e6(0x187)]+'\x20'+Math[_0x3551e6(0x195)](_0x7f3013)[_0x3551e6(0x121)](0x2)+'\x20'+voltUnit,_0x3551e6(0x153));}updateCounterDisplay();}function findElementByLabel(_0x148598){for(const _0x57e031 of elements){if(_0x57e031['label']===_0x148598)return _0x57e031;}return null;}function displayCalculationValue(_0x39544a,_0x320719,_0x48c665){const _0x4af9d8=_0x5a15da;if(!_0x39544a||typeof _0x39544a['x']==='undefined'||typeof _0x39544a['y']==='undefined')return;push(),translate(_0x39544a['x'],_0x39544a['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x48c665===_0x4af9d8(0x1a2)?TOP:BOTTOM);let _0x8fb8b7=0x0;if(_0x39544a instanceof CustomAmmeter)_0x8fb8b7=(_0x48c665==='bottom'?_0x39544a['r']+0xa:-_0x39544a['r']-0x19)*SCALE_FACTOR;else _0x39544a instanceof Resistor&&(_0x8fb8b7=(_0x48c665===_0x4af9d8(0x153)?-_0x39544a['h']/0x2-0xf:_0x39544a['h']/0x2+0x14)*SCALE_FACTOR);text(_0x320719,0x0,_0x8fb8b7+0x1e*SCALE_FACTOR),pop(),_0x39544a[_0x4af9d8(0x1a4)]=_0x320719;}function hideCalculationValues(){const _0x5522e1=_0x5a15da;redraw(),elements[_0x5522e1(0x127)](_0x27e36d=>{_0x27e36d['calculationDisplayValue']=null;});}class CircuitElement{constructor(_0x429ffd,_0x3a4a67){const _0x457cdb=_0x5a15da;this['x']=_0x429ffd,this['y']=_0x3a4a67,this[_0x457cdb(0x166)]='',this[_0x457cdb(0x160)]=0x1,this[_0x457cdb(0xe8)]=!![],this[_0x457cdb(0x185)]=![],this[_0x457cdb(0xf9)]=null,this[_0x457cdb(0x1a4)]=null;}[_0x5a15da(0x12a)](){}[_0x5a15da(0xf8)](){const _0x768631=_0x5a15da;push(),translate(this['x'],this['y']);let _0x5f2557=0x0;switch(this[_0x768631(0x160)]){case 0x2:_0x5f2557=PI/0x2;break;case 0x3:_0x5f2557=PI;break;case 0x4:_0x5f2557=0x3*PI/0x2;break;default:_0x5f2557=0x0;}rotate(_0x5f2557);if(this[_0x768631(0x1a4)]!==null&&this['isEnabled']){stroke(_0x768631(0x16d)),fill(_0x768631(0x128)),textSize(0xf*SCALE_FACTOR);let _0x2a0d19=textWidth(this['calculationDisplayValue']);rectMode(CENTER);let _0x360dd5=0x0,_0x46c86d=-0x20*SCALE_FACTOR;this['label'][_0x768631(0xf3)]('PA')&&(_0x46c86d=-0x21*SCALE_FACTOR);let _0x2daeb2=0x2*SCALE_FACTOR,_0x481821=0x2*SCALE_FACTOR;rect(_0x360dd5,_0x46c86d,_0x2a0d19+_0x2daeb2*0x2,0x14*SCALE_FACTOR+_0x481821*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x3c,0x96,0x28),textAlign(CENTER,CENTER),text(this[_0x768631(0x1a4)],_0x360dd5,_0x46c86d);}}[_0x5a15da(0x177)](){rotate(0x0),pop();}[_0x5a15da(0x181)](){const _0x46be5f=_0x5a15da;switch(this[_0x46be5f(0x160)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x17fd11,_0x793e36,_0x495a8b){const _0x4da5a1=_0x5a15da;super(_0x17fd11,_0x793e36),this['r']=0x14*SCALE_FACTOR,this[_0x4da5a1(0x166)]=_0x495a8b,this['voltage']='12',this['isActive']=![];}[_0x5a15da(0x116)](_0x2ed41a){const _0x23cf91=_0x5a15da;_0x2ed41a[_0x23cf91(0xf0)](0x1*SCALE_FACTOR),_0x2ed41a[_0x23cf91(0x156)](0x0),_0x2ed41a[_0x23cf91(0x115)](0xff),_0x2ed41a[_0x23cf91(0x114)](0x0,0x0,this['r']*1.5),_0x2ed41a[_0x23cf91(0xe6)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x2ed41a[_0x23cf91(0xe6)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x2ed41a[_0x23cf91(0xe6)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x2ed41a[_0x23cf91(0xe3)](),_0x2ed41a[_0x23cf91(0x115)](0x0),_0x2ed41a[_0x23cf91(0x13c)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x2ed41a[_0x23cf91(0x11a)](this['label'],0x0,this['r']*1.3);}[_0x5a15da(0xf8)](){const _0x419900=_0x5a15da;super[_0x419900(0xf8)]();let _0x1ae648=0x1*SCALE_FACTOR,_0x58ec19=0x2*_0x1ae648;this['isActive']?(stroke(0x0,0xff,0x0),strokeWeight(_0x58ec19),fill(0xff)):(stroke(0x0),strokeWeight(_0x1ae648),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x419900(0x17b)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x419900(0x166)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',this['r']*1.4,this['r']*0.9),super[_0x419900(0x177)]();}[_0x5a15da(0x181)](){const _0x162005=_0x5a15da;switch(this[_0x162005(0x160)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x1ce19a,_0x457ad6,_0x502bc4){const _0x11daaf=_0x5a15da;super(_0x1ce19a,_0x457ad6),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x11daaf(0x166)]=_0x502bc4,this['resistance']=_0x11daaf(0x111),this[_0x11daaf(0xe8)]=!![],this[_0x11daaf(0x117)]=0x0;}['displayPalette'](_0x9008f5){const _0x4a687e=_0x5a15da;_0x9008f5[_0x4a687e(0xf0)](0x1*SCALE_FACTOR),_0x9008f5['stroke'](0x0),_0x9008f5[_0x4a687e(0x115)](0xc8,0x96,0x64),_0x9008f5['rectMode'](CENTER),_0x9008f5[_0x4a687e(0x137)](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x9008f5['noStroke'](),_0x9008f5[_0x4a687e(0x115)](0x0),_0x9008f5[_0x4a687e(0x13c)](CENTER,CENTER),_0x9008f5[_0x4a687e(0x189)](0x8*SCALE_FACTOR),_0x9008f5[_0x4a687e(0x11a)](this[_0x4a687e(0x166)],0x0,0x0);}['display'](){const _0x2a080c=_0x5a15da;super['display'](),strokeWeight(0x1*SCALE_FACTOR),this[_0x2a080c(0xe8)]?(stroke(0x0),fill(0xc8,0x96,0x64)):(stroke(0x64),fill(0xbf,0xb3,0xa8)),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),this[_0x2a080c(0xe8)]?fill(0x0):fill(0x64),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x2a080c(0x166)],0x0,0x0),super[_0x2a080c(0x177)]();}[_0x5a15da(0x181)](){const _0x438696=_0x5a15da;switch(this[_0x438696(0x160)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x4c8f55,_0x3e21f1,_0x264fdf){const _0x46a822=_0x5a15da;super(_0x4c8f55,_0x3e21f1),this['r']=0x14*SCALE_FACTOR,this[_0x46a822(0x166)]=_0x264fdf,this[_0x46a822(0xf1)]=0x0;}[_0x5a15da(0x116)](_0x3b5318){const _0x2959e4=_0x5a15da;_0x3b5318[_0x2959e4(0xf0)](0x1*SCALE_FACTOR),_0x3b5318[_0x2959e4(0x156)](0x0),_0x3b5318[_0x2959e4(0x115)](0xdc),_0x3b5318[_0x2959e4(0x114)](0x0,0x0,this['r']*1.5),_0x3b5318[_0x2959e4(0xe3)](),_0x3b5318['fill'](0x0),_0x3b5318[_0x2959e4(0x13c)](CENTER,CENTER),_0x3b5318[_0x2959e4(0x189)](0x8*SCALE_FACTOR),_0x3b5318['text'](this[_0x2959e4(0x166)],this['r']*0.6,this['r']*1.3);}['display'](){const _0x1709b9=_0x5a15da;super[_0x1709b9(0xf8)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x1709b9(0x166)],this['r']*0.8,this['r']*1.8),super[_0x1709b9(0x177)]();}['rotationAngle'](){const _0x4f9d64=_0x5a15da;switch(this[_0x4f9d64(0x160)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class LineArray extends CircuitElement{constructor(_0x4058e3,_0x129c2d,_0x2d8cbe=''){const _0x164c9a=_0x5a15da;super(_0x4058e3,_0x129c2d),this['r']=0x1e*SCALE_FACTOR,this['label']=_0x2d8cbe,this['isLeftPosition']=!![],this[_0x164c9a(0x197)]=![],this['electronCount']=0x5,this[_0x164c9a(0xf6)]=[],this[_0x164c9a(0x18f)]=0.02,this[_0x164c9a(0x17d)]=0x3*SCALE_FACTOR,this[_0x164c9a(0x1a7)]=0x0,this['reverseDirection']=!![],this['initElectrons']();}[_0x5a15da(0x145)](_0x84ee24){this['reverseDirection']=_0x84ee24,this['initElectrons']();}[_0x5a15da(0x105)](){const _0x1d5ba4=_0x5a15da;this[_0x1d5ba4(0xf6)]=[];for(let _0x9f947a=0x0;_0x9f947a<this['electronCount'];_0x9f947a++){this[_0x1d5ba4(0xf6)]['push']({'progress':_0x9f947a/this[_0x1d5ba4(0x18d)],'active':![]});}}[_0x5a15da(0x10b)](){this['orientation']=this['orientation']%0x4+0x1;}[_0x5a15da(0x181)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}[_0x5a15da(0x116)](_0x5ca78b){const _0xb542f0=_0x5a15da;_0x5ca78b['push'](),_0x5ca78b[_0xb542f0(0xf0)](1.5*SCALE_FACTOR),_0x5ca78b[_0xb542f0(0x156)](0x0);let _0xec7405=this['r']*0.75;const _0x1cf816=this[_0xb542f0(0x197)]?-0x1:0x1;_0x5ca78b[_0xb542f0(0xe6)](0x0*_0x1cf816,-_0xec7405,0x0*_0x1cf816,_0xec7405),_0x5ca78b[_0xb542f0(0xe6)](-_0xec7405*_0x1cf816,0x0,_0xec7405*_0x1cf816,0x0),_0x5ca78b['pop']();}[_0x5a15da(0x135)](){const _0x4121c2=_0x5a15da,_0x37eecf=this['r'],_0x15cdcd=-_0x37eecf*0.34,_0x1ae9db=this[_0x4121c2(0x197)]?-0x1:0x1,_0xd62d66=this[_0x4121c2(0x197)]?!this[_0x4121c2(0x14b)]:this[_0x4121c2(0x14b)],_0x5d06cb=[];if(_0xd62d66&&isCalculateButtonVisible){const _0x521726={};_0x521726['x']=_0x15cdcd*_0x1ae9db,_0x521726['y']=0x0,_0x5d06cb[_0x4121c2(0x148)](_0x521726);const _0x300a1f={};_0x300a1f['x']=_0x15cdcd*_0x1ae9db,_0x300a1f['y']=_0x37eecf*0.34,_0x5d06cb['push'](_0x300a1f);const _0x4a1906={};_0x4a1906['x']=-_0x37eecf*_0x1ae9db,_0x4a1906['y']=_0x37eecf*0.34,_0x5d06cb[_0x4121c2(0x148)](_0x4a1906);const _0x16a38b={};_0x16a38b['x']=-_0x37eecf*_0x1ae9db,_0x16a38b['y']=_0x37eecf*0.64,_0x5d06cb['push'](_0x16a38b);const _0x40ca11={};_0x40ca11['x']=-_0x37eecf*_0x1ae9db,_0x40ca11['y']=_0x37eecf*2.02,_0x5d06cb['push'](_0x40ca11);const _0x5ee5e5={};_0x5ee5e5['x']=-_0x37eecf*_0x1ae9db,_0x5ee5e5['y']=_0x37eecf*2.66,_0x5d06cb[_0x4121c2(0x148)](_0x5ee5e5);const _0x1066a6={};_0x1066a6['x']=0x0*_0x1ae9db,_0x1066a6['y']=_0x37eecf*2.66,_0x5d06cb[_0x4121c2(0x148)](_0x1066a6);}else{if(!_0xd62d66&&isCalculateButtonVisible){const _0x4dbd40={};_0x4dbd40['x']=-_0x15cdcd*_0x1ae9db,_0x4dbd40['y']=0x0,_0x5d06cb[_0x4121c2(0x148)](_0x4dbd40);const _0x23028={};_0x23028['x']=-_0x15cdcd*_0x1ae9db,_0x23028['y']=_0x37eecf*0.34,_0x5d06cb[_0x4121c2(0x148)](_0x23028);const _0x587c37={};_0x587c37['x']=_0x37eecf*_0x1ae9db,_0x587c37['y']=_0x37eecf*0.34,_0x5d06cb[_0x4121c2(0x148)](_0x587c37);const _0x113fe8={};_0x113fe8['x']=_0x37eecf*_0x1ae9db,_0x113fe8['y']=_0x37eecf*2.66,_0x5d06cb[_0x4121c2(0x148)](_0x113fe8);const _0x3d5799={};_0x3d5799['x']=0x0*_0x1ae9db,_0x3d5799['y']=_0x37eecf*2.66,_0x5d06cb[_0x4121c2(0x148)](_0x3d5799);}}return this[_0x4121c2(0x125)]&&_0x5d06cb[_0x4121c2(0x19a)](),_0x5d06cb;}['calculatePathLength'](_0x2bcd1a){const _0x47ac13=_0x5a15da;let _0x14ee24=0x0;for(let _0x1d38e8=0x1;_0x1d38e8<_0x2bcd1a[_0x47ac13(0xeb)];_0x1d38e8++){const _0x3fffc9=_0x2bcd1a[_0x1d38e8]['x']-_0x2bcd1a[_0x1d38e8-0x1]['x'],_0x9670b7=_0x2bcd1a[_0x1d38e8]['y']-_0x2bcd1a[_0x1d38e8-0x1]['y'];_0x14ee24+=Math['sqrt'](_0x3fffc9*_0x3fffc9+_0x9670b7*_0x9670b7);}return _0x14ee24;}[_0x5a15da(0x16e)](_0x18749e,_0x4727e5){const _0x1a100d=_0x5a15da,_0x921e6={};_0x921e6['x']=0x0,_0x921e6['y']=0x0;if(_0x18749e['length']<0x2)return _0x921e6;if(_0x4727e5<=0x0)return _0x18749e[0x0];if(_0x4727e5>=0x1)return _0x18749e[_0x18749e['length']-0x1];const _0x3d79c8=this[_0x1a100d(0x182)](_0x18749e);let _0x3a1e5e=_0x4727e5*_0x3d79c8,_0x387a6f=0x0;for(let _0xf4c066=0x1;_0xf4c066<_0x18749e[_0x1a100d(0xeb)];_0xf4c066++){const _0x5d33e9=_0x18749e[_0xf4c066]['x']-_0x18749e[_0xf4c066-0x1]['x'],_0x544fd6=_0x18749e[_0xf4c066]['y']-_0x18749e[_0xf4c066-0x1]['y'],_0x4eebc9=Math[_0x1a100d(0x19b)](_0x5d33e9*_0x5d33e9+_0x544fd6*_0x544fd6);if(_0x387a6f+_0x4eebc9>=_0x3a1e5e){const _0x3150df=(_0x3a1e5e-_0x387a6f)/_0x4eebc9,_0x380a5b={};return _0x380a5b['x']=_0x18749e[_0xf4c066-0x1]['x']+_0x5d33e9*_0x3150df,_0x380a5b['y']=_0x18749e[_0xf4c066-0x1]['y']+_0x544fd6*_0x3150df,_0x380a5b;}_0x387a6f+=_0x4eebc9;}return _0x18749e[_0x18749e[_0x1a100d(0xeb)]-0x1];}[_0x5a15da(0x13e)](){const _0x13f1a8=_0x5a15da,_0xb3efb=this['getActivePathPoints'](),_0x37ce72=this[_0x13f1a8(0x197)]?!this['isLeftPosition']:this[_0x13f1a8(0x14b)],_0x7a395c=_0x37ce72&&isCalculateButtonVisible||!_0x37ce72&&isCalculateButtonVisible;if(_0x7a395c&&_0xb3efb[_0x13f1a8(0xeb)]>0x1){const _0x394c6f=millis(),_0x2b5d78=(_0x394c6f-this[_0x13f1a8(0x1a7)])/0x3e8;this['lastFrameTime']=_0x394c6f;for(let _0x1424a2=0x0;_0x1424a2<this['electrons']['length'];_0x1424a2++){this[_0x13f1a8(0xf6)][_0x1424a2][_0x13f1a8(0x112)]=!![],this['electrons'][_0x1424a2][_0x13f1a8(0xe9)]+=this[_0x13f1a8(0x18f)]*_0x2b5d78,this[_0x13f1a8(0xf6)][_0x1424a2][_0x13f1a8(0xe9)]>0x1&&(this[_0x13f1a8(0xf6)][_0x1424a2][_0x13f1a8(0xe9)]=this[_0x13f1a8(0xf6)][_0x1424a2][_0x13f1a8(0xe9)]%0x1);}}else{for(let _0x324174=0x0;_0x324174<this[_0x13f1a8(0xf6)]['length'];_0x324174++){this[_0x13f1a8(0xf6)][_0x324174][_0x13f1a8(0x112)]=![];}this[_0x13f1a8(0x1a7)]=millis();}}[_0x5a15da(0xe4)](){const _0x442518=_0x5a15da,_0x133a11=this[_0x442518(0x135)]();if(_0x133a11[_0x442518(0xeb)]<0x2)return;for(let _0x12eb0e=0x0;_0x12eb0e<this[_0x442518(0xf6)][_0x442518(0xeb)];_0x12eb0e++){if(!this[_0x442518(0xf6)][_0x12eb0e]['active'])continue;const _0x2574a0=this[_0x442518(0x16e)](_0x133a11,this[_0x442518(0xf6)][_0x12eb0e][_0x442518(0xe9)]);push(),noStroke(),fill(0xff,0xff,0x0),circle(_0x2574a0['x'],_0x2574a0['y'],this['electronRadius']*0x2),pop();}}[_0x5a15da(0xf8)](){const _0x51a30f=_0x5a15da;super[_0x51a30f(0xf8)](),this[_0x51a30f(0x13e)](),strokeWeight(1.5*SCALE_FACTOR);let _0x4fed60=this['r'];const _0x30c2bd=-_0x4fed60*0.34,_0x1f10ad=this[_0x51a30f(0x197)]?-0x1:0x1,_0x185844=this[_0x51a30f(0x197)]?!this[_0x51a30f(0x14b)]:this[_0x51a30f(0x14b)];_0x185844&&isCalculateButtonVisible?stroke(0x0,0xff,0x0):stroke(0x0),line(_0x30c2bd*_0x1f10ad,0x0,_0x30c2bd*_0x1f10ad,_0x4fed60*0.34),line(-_0x4fed60*_0x1f10ad,_0x4fed60*0.34,_0x30c2bd*_0x1f10ad,_0x4fed60*0.34),line(-_0x4fed60*_0x1f10ad,_0x4fed60*0.34,-_0x4fed60*_0x1f10ad,_0x4fed60*0.64),line(-_0x4fed60*_0x1f10ad,_0x4fed60*2.02,-_0x4fed60*_0x1f10ad,_0x4fed60*2.66),line(-_0x4fed60*_0x1f10ad,_0x4fed60*2.66,0x0*_0x1f10ad,_0x4fed60*2.66),!_0x185844&&isCalculateButtonVisible?stroke(0x0,0xff,0x0):stroke(0x0),line(-_0x30c2bd*_0x1f10ad,0x0,-_0x30c2bd*_0x1f10ad,_0x4fed60*0.34),line(_0x4fed60*_0x1f10ad,_0x4fed60*0.34,-_0x30c2bd*_0x1f10ad,_0x4fed60*0.34),line(_0x4fed60*_0x1f10ad,_0x4fed60*0.34,_0x4fed60*_0x1f10ad,_0x4fed60*2.66),line(_0x4fed60*_0x1f10ad,_0x4fed60*2.66,0x0*_0x1f10ad,_0x4fed60*2.66),this[_0x51a30f(0xe4)](),super[_0x51a30f(0x177)]();}}class LineArraySimple extends CircuitElement{constructor(_0x337139,_0x4eae00,_0x287290=''){const _0x32627a=_0x5a15da;super(_0x337139,_0x4eae00),this['r']=0x3c*SCALE_FACTOR,this['label']=_0x287290,this[_0x32627a(0xe8)]=![],this[_0x32627a(0x197)]=![],this['electronCount']=0x5,this[_0x32627a(0xf6)]=[],this['electronSpeed']=0.02,this[_0x32627a(0x17d)]=0x3*SCALE_FACTOR,this[_0x32627a(0x1a7)]=0x0,this[_0x32627a(0x125)]=![],this[_0x32627a(0x105)]();}['setDirection'](_0x47dc36){const _0x4041de=_0x5a15da;this[_0x4041de(0x125)]=_0x47dc36,this['initElectrons']();}['initElectrons'](){const _0x5e4745=_0x5a15da;this[_0x5e4745(0xf6)]=[];for(let _0x5b7731=0x0;_0x5b7731<this[_0x5e4745(0x18d)];_0x5b7731++){this['electrons'][_0x5e4745(0x148)]({'progress':_0x5b7731/this[_0x5e4745(0x18d)],'active':![]});}}[_0x5a15da(0x10b)](){const _0x46515b=_0x5a15da;this[_0x46515b(0x160)]=this[_0x46515b(0x160)]%0x4+0x1;}[_0x5a15da(0x181)](){const _0x4929a2=_0x5a15da;switch(this[_0x4929a2(0x160)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}[_0x5a15da(0x116)](_0x585018){const _0x343108=_0x5a15da;_0x585018[_0x343108(0x148)](),_0x585018[_0x343108(0xf0)](1.5*SCALE_FACTOR),_0x585018[_0x343108(0x156)](0x0);let _0x3f837f=this['r']*0.75;const _0x442cd0=this[_0x343108(0x197)]?-0x1:0x1;_0x585018['line'](0x0*_0x442cd0,-_0x3f837f,0x0*_0x442cd0,_0x3f837f),_0x585018[_0x343108(0xe6)](-_0x3f837f*_0x442cd0,0x0,_0x3f837f*_0x442cd0,0x0),_0x585018['pop']();}[_0x5a15da(0x104)](){const _0x2b3185=_0x5a15da;let _0x19ad28=findElementByLabel(_0x2b3185(0x163)),_0x497222=![];return _0x19ad28&&(!_0x19ad28['isOpen']&&(_0x497222=!![])),this[_0x2b3185(0xe8)]&&isCalculateButtonVisible&&_0x497222;}['getActivePathPoints'](){const _0x14d66a=_0x5a15da,_0x1c4fdb=this['r'],_0x1481c4=this[_0x14d66a(0x197)]?-0x1:0x1,_0x462732=[],_0x4f9ea8={};_0x4f9ea8['x']=0x0,_0x4f9ea8['y']=0x0,_0x462732['push'](_0x4f9ea8);const _0x8ece27={};_0x8ece27['x']=-_0x1c4fdb*_0x1481c4,_0x8ece27['y']=0x0,_0x462732[_0x14d66a(0x148)](_0x8ece27);const _0x58319b={};_0x58319b['x']=-_0x1c4fdb*_0x1481c4,_0x58319b['y']=_0x1c4fdb*0.32,_0x462732['push'](_0x58319b);const _0x4353f6={};_0x4353f6['x']=-_0x1c4fdb*_0x1481c4,_0x4353f6['y']=_0x1c4fdb*0.9,_0x462732[_0x14d66a(0x148)](_0x4353f6);const _0x23827b={};_0x23827b['x']=-_0x1c4fdb*_0x1481c4,_0x23827b['y']=_0x1c4fdb*1.33,_0x462732[_0x14d66a(0x148)](_0x23827b);const _0x16824d={};return _0x16824d['x']=0x0,_0x16824d['y']=_0x1c4fdb*1.33,_0x462732['push'](_0x16824d),this[_0x14d66a(0x125)]&&_0x462732['reverse'](),_0x462732;}[_0x5a15da(0x182)](_0x1bad74){const _0xd0946f=_0x5a15da;let _0x3f42f9=0x0;for(let _0x1fd6be=0x1;_0x1fd6be<_0x1bad74['length'];_0x1fd6be++){const _0x57fc1b=_0x1bad74[_0x1fd6be]['x']-_0x1bad74[_0x1fd6be-0x1]['x'],_0x5f414b=_0x1bad74[_0x1fd6be]['y']-_0x1bad74[_0x1fd6be-0x1]['y'];_0x3f42f9+=Math[_0xd0946f(0x19b)](_0x57fc1b*_0x57fc1b+_0x5f414b*_0x5f414b);}return _0x3f42f9;}[_0x5a15da(0x16e)](_0x2299c4,_0x22d2ce){const _0x389a19=_0x5a15da,_0x432d1e={};_0x432d1e['x']=0x0,_0x432d1e['y']=0x0;if(_0x2299c4[_0x389a19(0xeb)]<0x2)return _0x432d1e;if(_0x22d2ce<=0x0)return _0x2299c4[0x0];if(_0x22d2ce>=0x1)return _0x2299c4[_0x2299c4[_0x389a19(0xeb)]-0x1];const _0x37c092=this[_0x389a19(0x182)](_0x2299c4);let _0x5444f4=_0x22d2ce*_0x37c092,_0x26d387=0x0;for(let _0x144ae5=0x1;_0x144ae5<_0x2299c4[_0x389a19(0xeb)];_0x144ae5++){const _0x54557f=_0x2299c4[_0x144ae5]['x']-_0x2299c4[_0x144ae5-0x1]['x'],_0xaf8f60=_0x2299c4[_0x144ae5]['y']-_0x2299c4[_0x144ae5-0x1]['y'],_0x3c9dd4=Math[_0x389a19(0x19b)](_0x54557f*_0x54557f+_0xaf8f60*_0xaf8f60);if(_0x26d387+_0x3c9dd4>=_0x5444f4){const _0x3f0e76=(_0x5444f4-_0x26d387)/_0x3c9dd4,_0x1ed46f={};return _0x1ed46f['x']=_0x2299c4[_0x144ae5-0x1]['x']+_0x54557f*_0x3f0e76,_0x1ed46f['y']=_0x2299c4[_0x144ae5-0x1]['y']+_0xaf8f60*_0x3f0e76,_0x1ed46f;}_0x26d387+=_0x3c9dd4;}return _0x2299c4[_0x2299c4['length']-0x1];}[_0x5a15da(0x13e)](){const _0x163f34=_0x5a15da,_0x1bcd41=this[_0x163f34(0x104)](),_0x1f523c=this[_0x163f34(0x135)]();if(_0x1bcd41&&_0x1f523c[_0x163f34(0xeb)]>0x1){const _0x15ba7a=millis(),_0x3c210e=(_0x15ba7a-this[_0x163f34(0x1a7)])/0x3e8;this[_0x163f34(0x1a7)]=_0x15ba7a;for(let _0x1df863=0x0;_0x1df863<this[_0x163f34(0xf6)][_0x163f34(0xeb)];_0x1df863++){this['electrons'][_0x1df863][_0x163f34(0x112)]=!![],this[_0x163f34(0xf6)][_0x1df863]['progress']+=this[_0x163f34(0x18f)]*_0x3c210e,this[_0x163f34(0xf6)][_0x1df863][_0x163f34(0xe9)]>0x1&&(this[_0x163f34(0xf6)][_0x1df863][_0x163f34(0xe9)]=this[_0x163f34(0xf6)][_0x1df863]['progress']%0x1);}}else{for(let _0x50bfc2=0x0;_0x50bfc2<this['electrons'][_0x163f34(0xeb)];_0x50bfc2++){this['electrons'][_0x50bfc2]['active']=![];}this[_0x163f34(0x1a7)]=millis();}}[_0x5a15da(0xe4)](){const _0x97a951=_0x5a15da,_0x4017cd=this[_0x97a951(0x104)]();if(!_0x4017cd)return;const _0x28e2e3=this[_0x97a951(0x135)]();if(_0x28e2e3['length']<0x2)return;for(let _0x1ccef1=0x0;_0x1ccef1<this[_0x97a951(0xf6)][_0x97a951(0xeb)];_0x1ccef1++){if(!this[_0x97a951(0xf6)][_0x1ccef1][_0x97a951(0x112)])continue;const _0x38c05b=this['getPositionOnPath'](_0x28e2e3,this[_0x97a951(0xf6)][_0x1ccef1][_0x97a951(0xe9)]);push(),noStroke(),fill(0xff,0xff,0x0),circle(_0x38c05b['x'],_0x38c05b['y'],this[_0x97a951(0x17d)]*0x2),pop();}}[_0x5a15da(0xf8)](){const _0x4a2b09=_0x5a15da;super[_0x4a2b09(0xf8)](),this[_0x4a2b09(0x13e)](),strokeWeight(1.5*SCALE_FACTOR);let _0xc73e48=this['r'];const _0x4e7ef8=this['isMirror']?-0x1:0x1;let _0x43caf3=findElementByLabel(_0x4a2b09(0x163)),_0x4f02b8=![];_0x43caf3&&(!_0x43caf3[_0x4a2b09(0x122)]&&(_0x4f02b8=!![])),this[_0x4a2b09(0xe8)]&&isCalculateButtonVisible&&_0x4f02b8?stroke(0x0,0xff,0x0):stroke(0x0),line(-_0xc73e48*_0x4e7ef8,0x0,0x0,0x0),line(-_0xc73e48*_0x4e7ef8,0x0,-_0xc73e48*_0x4e7ef8,_0xc73e48*0.32),line(-_0xc73e48*_0x4e7ef8,_0xc73e48*0.9,-_0xc73e48*_0x4e7ef8,_0xc73e48*1.33),line(-_0xc73e48*_0x4e7ef8,_0xc73e48*1.33,0x0,_0xc73e48*1.33),this['drawElectrons'](),super['postDisplay']();}}class SwitchSPDT extends CircuitElement{constructor(_0x36435b,_0x534e73,_0x158b7b){const _0x4e1602=_0x5a15da;super(_0x36435b,_0x534e73),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x4e1602(0x166)]=_0x158b7b,this[_0x4e1602(0x174)]=0x2,this[_0x4e1602(0xe1)]=0x0;}[_0x5a15da(0x116)](_0x395fbc){const _0x38c4da=_0x5a15da;_0x395fbc['strokeWeight'](1.5*SCALE_FACTOR),_0x395fbc[_0x38c4da(0x156)](0x0),_0x395fbc['noFill'](),_0x395fbc[_0x38c4da(0x151)](CENTER),_0x395fbc[_0x38c4da(0x137)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x395fbc['line'](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x395fbc['line'](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x395fbc['line'](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x395fbc['line'](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x395fbc[_0x38c4da(0xe3)](),_0x395fbc['fill'](0x0),_0x395fbc[_0x38c4da(0x13c)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x395fbc[_0x38c4da(0x11a)](this[_0x38c4da(0x166)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x5a15da(0xf8)](){const _0x26bee4=_0x5a15da;super['display'](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this[_0x26bee4(0x174)]===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this[_0x26bee4(0x174)]===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this['state']===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x26bee4(0x166)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super['postDisplay']();}[_0x5a15da(0x16b)](){const _0x1ea483=_0x5a15da;if(isCalculateButtonVisible){this[_0x1ea483(0x174)]=this[_0x1ea483(0x174)]===0x1?0x2:0x1;if(this[_0x1ea483(0x166)]===_0x1ea483(0x15a)){let _0x4363ee=findElementByLabel('E1'),_0x7d2937=findElementByLabel('LineArray1');_0x7d2937&&(_0x7d2937['isLeftPosition']=this[_0x1ea483(0x174)]===0x2),_0x4363ee&&(_0x4363ee[_0x1ea483(0x17b)]=this[_0x1ea483(0x174)]===0x2);}else{if(this[_0x1ea483(0x166)]==='SA2'){let _0x5d67bf=findElementByLabel('E2'),_0x3e18a6=findElementByLabel(_0x1ea483(0x186));_0x3e18a6&&(_0x3e18a6[_0x1ea483(0x14b)]=this[_0x1ea483(0x174)]===0x2),_0x5d67bf&&(_0x5d67bf[_0x1ea483(0x17b)]=this[_0x1ea483(0x174)]===0x1);}}calculateCircuit(),updateCounterDisplay();}}[_0x5a15da(0x181)](){const _0x3227e0=_0x5a15da;switch(this[_0x3227e0(0x160)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x68ca33,_0x1f47c6,_0x1644be){const _0x401111=_0x5a15da;super(_0x68ca33,_0x1f47c6),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this['label']=_0x1644be,this[_0x401111(0x122)]=!![],this[_0x401111(0xe1)]=0x0;}[_0x5a15da(0x116)](_0x16eed8){const _0x5e2f4c=_0x5a15da;_0x16eed8['strokeWeight'](1.5*SCALE_FACTOR),_0x16eed8['stroke'](0x0),_0x16eed8[_0x5e2f4c(0xe6)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x16eed8['line'](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x16eed8[_0x5e2f4c(0xe6)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x16eed8[_0x5e2f4c(0x138)](),_0x16eed8[_0x5e2f4c(0x151)](CENTER),_0x16eed8[_0x5e2f4c(0x137)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x16eed8[_0x5e2f4c(0xe3)](),_0x16eed8[_0x5e2f4c(0x115)](0x0),_0x16eed8['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x16eed8[_0x5e2f4c(0x11a)](this[_0x5e2f4c(0x166)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x5a15da(0xf8)](){const _0x11f4f8=_0x5a15da;super[_0x11f4f8(0xf8)](),strokeWeight(1.5*SCALE_FACTOR);let _0x10ade2=!![];if(this[_0x11f4f8(0x166)]==_0x11f4f8(0x15c)){let _0x13e39b=findElementByLabel(_0x11f4f8(0x163));_0x13e39b&&(_0x13e39b[_0x11f4f8(0x122)]&&(_0x10ade2=![]));}stroke(0x0),!this[_0x11f4f8(0x122)]&&(_0x10ade2&&stroke(0x0,0xff,0x0)),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this[_0x11f4f8(0x122)]?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x11f4f8(0x166)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x11f4f8(0x177)]();}[_0x5a15da(0x16b)](){const _0x517d4d=_0x5a15da;if(isCalculateButtonVisible){let _0x2da249=findElementByLabel('R3');if(this['label']===_0x517d4d(0x15c)){let _0x1ec5c9=findElementByLabel(_0x517d4d(0x171));_0x1ec5c9[_0x517d4d(0xe8)]=this[_0x517d4d(0x122)],_0x2da249&&(this['isOpen']?(savedR3Resistance=_0x2da249[_0x517d4d(0x178)],_0x2da249['resistance']='0'):(savedR3Resistance!==undefined?_0x2da249[_0x517d4d(0x178)]=savedR3Resistance:_0x2da249[_0x517d4d(0x178)]=_0x517d4d(0x111),savedR3Resistance=undefined));}this['isOpen']=!this[_0x517d4d(0x122)];let _0x5769a9=findElementByLabel(_0x517d4d(0x163)),_0xc08b59=findElementByLabel(_0x517d4d(0x15c));_0x5769a9&&_0xc08b59&&(_0x2da249&&(!_0x5769a9[_0x517d4d(0x122)]&&_0xc08b59['isOpen']?_0x2da249['isEnabled']=!![]:_0x2da249[_0x517d4d(0xe8)]=![])),calculateCircuit(),updateCounterDisplay();}}[_0x5a15da(0x181)](){const _0x29ce80=_0x5a15da;switch(this[_0x29ce80(0x160)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x400fe4,_0x4d6067,_0x5afcd4){this['x']=_0x400fe4,this['y']=_0x4d6067,this['text']=_0x5afcd4;}[_0x5a15da(0x136)](_0x122d47){const _0x55caee=_0x5a15da;this[_0x55caee(0x11a)]=_0x122d47;}['display'](){const _0x51efb7=_0x5a15da;if(!this[_0x51efb7(0x11a)])return;push(),translate(this['x'],this['y']);const _0x1663b4=color(0x3c,0x96,0x28),_0x468ed0=color(0xf0),_0x2b9a49=color('lightgray'),_0x293686=0xf*SCALE_FACTOR,_0x5cf66b=0x4*SCALE_FACTOR,_0x381f77=0x4*SCALE_FACTOR,_0x388650=0x2*SCALE_FACTOR;fill(_0x1663b4),textSize(_0x293686),textAlign(CENTER,CENTER);let _0x26a694=textWidth(this[_0x51efb7(0x11a)]);stroke(_0x51efb7(0x16d)),fill(_0x51efb7(0x128)),strokeWeight(0x1),rectMode(CENTER),rect(0x0,0x0,_0x26a694+_0x5cf66b*0x2,_0x293686+_0x381f77*0x2,_0x388650),noStroke(),fill(_0x1663b4),text(this[_0x51efb7(0x11a)],0x0,0x0),pop();}}

    </script>

    <!--
        MIT License

        Copyright (c) 2025 

        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:

        The above copyright notice and this permission notice shall be included in all
        copies or substantial portions of the Software.

        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
    -->  

</body>
</html>