<!DOCTYPE html>
<html lang="en">
<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=yes">      
    <meta name="author" content="Mykhailo Gotsuliak">
    <meta name="license" content="https://opensource.org/licenses/MIT">    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <style>

        html, body {
            overscroll-behavior: none;
            -webkit-overflow-scrolling: none;
        }  


        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; 
            background-color: #f5f5f5;            
        }
        canvas { display: block; }

        #palette-container {
            width: 150px !important;
            flex-basis: 150px !important; 
            max-width: 150px !important; 
            min-width: 150px !important; 
            background-color: #f5f5f5;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        
        #canvas-container {
          /*  touch-action: none; */
            display: flex;
            flex-direction: column; 
            align-items: center; 
            -webkit-overflow-scrolling: touch;             
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2 id="palette-heading"></h2>
        <div id="palette">
          <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    
    <div id="canvas-container">
    </div>
    

    <script>

const _0x3b816f=_0x2357;(function(_0x146486,_0x21f4af){const _0x3c120d=_0x2357,_0x30ee5f=_0x146486();while(!![]){try{const _0x18a14c=parseInt(_0x3c120d(0x24f))/0x1*(parseInt(_0x3c120d(0x26d))/0x2)+-parseInt(_0x3c120d(0x298))/0x3+-parseInt(_0x3c120d(0x24b))/0x4*(-parseInt(_0x3c120d(0x2a8))/0x5)+-parseInt(_0x3c120d(0x271))/0x6*(-parseInt(_0x3c120d(0x223))/0x7)+parseInt(_0x3c120d(0x279))/0x8*(parseInt(_0x3c120d(0x25f))/0x9)+-parseInt(_0x3c120d(0x240))/0xa*(parseInt(_0x3c120d(0x22a))/0xb)+-parseInt(_0x3c120d(0x1b9))/0xc;if(_0x18a14c===_0x21f4af)break;else _0x30ee5f['push'](_0x30ee5f['shift']());}catch(_0x4c37bd){_0x30ee5f['push'](_0x30ee5f['shift']());}}}(_0x2db9,0xbe2f4));let bgcolor='#f5f5f5',calculateBtnTitle='',visibilityBtnStateNormal='',visibilityBtnStateReturn='',lang='en';const _0x59873b={};_0x59873b['title']=_0x3b816f(0x253),_0x59873b['paletteHeading']=_0x3b816f(0x1e2),_0x59873b[_0x3b816f(0x218)]=_0x3b816f(0x265),_0x59873b[_0x3b816f(0x22f)]=_0x3b816f(0x263),_0x59873b['visibilityBtnStateReturn']=_0x3b816f(0x280),_0x59873b[_0x3b816f(0x24c)]=_0x3b816f(0x2a7),_0x59873b[_0x3b816f(0x1e5)]='px',_0x59873b[_0x3b816f(0x1c0)]=_0x3b816f(0x1be),_0x59873b['elementsToPlaceLabel']=_0x3b816f(0x1fe),_0x59873b[_0x3b816f(0x1bd)]=_0x3b816f(0x266),_0x59873b[_0x3b816f(0x258)]=_0x3b816f(0x1f7),_0x59873b[_0x3b816f(0x1c1)]=_0x3b816f(0x2c5),_0x59873b[_0x3b816f(0x26a)]='КОРОТКЕ\x20ЗАМИКАННЯ!',_0x59873b[_0x3b816f(0x286)]=_0x3b816f(0x210),_0x59873b[_0x3b816f(0x234)]=_0x3b816f(0x1d6),_0x59873b['unbalancedLoadWarning']=_0x3b816f(0x1d9),_0x59873b[_0x3b816f(0x25c)]=_0x3b816f(0x2c8),_0x59873b[_0x3b816f(0x1f3)]=_0x3b816f(0x2a4),_0x59873b[_0x3b816f(0x28a)]='Обрив\x20фазного\x20проводу!',_0x59873b[_0x3b816f(0x1f5)]=_0x3b816f(0x21b),_0x59873b[_0x3b816f(0x29b)]=_0x3b816f(0x1e0),_0x59873b[_0x3b816f(0x1b8)]=_0x3b816f(0x270),_0x59873b['shortCircuitAbbreviation']=_0x3b816f(0x216),_0x59873b['overloadAbbreviation']=_0x3b816f(0x206),_0x59873b[_0x3b816f(0x212)]='>1М',_0x59873b[_0x3b816f(0x202)]='Л\x20А\x20Т\x20Р',_0x59873b['voltageLabel']=_0x3b816f(0x225),_0x59873b['currentLabel']=_0x3b816f(0x251),_0x59873b[_0x3b816f(0x1e6)]=_0x3b816f(0x226),_0x59873b[_0x3b816f(0x29d)]='\x20А',_0x59873b[_0x3b816f(0x224)]='\x20В',_0x59873b[_0x3b816f(0x29c)]='\x20Вт',_0x59873b['ohmUnit']=_0x3b816f(0x248),_0x59873b[_0x3b816f(0x20f)]='\x20В',_0x59873b[_0x3b816f(0x272)]=_0x3b816f(0x27c);const _0x5c1c54={};_0x5c1c54[_0x3b816f(0x1d7)]=_0x3b816f(0x1fc),_0x5c1c54[_0x3b816f(0x23b)]='Circuit\x20Elements',_0x5c1c54[_0x3b816f(0x218)]=_0x3b816f(0x25e),_0x5c1c54[_0x3b816f(0x22f)]=_0x3b816f(0x2a1),_0x5c1c54[_0x3b816f(0x247)]=_0x3b816f(0x267),_0x5c1c54[_0x3b816f(0x24c)]=_0x3b816f(0x2a0),_0x5c1c54[_0x3b816f(0x1e5)]='px',_0x5c1c54[_0x3b816f(0x1c0)]=_0x3b816f(0x2ab),_0x5c1c54['elementsToPlaceLabel']='Elements\x20left\x20to\x20place:',_0x5c1c54[_0x3b816f(0x1bd)]=_0x3b816f(0x1e1),_0x5c1c54[_0x3b816f(0x258)]=_0x3b816f(0x2c4),_0x5c1c54[_0x3b816f(0x1c1)]='Calculation\x20Error!',_0x5c1c54[_0x3b816f(0x26a)]=_0x3b816f(0x261),_0x5c1c54[_0x3b816f(0x286)]=_0x3b816f(0x244),_0x5c1c54[_0x3b816f(0x234)]=_0x3b816f(0x275),_0x5c1c54['unbalancedLoadWarning']='Unbalanced\x20load.',_0x5c1c54[_0x3b816f(0x25c)]=_0x3b816f(0x24a),_0x5c1c54['lineWireBreak']=_0x3b816f(0x239),_0x5c1c54[_0x3b816f(0x28a)]=_0x3b816f(0x1d5),_0x5c1c54[_0x3b816f(0x1f5)]=_0x3b816f(0x220),_0x5c1c54[_0x3b816f(0x29b)]=_0x3b816f(0x288),_0x5c1c54['calculationErrorShort']=_0x3b816f(0x2bd),_0x5c1c54[_0x3b816f(0x28e)]=_0x3b816f(0x222),_0x5c1c54['overloadAbbreviation']=_0x3b816f(0x206),_0x5c1c54[_0x3b816f(0x212)]=_0x3b816f(0x232),_0x5c1c54['latrLabel']=_0x3b816f(0x1f2),_0x5c1c54[_0x3b816f(0x29d)]='\x20A',_0x5c1c54[_0x3b816f(0x224)]='\x20V',_0x5c1c54[_0x3b816f(0x1b7)]=_0x3b816f(0x221),_0x5c1c54[_0x3b816f(0x2c6)]=_0x3b816f(0x2be),_0x5c1c54[_0x3b816f(0x1e6)]=_0x3b816f(0x1ea),_0x5c1c54[_0x3b816f(0x29c)]='\x20W',_0x5c1c54['ohmUnit']='\x20Ohm',_0x5c1c54[_0x3b816f(0x20f)]='\x20V',_0x5c1c54[_0x3b816f(0x272)]=_0x3b816f(0x2b0);const _0x5ccd55={};_0x5ccd55['uk']=_0x59873b,_0x5ccd55['en']=_0x5c1c54;const translations=_0x5ccd55;function detectLanguage(){const _0x2ee254=_0x3b816f,_0x260ebc=navigator['language'][_0x2ee254(0x201)](),_0x12ad44=_0x260ebc['startsWith']('uk')||_0x260ebc['startsWith']('ua');lang=_0x12ad44?'uk':'en';}detectLanguage();function setLocalizedContent(){const _0x3794b9=_0x3b816f;document[_0x3794b9(0x1d7)]=translations[lang]['title'];const _0x412cc8=document[_0x3794b9(0x1f6)](_0x3794b9(0x250));_0x412cc8&&(_0x412cc8[_0x3794b9(0x23d)]=translations[lang][_0x3794b9(0x23b)]),calculateBtnTitle=translations[lang][_0x3794b9(0x218)],visibilityBtnStateNormal=translations[lang]['visibilityBtnStateNormal'],visibilityBtnStateReturn=translations[lang][_0x3794b9(0x247)];}document['addEventListener']('DOMContentLoaded',setLocalizedContent);const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x3b816f(0x29a)](navigator[_0x3b816f(0x1bf)]),isLargeMobileScreen=window['innerWidth']>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x2:1.5;let elements=[];const _0x159842={};_0x159842['type']=_0x3b816f(0x2c3),_0x159842[_0x3b816f(0x29e)]=_0x3b816f(0x2ce),_0x159842[_0x3b816f(0x25a)]=0x8c*SCALE_FACTOR,_0x159842[_0x3b816f(0x20a)]=0x64*SCALE_FACTOR,_0x159842['orientation']=0x1,_0x159842['placed']=![],_0x159842[_0x3b816f(0x299)]=![];const _0x4fcd52={};_0x4fcd52['type']=_0x3b816f(0x2c3),_0x4fcd52['label']='SA11',_0x4fcd52[_0x3b816f(0x25a)]=0x1c2*SCALE_FACTOR,_0x4fcd52[_0x3b816f(0x20a)]=0x64*SCALE_FACTOR,_0x4fcd52[_0x3b816f(0x208)]=0x1,_0x4fcd52[_0x3b816f(0x2a5)]=![],_0x4fcd52['isFixed']=![];const _0x11fdcd={};_0x11fdcd[_0x3b816f(0x246)]=_0x3b816f(0x2c3),_0x11fdcd[_0x3b816f(0x29e)]=_0x3b816f(0x283),_0x11fdcd[_0x3b816f(0x25a)]=0x8c*SCALE_FACTOR,_0x11fdcd[_0x3b816f(0x20a)]=0xfa*SCALE_FACTOR,_0x11fdcd['orientation']=0x1,_0x11fdcd['placed']=![],_0x11fdcd['isFixed']=![];const _0x3c4f0f={};_0x3c4f0f[_0x3b816f(0x246)]=_0x3b816f(0x2c3),_0x3c4f0f[_0x3b816f(0x29e)]='SA21',_0x3c4f0f['targetX']=0x1c2*SCALE_FACTOR,_0x3c4f0f[_0x3b816f(0x20a)]=0xfa*SCALE_FACTOR,_0x3c4f0f[_0x3b816f(0x208)]=0x1,_0x3c4f0f[_0x3b816f(0x2a5)]=![],_0x3c4f0f[_0x3b816f(0x299)]=![];const _0xc395e6={};_0xc395e6[_0x3b816f(0x246)]=_0x3b816f(0x2c3),_0xc395e6[_0x3b816f(0x29e)]='SA3',_0xc395e6['targetX']=0x8c*SCALE_FACTOR,_0xc395e6[_0x3b816f(0x20a)]=0x190*SCALE_FACTOR,_0xc395e6[_0x3b816f(0x208)]=0x1,_0xc395e6[_0x3b816f(0x2a5)]=![],_0xc395e6[_0x3b816f(0x299)]=![];const _0x4b9f78={};_0x4b9f78[_0x3b816f(0x246)]=_0x3b816f(0x2c3),_0x4b9f78[_0x3b816f(0x29e)]=_0x3b816f(0x25d),_0x4b9f78[_0x3b816f(0x25a)]=0x1c2*SCALE_FACTOR,_0x4b9f78[_0x3b816f(0x20a)]=0x190*SCALE_FACTOR,_0x4b9f78[_0x3b816f(0x208)]=0x1,_0x4b9f78[_0x3b816f(0x2a5)]=![],_0x4b9f78[_0x3b816f(0x299)]=![];const _0x59fdfa={};_0x59fdfa['type']='CustomAmmeter',_0x59fdfa[_0x3b816f(0x29e)]='PA1',_0x59fdfa[_0x3b816f(0x25a)]=0x4b*SCALE_FACTOR,_0x59fdfa['targetY']=0x64*SCALE_FACTOR,_0x59fdfa[_0x3b816f(0x208)]=0x1,_0x59fdfa['placed']=![],_0x59fdfa['isFixed']=![];function _0x2db9(){const _0x1eba39=['Напруга','\x20мкФ','PA2','SA11','0.00','1556247anXabq','forward_direction','text','PA31','animationTime','visibilityBtnStateNormal','filter','circle','>1M','palette-element','balancedLoadInfo','100','PA21','arc','show','Line\x20wire\x20break!','split','paletteHeading','displayPalette','textContent','fill','width','20scxIeg','lampRadius','clear','phase_break','OVERLOAD\x20(>100A)!','total_power','type','visibilityBtnStateReturn','\x20Ом','appendChild','Capacitive\x20load\x20(AB).','1432XJRIte','distanceToTargetLabel','setVisibility','replace','19MMPEca','palette-heading','Струм','lightgray','Лабораторна\x20симуляція:\x20симетричне\x20та\x20несиметричне\x20трифазне\x20коло\x20з\x27єднане\x20трикутником','Uab\x20=','>9999','string','calculateTotalPower','errorElementNotFound','function','targetX','toggleTimer','capacitiveLoadInfo','SA31','Experimental\x20Data','802845hcOVeS','noFill','SHORT\x20CIRCUIT!','resistance','Переключити\x20на\x20\x0a\x20конденсатор','mag','Дослідні\x20дані','Схему\x20зібрано!','Restore\x20\x0a\x20load','elementOrientation','cos','errorShortCircuit','#4CAF50','dataset','44998YgeFJl','sqrt','round','Пом.','34440GjGJHf','enterCapacityPrompt','floor','line','Balanced\x20load.','_previousLampStates','noStroke','capacitive','120tPvbpl','innerHTML','Ica\x20=\x20','Введіть\x20ємність\x20для\x20','Uab\x20=\x20','current','isTogglingLamp','Повернути\x20\x0a\x20навантаження','Ubc\x20=\x200.0\x20V','display','SA2','ohmUnit','Ubc\x20=','overloadMessage','atan2','No\x20load\x20connected.','click','phaseWireBreak','sin','Induction','lastToggleTime','shortCircuitAbbreviation','elementLabel','now','PA11','voltageDrop','offsetY','Ibc\x20=\x20','bottom','offsetX','ang','1854918aQrCiU','isFixed','test','noLoadInfo','wattUnit','ampereUnit','label','253','Distance\x20to\x20target:','Switch\x20to\x20\x0a\x20capacitor','waveformColorCurrent','voltage','Обрив\x20лінійного\x20проводу!','placed','undefined','Відстань\x20до\x20точки:','16510VRubBm','rectMode','currentTarget','Target\x20point\x20not\x20found','Correctly\x20placed!','phaseAngleDeg','pop','elementType','Enter\x20capacitance\x20for\x20','glowIntensity','blue','some','strokeWeight','contains','lampSpacing','balanced','lightyellow','capacity','rect','SA21','powerPerLamp','Err.','Current','Ubc\x20=\x20','postDisplay','push','unbalanced','Switch','Error:\x20Element\x20not\x20found!','Помилка\x20розрахунку!','currentLabel','tapPosition','Ємнісне\x20навантаження\x20(AB).','setLineDash','textAlign','div','isEnabled','isActive','SA1','elementsToPlaceLabel','Uca\x20=','setText','induction','voltageLabel','calculationErrorShort','15484512PwQvzF','textSize','max','stroke','circuitAssembled','Цільова\x20точка\x20не\x20знайдена','userAgent','targetNotFound','errorCalculation','Uca\x20=\x20','length','calculationDisplayValue','boolean','power','combo_break','triangle','remove','isOpen','forEach','lamps','unbalancedLoadWarning','addEventListener','setEnabled','paletteIndex','toggleState','currentAmplitude','switchAngle','no_load','Phase\x20wire\x20break!','Симетричне\x20навантаження.','title','toFixed','Несиметричне\x20навантаження.','isDragging','palette','PA1','update','currentWarningType','isVisible','Холостий\x20хід.','Circuit\x20assembled!','Елементи\x20схеми','waveformColorVoltage','SA3','pixelsUnit','microFaradUnit','createElement','CustomAmmeter','Uca\x20=\x200.0\x20V','\x20μF','PA3','numLamps','voltageAmplitude','\x20\x20мГн','HLG3','normal','startsWith','LATR','lineWireBreak','Uab\x20=\x200.0\x20V','comboWireBreak','getElementById','Помилка:\x20Елемент\x20не\x20знайдено!','green','add','GroupLamp','Capacity','Lab\x20Simulation\x20for\x20Students:\x20Balanced\x20and\x20Unbalanced\x20Δ-Connected\x20Three-Phase\x20Circuit','HLG2','Потрібно\x20поставити\x20елементів:','abs','Ic\x20=\x20','toLowerCase','latrLabel','levels','drawingContext','line_break','>100A','Resistor','orientation','classList','targetY','placedElementData','updateWaveform','HLG1','Ia\x20=\x20','voltsUnitLATR','ПЕРЕВАНТАЖЕННЯ\x20(>100A)!','overload','overMillionAbbreviation','includes','height','find','КЗ!','canvas','calculateBtnTitle','rotationAngle','error','Обрив\x20лінійного\x20та\x20фазного\x20проводу!','Ib\x20=\x20','copy','getClickedLampIndex','Iab\x20=\x20','Line\x20&\x20Phase\x20wire\x20break!','Voltage','SC!','28EXnKkA','voltUnit'];_0x2db9=function(){return _0x1eba39;};return _0x2db9();}const _0x19545b={};_0x19545b[_0x3b816f(0x246)]=_0x3b816f(0x1e8),_0x19545b[_0x3b816f(0x29e)]=_0x3b816f(0x291),_0x19545b['targetX']=0x205*SCALE_FACTOR,_0x19545b['targetY']=0x64*SCALE_FACTOR,_0x19545b[_0x3b816f(0x208)]=0x1,_0x19545b[_0x3b816f(0x2a5)]=![],_0x19545b[_0x3b816f(0x299)]=![];const _0x3d2335={};_0x3d2335[_0x3b816f(0x246)]=_0x3b816f(0x1e8),_0x3d2335[_0x3b816f(0x29e)]=_0x3b816f(0x227),_0x3d2335[_0x3b816f(0x25a)]=0x4b*SCALE_FACTOR,_0x3d2335['targetY']=0xfa*SCALE_FACTOR,_0x3d2335[_0x3b816f(0x208)]=0x1,_0x3d2335[_0x3b816f(0x2a5)]=![],_0x3d2335[_0x3b816f(0x299)]=![];const _0x105c01={};_0x105c01['type']=_0x3b816f(0x1e8),_0x105c01[_0x3b816f(0x29e)]=_0x3b816f(0x236),_0x105c01['targetX']=0x205*SCALE_FACTOR,_0x105c01[_0x3b816f(0x20a)]=0xfa*SCALE_FACTOR,_0x105c01[_0x3b816f(0x208)]=0x1,_0x105c01[_0x3b816f(0x2a5)]=![],_0x105c01['isFixed']=![];const _0x59edae={};_0x59edae['type']=_0x3b816f(0x1e8),_0x59edae[_0x3b816f(0x29e)]='PA3',_0x59edae['targetX']=0x4b*SCALE_FACTOR,_0x59edae[_0x3b816f(0x20a)]=0x190*SCALE_FACTOR,_0x59edae[_0x3b816f(0x208)]=0x1,_0x59edae[_0x3b816f(0x2a5)]=![],_0x59edae[_0x3b816f(0x299)]=![];const _0x2a9be8={};_0x2a9be8[_0x3b816f(0x246)]=_0x3b816f(0x1e8),_0x2a9be8[_0x3b816f(0x29e)]='PA31',_0x2a9be8[_0x3b816f(0x25a)]=0x205*SCALE_FACTOR,_0x2a9be8[_0x3b816f(0x20a)]=0x190*SCALE_FACTOR,_0x2a9be8[_0x3b816f(0x208)]=0x1,_0x2a9be8[_0x3b816f(0x2a5)]=![],_0x2a9be8[_0x3b816f(0x299)]=![];const _0x21056b={};_0x21056b[_0x3b816f(0x246)]='Capacity',_0x21056b[_0x3b816f(0x29e)]='C1',_0x21056b['targetX']=0x12c*SCALE_FACTOR,_0x21056b[_0x3b816f(0x20a)]=0x64*SCALE_FACTOR,_0x21056b[_0x3b816f(0x208)]=0x1,_0x21056b['placed']=![],_0x21056b[_0x3b816f(0x299)]=![];const _0x2cdfbb={};_0x2cdfbb[_0x3b816f(0x246)]=_0x3b816f(0x1fa),_0x2cdfbb[_0x3b816f(0x29e)]=_0x3b816f(0x20d),_0x2cdfbb['targetX']=0x12c*SCALE_FACTOR,_0x2cdfbb[_0x3b816f(0x20a)]=0x64*SCALE_FACTOR,_0x2cdfbb[_0x3b816f(0x208)]=0x1,_0x2cdfbb[_0x3b816f(0x2a5)]=![],_0x2cdfbb['isFixed']=![],_0x2cdfbb[_0x3b816f(0x2bc)]=0x19;const _0x36a330={};_0x36a330[_0x3b816f(0x246)]=_0x3b816f(0x1fa),_0x36a330[_0x3b816f(0x29e)]=_0x3b816f(0x1fd),_0x36a330['targetX']=0x12c*SCALE_FACTOR,_0x36a330[_0x3b816f(0x20a)]=0xfa*SCALE_FACTOR,_0x36a330[_0x3b816f(0x208)]=0x1,_0x36a330[_0x3b816f(0x2a5)]=![],_0x36a330[_0x3b816f(0x299)]=![],_0x36a330[_0x3b816f(0x2bc)]=0x19;const _0x4f70e0={};_0x4f70e0[_0x3b816f(0x246)]=_0x3b816f(0x1fa),_0x4f70e0[_0x3b816f(0x29e)]=_0x3b816f(0x1ef),_0x4f70e0[_0x3b816f(0x25a)]=0x12c*SCALE_FACTOR,_0x4f70e0[_0x3b816f(0x20a)]=0x190*SCALE_FACTOR,_0x4f70e0['orientation']=0x1,_0x4f70e0[_0x3b816f(0x2a5)]=![],_0x4f70e0[_0x3b816f(0x299)]=![],_0x4f70e0[_0x3b816f(0x2bc)]=0x19;let paletteElementsData=[_0x159842,_0x4fcd52,_0x11fdcd,_0x3c4f0f,_0xc395e6,_0x4b9f78,_0x59fdfa,_0x19545b,_0x3d2335,_0x105c01,_0x59edae,_0x2a9be8,_0x21056b,_0x2cdfbb,_0x36a330,_0x4f70e0];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null;const _0x57d7f7={};_0x57d7f7[_0x3b816f(0x2b5)]=function(){return![];},_0x57d7f7[_0x3b816f(0x1f9)]=function(){},_0x57d7f7[_0x3b816f(0x1c9)]=function(){};const _0x53752e={};_0x53752e[_0x3b816f(0x23d)]='',_0x53752e['classList']=_0x57d7f7;let messageBox=_0x53752e,messageTimeout;const _0x4fc773={};_0x4fc773[_0x3b816f(0x23d)]='';let counterBox=_0x4fc773;const _0x5ec8aa={};_0x5ec8aa[_0x3b816f(0x23d)]='';let distanceBox=_0x5ec8aa;const _0xed4655={};_0xed4655[_0x3b816f(0x2b5)]=function(){return![];},_0xed4655['add']=function(){},_0xed4655[_0x3b816f(0x1c9)]=function(){};const _0x389265={};_0x389265[_0x3b816f(0x209)]=_0xed4655;let calculateButton=_0x389265,isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320,SWITCH_TOGGLE_DELAY=0x3e8;let lastButtonClickTime=0x0,pressModeCalculateBtn=![];const BUTTON_CLICK_DELAY=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=0xeb,warningMessageText='';window[_0x3b816f(0x1de)]=_0x3b816f(0x1f0);let isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x3e8;let isTogglingVisibility=![],visibilityToggleTimer=null;const VISIBILITY_TOGGLE_DELAY=0xfa;function runPerformanceTest(){const _0x30fe1b=_0x3b816f,_0x3090c4=0xf4240;let _0x2cc250=0x0;const _0x51cbf4=performance['now']();for(let _0x2cdbd9=0x0;_0x2cdbd9<_0x3090c4;_0x2cdbd9++){_0x2cc250+=Math[_0x30fe1b(0x28b)](Math['sqrt'](_0x2cdbd9))*Math['cos'](_0x2cdbd9/0x2)/(_0x2cdbd9+0x1);}const _0x1e8aa1=performance[_0x30fe1b(0x290)]();return _0x1e8aa1-_0x51cbf4;}let targetFrameRate=0x1e,targetPixelDensity=0x1;function setup(){const _0x11ad10=_0x3b816f,_0x3c4596=runPerformanceTest(),_0x4db5bc=0xb4,_0x44d533=0x5a;if(_0x3c4596>_0x4db5bc)targetFrameRate=0x1e,targetPixelDensity=0x1;else _0x3c4596>_0x44d533?(targetFrameRate=0x28,targetPixelDensity=0x1):(targetFrameRate=0x2d,targetPixelDensity=1.5);pixelDensity(targetPixelDensity),frameRate(targetFrameRate),createCanvas(0x2ee*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x11ad10(0x1c3)],staticVoltageDisplayAB=new StaticTextDisplay(0xaa*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x11ad10(0x254)),elements[_0x11ad10(0x2c1)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xaa*SCALE_FACTOR,0x122*SCALE_FACTOR,_0x11ad10(0x285)),elements[_0x11ad10(0x2c1)](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xaa*SCALE_FACTOR,0x1b8*SCALE_FACTOR,_0x11ad10(0x2d0)),elements[_0x11ad10(0x2c1)](staticVoltageDisplayCA);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x54ca16=_0x3b816f,_0xf65c5f={};_0xf65c5f[_0x54ca16(0x283)]=null,_0xf65c5f['E2']=null;let _0x2038e3=_0xf65c5f;paletteElementsData[_0x54ca16(0x1cb)](_0x36afa8=>{const _0x3b8570=_0x54ca16;let _0x94da8c=createPaletteElementInstance(_0x36afa8[_0x3b8570(0x246)],_0x36afa8[_0x3b8570(0x29e)],_0x36afa8[_0x3b8570(0x208)],_0x36afa8[_0x3b8570(0x25a)],_0x36afa8['targetY'],_0x36afa8);_0x94da8c[_0x3b8570(0x29e)]==='Rk'&&(_0x94da8c[_0x3b8570(0x262)]='20'),elements['push'](_0x94da8c),_0x36afa8[_0x3b8570(0x2a5)]=!![],_0x36afa8[_0x3b8570(0x299)]=!![],_0x94da8c[_0x3b8570(0x20b)][_0x3b8570(0x2a5)]=!![],_0x94da8c[_0x3b8570(0x20b)]['isFixed']=!![];}),paletteElementsData=[];const _0x49a96e=document['getElementById']('palette');_0x49a96e[_0x54ca16(0x27a)]='',createPalette();}function createPalette(){const _0x2f03ee=_0x3b816f,_0x202e74=document[_0x2f03ee(0x1f6)](_0x2f03ee(0x1db));paletteElementsData[_0x2f03ee(0x1cb)]((_0x2b8ecb,_0x254595)=>{const _0xe74b4e=_0x2f03ee,_0x7539ee=document[_0xe74b4e(0x1e7)](_0xe74b4e(0x2cb));_0x7539ee[_0xe74b4e(0x209)][_0xe74b4e(0x1f9)](_0xe74b4e(0x233));let _0x292926=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x292926[_0xe74b4e(0x242)](),_0x292926[_0xe74b4e(0x2c1)](),_0x292926['translate'](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x26aca4=createPaletteElementInstance(_0x2b8ecb[_0xe74b4e(0x246)],_0x2b8ecb[_0xe74b4e(0x29e)],_0x2b8ecb[_0xe74b4e(0x208)],0x0,0x0,_0x2b8ecb);_0x26aca4[_0xe74b4e(0x208)]=_0x2b8ecb['orientation'],_0x26aca4[_0xe74b4e(0x23c)](_0x292926),_0x292926[_0xe74b4e(0x2ae)]();const _0x3dc945=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x3dc945[_0xe74b4e(0x21d)](_0x292926,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x7539ee[_0xe74b4e(0x249)](_0x3dc945[_0xe74b4e(0x217)]),_0x7539ee[_0xe74b4e(0x26c)][_0xe74b4e(0x2af)]=_0x2b8ecb[_0xe74b4e(0x246)],_0x7539ee[_0xe74b4e(0x26c)][_0xe74b4e(0x28f)]=_0x2b8ecb['label'],_0x7539ee[_0xe74b4e(0x26c)]['elementOrientation']=_0x2b8ecb[_0xe74b4e(0x208)],_0x7539ee[_0xe74b4e(0x26c)][_0xe74b4e(0x1d0)]=_0x254595,_0x7539ee[_0xe74b4e(0x1ce)](_0xe74b4e(0x289),paletteElementClick),_0x202e74[_0xe74b4e(0x249)](_0x7539ee);});}function draw(){const _0x288a44=_0x3b816f;background(bgcolor),strokeWeight(0x1);const _0x44af85=0x2ee*SCALE_FACTOR,_0x550742=0x1c2*SCALE_FACTOR,_0x439060=0x32*SCALE_FACTOR;stroke(_0x288a44(0x252));function _0x3f3ba2(_0x59d6e0,_0x31e119,_0x269d24,_0xd1abc3){line(_0x59d6e0,_0x31e119,_0x269d24,_0xd1abc3);}for(let _0x557325=0x0;_0x557325<=_0x550742;_0x557325+=_0x439060){_0x3f3ba2(0x0,_0x557325,_0x44af85,_0x557325);}for(let _0x32920a=0x0;_0x32920a<=_0x44af85;_0x32920a+=_0x439060){_0x3f3ba2(_0x32920a,0x0,_0x32920a,_0x550742);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xeb*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill();let _0xc6e7f8=0x64;circle(0x1c*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x3f3ba2(0x1e*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x5a*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x78*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0xa0*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x192*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x1d6*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x212*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR),_0x3f3ba2(0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR,0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR),_0x3f3ba2(0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR,0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x96*SCALE_FACTOR),circle(0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x96*SCALE_FACTOR,0x3*SCALE_FACTOR),_0xc6e7f8=0xfa,circle(0x1c*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x3f3ba2(0x1e*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x5a*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x78*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0xa0*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x192*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x1d6*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x212*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR),_0x3f3ba2(0x23f*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR,0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR),_0x3f3ba2(0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x4b*SCALE_FACTOR,0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x96*SCALE_FACTOR),circle(0xb4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR+0x96*SCALE_FACTOR,0x3*SCALE_FACTOR),_0xc6e7f8=0x190,circle(0x1c*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x3f3ba2(0x1e*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x5a*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x78*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0xa0*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x192*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x1d6*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x212*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x262*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR),_0x3f3ba2(0x262*SCALE_FACTOR,_0xc6e7f8*SCALE_FACTOR,0x262*SCALE_FACTOR,0x19*SCALE_FACTOR),_0x3f3ba2(0x262*SCALE_FACTOR,0x19*SCALE_FACTOR,0xb4*SCALE_FACTOR,0x19*SCALE_FACTOR),_0x3f3ba2(0xb4*SCALE_FACTOR,0x19*SCALE_FACTOR,0xb4*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0xb4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);for(let _0x1295c9 of elements){typeof _0x1295c9[_0x288a44(0x1dd)]===_0x288a44(0x259)&&_0x1295c9[_0x288a44(0x1dd)](),_0x1295c9[_0x288a44(0x282)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x288a44(0x282)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox();}function drawWarningMessageBox(){const _0x2e7ea5=_0x3b816f;if(!warningMessageText)return;push();let _0x3d76de=0xf*SCALE_FACTOR,_0x19f99e=0x2d*SCALE_FACTOR,_0x489a00=0x118*SCALE_FACTOR,_0x85cf73=(width-_0x489a00)/0x2-0x64*SCALE_FACTOR,_0x7c1f9b=height-0x3a*SCALE_FACTOR-_0x19f99e-0xa*SCALE_FACTOR;rectMode(CORNER);let _0x19194b,_0x23ba63,_0x45344,_0x361af9=![],_0x276309=window[_0x2e7ea5(0x1de)]||_0x2e7ea5(0x1f0);switch(_0x276309){case'sc':_0x19194b=color(0xff,0xb4,0xb4),_0x23ba63=color(0xe6,0x0,0x0),_0x45344=color(0xaa,0x0,0x0),_0x361af9=!![];break;case _0x2e7ea5(0x211):_0x19194b=color(0xff,0xb4,0xb4),_0x23ba63=color(0xe6,0x0,0x0),_0x45344=color(0xaa,0x0,0x0),_0x361af9=!![];break;case _0x2e7ea5(0x205):_0x19194b=color(0xe6,0xe1,0xb4),_0x23ba63=color(0xaa,0x96,0x46),_0x45344=color(0x82,0x6e,0x1e);break;case'phase_break':_0x19194b=color(0xe6,0xd2,0xb4),_0x23ba63=color(0xaa,0x82,0x50),_0x45344=color(0x82,0x5a,0x28);break;case'combo_break':_0x19194b=color(0xe6,0xc8,0xd7),_0x23ba63=color(0xaa,0x6e,0x8c),_0x45344=color(0x82,0x46,0x64);break;case _0x2e7ea5(0x278):_0x19194b=color(0xd2,0xe1,0xeb),_0x23ba63=color(0x64,0x82,0x96),_0x45344=color(0x3c,0x5a,0x6e);break;case'unbalanced':_0x19194b=color(0xd2,0xd7,0xe6),_0x23ba63=color(0x64,0x6e,0x96),_0x45344=color(0x46,0x50,0x78);break;case _0x2e7ea5(0x2b7):_0x19194b=color(0xd2,0xe6,0xd2),_0x23ba63=color(0x64,0x8c,0x64),_0x45344=color(0x3c,0x64,0x3c);break;case _0x2e7ea5(0x21a):_0x19194b=color(0xe6,0xe6,0xe6),_0x23ba63=color(0x78,0x78,0x78),_0x45344=color(0x3c,0x3c,0x3c),_0x361af9=!![];break;case _0x2e7ea5(0x1d4):_0x19194b=color(0xd2,0xe6,0xd2),_0x23ba63=color(0x64,0x8c,0x64),_0x45344=color(0x3c,0x64,0x3c);break;default:_0x19194b=color(0xf5,0xf5,0xf5),_0x23ba63=color(0xb4,0xb4,0xb4),_0x45344=color(0x5a,0x5a,0x5a);break;}let _0x39a02a=!![];if(_0x361af9){let _0x107a64=millis();_0x107a64-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x107a64);if(!blinkState)_0x39a02a=![];}else blinkState=!![];_0x39a02a&&(fill(_0x19194b),stroke(_0x23ba63),strokeWeight(1.5*SCALE_FACTOR),rect(_0x85cf73,_0x7c1f9b,_0x489a00,_0x19f99e,0x5*SCALE_FACTOR),noStroke(),fill(_0x45344),textStyle(BOLD),textSize(_0x3d76de),textAlign(CENTER,CENTER),(_0x361af9||_0x276309==='error')&&textStyle(BOLD),text(warningMessageText[_0x2e7ea5(0x24e)]('&','\x20'),_0x85cf73+_0x489a00/0x2,_0x7c1f9b+_0x19f99e/0x2),textStyle(NORMAL)),pop();}function drawMessageBox(){const _0x325662=_0x3b816f;messageBox[_0x325662(0x209)][_0x325662(0x2b5)](_0x325662(0x238))&&(push(),fill('lightgreen'),stroke(_0x325662(0x1f8)),strokeWeight(0x1),rectMode(CORNER),rect(0xaf*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox[_0x325662(0x23d)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x1a4e3d=_0x3b816f;push(),fill(_0x1a4e3d(0x2b8)),stroke('orange'),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x1a4e3d(0x23d)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x261455=_0x3b816f;push(),fill('lightcyan'),stroke(_0x261455(0x2b2)),strokeWeight(0x1),rectMode(CORNER),rect(0xaf*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x261455(0x23d)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x597b56=_0x3b816f;if(isCalculateButtonVisible){push();let _0x299211=0x19*SCALE_FACTOR;textSize(_0x299211),textAlign(CENTER,CENTER);let _0x3c597a=textWidth(calculateBtnTitle),_0x3a7b54=0x1e*SCALE_FACTOR,_0x5ac93c=_0x3c597a+_0x3a7b54,_0x5611eb=0x32*SCALE_FACTOR,_0x442953=0x5*SCALE_FACTOR,_0x129e5f=0x113*SCALE_FACTOR,_0x568631=height-0x32*SCALE_FACTOR+_0x5611eb/0x2,_0x43aed1=millis();!(_0x43aed1-lastButtonClickTime<BUTTON_CLICK_DELAY/0x5)&&(pressModeCalculateBtn=![]);let _0x46b5f3=_0x129e5f,_0x3aa0d8=_0x568631;pressModeCalculateBtn&&(_0x46b5f3+=0x1*SCALE_FACTOR,_0x3aa0d8+=0x2*SCALE_FACTOR),rectMode(CENTER),fill(_0x597b56(0x26b)),noStroke(),rect(_0x46b5f3,_0x3aa0d8,_0x5ac93c,_0x5611eb,_0x442953),fill(0xff),text(calculateBtnTitle,_0x46b5f3,_0x3aa0d8),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x9afbdd=_0x3b816f,_0x1ad0e1=findElementByLabel(_0x9afbdd(0x2ce)),_0x241f1a=findElementByLabel(_0x9afbdd(0x228)),_0x7e2816=findElementByLabel(_0x9afbdd(0x283)),_0x5ba43b=findElementByLabel(_0x9afbdd(0x1e4));let _0x17a2dd=[_0x1ad0e1,_0x7e2816,_0x5ba43b][_0x9afbdd(0x230)](_0x21c6c8=>_0x21c6c8[_0x9afbdd(0x1ca)])[_0x9afbdd(0x1c3)];const _0x133694=findElementByLabel(_0x9afbdd(0x20d));if(!_0x1ad0e1||!_0x241f1a||!_0x7e2816||!_0x5ba43b||!_0x133694)return;if(!(_0x1ad0e1 instanceof Switch)||!(_0x241f1a instanceof Switch)||!(_0x133694 instanceof GroupLamp))return;const _0x42296b=_0x1ad0e1[_0x9afbdd(0x1ca)],_0x41e0cb=_0x241f1a[_0x9afbdd(0x1ca)],_0x577c07=!_0x41e0cb&&_0x17a2dd<0x2;if(_0x133694[_0x9afbdd(0x2cc)]!==_0x577c07)_0x133694[_0x9afbdd(0x1cf)](_0x577c07);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x2e2819=_0x3b816f,_0x3dfde3=findElementByLabel(_0x2e2819(0x283)),_0x27677e=findElementByLabel(_0x2e2819(0x2bb)),_0x1d79b5=findElementByLabel(_0x2e2819(0x1fd)),_0x260b2d=findElementByLabel(_0x2e2819(0x2ce)),_0x3a11da=findElementByLabel(_0x2e2819(0x1e4));if(!_0x3dfde3||!_0x27677e||!_0x260b2d||!_0x3a11da||!_0x1d79b5)return;if(!(_0x3dfde3 instanceof Switch)||!(_0x27677e instanceof Switch)||!(_0x1d79b5 instanceof GroupLamp))return;let _0x508368=[_0x260b2d,_0x3dfde3,_0x3a11da][_0x2e2819(0x230)](_0x491b82=>_0x491b82[_0x2e2819(0x1ca)])[_0x2e2819(0x1c3)];const _0x5d1e3a=_0x3dfde3[_0x2e2819(0x1ca)],_0x417015=_0x27677e[_0x2e2819(0x1ca)],_0x25b71f=!_0x417015&&_0x508368<0x2;if(_0x1d79b5[_0x2e2819(0x2cc)]!==_0x25b71f)_0x1d79b5[_0x2e2819(0x1cf)](_0x25b71f);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x2f5b9e=_0x3b816f,_0x42288e=findElementByLabel(_0x2f5b9e(0x1e4)),_0x3a6b7a=findElementByLabel(_0x2f5b9e(0x25d)),_0xebe00b=findElementByLabel(_0x2f5b9e(0x1ef)),_0xe203ae=findElementByLabel(_0x2f5b9e(0x2ce)),_0x2d00d5=findElementByLabel(_0x2f5b9e(0x283));if(!_0x42288e||!_0x3a6b7a||!_0xe203ae||!_0x2d00d5||!_0xebe00b)return;if(!(_0x42288e instanceof Switch)||!(_0x3a6b7a instanceof Switch)||!(_0xebe00b instanceof GroupLamp))return;let _0x352c56=[_0xe203ae,_0x2d00d5,_0x42288e]['filter'](_0x357f5a=>_0x357f5a[_0x2f5b9e(0x1ca)])[_0x2f5b9e(0x1c3)];const _0x1512ba=_0x42288e[_0x2f5b9e(0x1ca)],_0x3c9ed0=_0x3a6b7a['isOpen'],_0x26ef14=!_0x3c9ed0&&_0x352c56<0x2;if(_0xebe00b[_0x2f5b9e(0x2cc)]!==_0x26ef14)_0xebe00b[_0x2f5b9e(0x1cf)](_0x26ef14);else;}function drawVisibilityToggleButton(){const _0x4b8631=_0x3b816f;push();const _0x5b1471=0xc*SCALE_FACTOR;textSize(_0x5b1471),textAlign(CENTER,CENTER);let _0xd190df=isC1CurrentlyVisible?visibilityBtnStateReturn:visibilityBtnStateNormal;const _0x20a08b=_0xd190df[_0x4b8631(0x23a)]('\x0a');let _0x483620=0x0;for(let _0xa71f5b=0x0;_0xa71f5b<_0x20a08b[_0x4b8631(0x1c3)];_0xa71f5b++){const _0x126623=textWidth(_0x20a08b[_0xa71f5b]);_0x126623>_0x483620&&(_0x483620=_0x126623);}const _0x3442a5=0x14*SCALE_FACTOR,_0x2a6fc3=_0x483620+_0x3442a5,_0x2ccf9f=0x3c*SCALE_FACTOR,_0x52272f=0x5*SCALE_FACTOR,_0x471ea7=0x276*SCALE_FACTOR,_0x2157bc=0x55*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x471ea7,_0x2157bc,_0x2a6fc3,_0x2ccf9f,_0x52272f),noStroke(),fill(0x0),text(_0xd190df,_0x471ea7+_0x2a6fc3/0x2,_0x2157bc+_0x2ccf9f/0x2),pop();}function paletteElementClick(_0x2966ef){const _0x499aa4=_0x3b816f,_0x54effc=_0x2966ef[_0x499aa4(0x2aa)];if(!_0x54effc)return;const _0xce2991=_0x54effc[_0x499aa4(0x26c)]['elementType'],_0x42a465=_0x54effc['dataset'][_0x499aa4(0x28f)],_0x46dae4=_0x54effc[_0x499aa4(0x26c)][_0x499aa4(0x268)],_0x58c3b5=parseInt(_0x54effc[_0x499aa4(0x26c)][_0x499aa4(0x1d0)]);if(!_0xce2991||!_0x42a465||!_0x46dae4||isNaN(_0x58c3b5))return;canvasElementInstance=createPaletteElementInstance(_0xce2991,_0x42a465,_0x46dae4,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x58c3b5]),paletteElementsData['splice'](_0x58c3b5,0x1);const _0x28a3dd=document[_0x499aa4(0x1f6)](_0x499aa4(0x1db));_0x28a3dd[_0x499aa4(0x27a)]='',createPalette();}function createPaletteElementInstance(_0x400e4b,_0x1431b2,_0x742969,_0x210fb2,_0x329299,_0x5b85a3){const _0x508ea=_0x3b816f;let _0x48e832;const _0x49506f=_0x5b85a3?.[_0x508ea(0x2bc)];switch(_0x400e4b){case'AutotransformerLaboratory':_0x48e832=new AutotransformerLaboratory(_0x210fb2,_0x329299,_0x1431b2);break;case _0x508ea(0x207):_0x48e832=new Resistor(_0x210fb2,_0x329299,_0x1431b2);_0x1431b2==='Rk'&&(_0x48e832['resistance']='20');break;case _0x508ea(0x2c3):_0x48e832=new Switch(_0x210fb2,_0x329299,_0x1431b2);(_0x1431b2==='SA1'||_0x1431b2===_0x508ea(0x228)||_0x1431b2===_0x508ea(0x283)||_0x1431b2==='SA21'||_0x1431b2===_0x508ea(0x1e4)||_0x1431b2===_0x508ea(0x25d))&&(_0x48e832[_0x508ea(0x1ca)]=![]);break;case'CustomAmmeter':_0x48e832=new CustomAmmeter(_0x210fb2,_0x329299,_0x1431b2);break;case _0x508ea(0x28c):_0x48e832=new Induction(_0x210fb2,_0x329299,_0x1431b2);break;case _0x508ea(0x1fb):_0x48e832=new Capacity(_0x210fb2,_0x329299,_0x1431b2);break;case _0x508ea(0x1fa):_0x48e832=new GroupLamp(_0x210fb2,_0x329299,_0x1431b2,_0x49506f);break;default:return null;}return _0x48e832[_0x508ea(0x208)]=parseInt(_0x742969),_0x48e832['placedElementData']=_0x5b85a3,_0x48e832;}function generateNewData(){const _0x6fa3f0=_0x3b816f,_0x2994f2=[];for(let _0x164afa=0x5;_0x164afa<=0x32;_0x164afa+=0x5){_0x2994f2[_0x6fa3f0(0x2c1)](_0x164afa);}const _0x57bf30=[];for(let _0x42ecb7=0xdc;_0x42ecb7<=0xfa;_0x42ecb7+=0x5){_0x57bf30[_0x6fa3f0(0x2c1)](_0x42ecb7);}let _0x592aa0=_0x2994f2[Math[_0x6fa3f0(0x273)](Math['random']()*_0x2994f2[_0x6fa3f0(0x1c3)])],_0x238eca=_0x57bf30[Math['floor'](Math['random']()*_0x57bf30[_0x6fa3f0(0x1c3)])],_0x236c6b={'C1':findElementByLabel('C1')};_0x236c6b['C1'][_0x6fa3f0(0x2b9)]=String(_0x592aa0),U_phase_mag=String(_0x238eca),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x18fd5b=_0x3b816f,_0x2d22ec=0x276*SCALE_FACTOR,_0x58151d=0x55*SCALE_FACTOR,_0x26a24b=0x64*SCALE_FACTOR,_0x15fae1=0x3c*SCALE_FACTOR;if(mouseX>_0x2d22ec&&mouseX<_0x2d22ec+_0x26a24b&&mouseY>_0x58151d&&mouseY<_0x58151d+_0x15fae1){if(isTogglingVisibility)return;isTogglingVisibility=!![],isC1CurrentlyVisible=!isC1CurrentlyVisible;const _0x12bbce=findElementByLabel('C1'),_0x28b436=findElementByLabel(_0x18fd5b(0x20d));if(_0x12bbce instanceof Capacity&&_0x28b436 instanceof GroupLamp)_0x12bbce['setVisibility'](isC1CurrentlyVisible),_0x28b436['setVisibility'](!isC1CurrentlyVisible),_0x28b436['calculateTotalPower'](),calculateCircuit();else;redraw(),clearTimeout(visibilityToggleTimer),visibilityToggleTimer=setTimeout(()=>{isTogglingVisibility=![];},VISIBILITY_TOGGLE_DELAY);return;}if(isCalculateButtonVisible){let _0x52e19c=millis();if(!(_0x52e19c-lastButtonClickTime<BUTTON_CLICK_DELAY)){const _0x903334=calculateBtnTitle,_0x3eb073=0x19*SCALE_FACTOR,_0x39e831=0x32*SCALE_FACTOR,_0x22617e=0x14*SCALE_FACTOR;textSize(_0x3eb073);const _0xf18510=textWidth(_0x903334),_0x1b7f8a=_0xf18510+_0x22617e*0x2;let _0x4a44d5=0xaf*SCALE_FACTOR;const _0x1c97bb=height-_0x39e831;if(mouseX>_0x4a44d5&&mouseX<_0x4a44d5+_0x1b7f8a&&mouseY>_0x1c97bb&&mouseY<_0x1c97bb+_0x39e831){pressModeCalculateBtn=!![],lastButtonClickTime=_0x52e19c,generateNewData();return;}}else;}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x4972c7=null,_0x282824=-0x1;for(let _0xa68ad4=elements['length']-0x1;_0xa68ad4>=0x0;_0xa68ad4--){let _0x3a91da=elements[_0xa68ad4];if(_0x3a91da instanceof GroupLamp&&!_0x3a91da[_0x18fd5b(0x1df)]||_0x3a91da instanceof Capacity&&!_0x3a91da['isVisible'])continue;if(_0x3a91da instanceof GroupLamp){_0x282824=_0x3a91da['getClickedLampIndex'](mouseX,mouseY);if(_0x282824!==-0x1){_0x4972c7=_0x3a91da;break;}}}if(_0x4972c7===null)for(let _0x47aac8=elements[_0x18fd5b(0x1c3)]-0x1;_0x47aac8>=0x0;_0x47aac8--){let _0x179b01=elements[_0x47aac8];if(_0x179b01 instanceof GroupLamp&&!_0x179b01[_0x18fd5b(0x1df)]||_0x179b01 instanceof Capacity&&!_0x179b01[_0x18fd5b(0x1df)])continue;if(_0x179b01 instanceof Node||_0x179b01 instanceof StaticTextDisplay)continue;let _0x1368a8=![];if(typeof _0x179b01['r']!==_0x18fd5b(0x2a6)&&!(_0x179b01 instanceof GroupLamp))dist(mouseX,mouseY,_0x179b01['x'],_0x179b01['y'])<_0x179b01['r']&&(_0x1368a8=!![]);else{if(typeof _0x179b01['w']!==_0x18fd5b(0x2a6)&&typeof _0x179b01['h']!==_0x18fd5b(0x2a6)){push(),translate(_0x179b01['x'],_0x179b01['y']);let _0x4239ae=0x0;switch(_0x179b01['orientation']){case 0x2:_0x4239ae=PI/0x2;break;case 0x3:_0x4239ae=PI;break;case 0x4:_0x4239ae=0x3*PI/0x2;break;}let _0x2eddee=mouseX-_0x179b01['x'],_0x39fdcd=mouseY-_0x179b01['y'],_0x18132f=_0x2eddee*cos(-_0x4239ae)-_0x39fdcd*sin(-_0x4239ae),_0x4310d4=_0x2eddee*sin(-_0x4239ae)+_0x39fdcd*cos(-_0x4239ae);abs(_0x18132f)<_0x179b01['w']/0x2&&abs(_0x4310d4)<_0x179b01['h']/0x2&&(_0x1368a8=!![]),pop();}}if(_0x1368a8){_0x4972c7=_0x179b01;break;}}if(_0x4972c7){let _0x30fe7c=millis(),_0x40252f=_0x30fe7c-lastMousePressTime>DOUBLE_CLICK_THRESHOLD,_0x4ac1c1=_0x4972c7['placedElementData']&&_0x4972c7[_0x18fd5b(0x20b)][_0x18fd5b(0x299)],_0x2cf5ab=![],_0x46432e=![];if(_0x4972c7 instanceof GroupLamp&&_0x282824!==-0x1)_0x4972c7[_0x18fd5b(0x1d1)](_0x282824),_0x2cf5ab=!![],_0x46432e=!![];else{if(_0x4972c7 instanceof Switch&&isCalculateButtonVisible){if(_0x30fe7c-_0x4972c7[_0x18fd5b(0x28d)]>SWITCH_TOGGLE_DELAY){_0x4972c7[_0x18fd5b(0x1d1)](),_0x4972c7['lastToggleTime']=_0x30fe7c,draggedElement=null;return;}else{draggedElement=null;return;}}else{if(_0x40252f){_0x2cf5ab=!![],_0x46432e=!![];if(_0x4972c7 instanceof Capacity){if(_0x4972c7[_0x18fd5b(0x1df)]){let _0x138c89=prompt(translations[lang][_0x18fd5b(0x272)]+_0x4972c7['label']+':',_0x4972c7[_0x18fd5b(0x2b9)]||'10');_0x138c89!==null&&!isNaN(parseFloat(_0x138c89))&&(_0x4972c7[_0x18fd5b(0x2b9)]=_0x138c89,calculateCircuit());}}else{if(_0x4972c7 instanceof Induction){if(_0x4972c7['isVisible']){let _0x21a1c3=prompt('Enter\x20Induction\x20'+_0x4972c7[_0x18fd5b(0x29e)]+':',_0x4972c7[_0x18fd5b(0x2b9)]||'50');_0x21a1c3!==null&&!isNaN(parseFloat(_0x21a1c3))&&(_0x4972c7[_0x18fd5b(0x1b6)]=_0x21a1c3);}}}}}}_0x4ac1c1&&(_0x46432e=!![]),!_0x46432e&&(draggedElement=_0x4972c7,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x30fe7c;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x18fd5b(0x2c1)](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else{draggedElement=null;if(canvasElementInstance){const _0x242fab=canvasElementInstance[_0x18fd5b(0x20b)];if(_0x242fab){}canvasElementInstance=null,redraw();}}}function mouseDragged(){const _0x3207b3=_0x3b816f;let _0x205b5f=canvasElementInstance||draggedElement;if(_0x205b5f){dragOffsetX=0x0,dragOffsetY=0x0;let _0x45570f=mouseX-dragOffsetX,_0x528244=mouseY-dragOffsetY,_0x5f1a61=0x1e*SCALE_FACTOR,_0x32638b=_0x5f1a61,_0x319d9e=_0x5f1a61,_0x494698=width-_0x5f1a61,_0x409534=height-_0x5f1a61;_0x205b5f['x']=constrain(_0x45570f,_0x32638b,_0x494698),_0x205b5f['y']=constrain(_0x528244,_0x319d9e,_0x409534);if(_0x205b5f[_0x3207b3(0x20b)]){let _0xdace83=dist(_0x205b5f['x'],_0x205b5f['y'],_0x205b5f[_0x3207b3(0x20b)][_0x3207b3(0x25a)],_0x205b5f[_0x3207b3(0x20b)][_0x3207b3(0x20a)]),_0x49fc21=Math[_0x3207b3(0x1bb)](0x0,Math[_0x3207b3(0x26f)](_0xdace83-SNAP_DISTANCE));distanceBox['textContent']=translations[lang][_0x3207b3(0x24c)]+'\x20'+_0x49fc21+'\x20'+translations[lang]['pixelsUnit'];}else distanceBox['textContent']=translations[lang][_0x3207b3(0x1c0)];}}function mouseReleased(){const _0x2a8010=_0x3b816f;let _0x4adfde=null,_0x312857;if(canvasElementInstance)elements[_0x2a8010(0x2c1)](canvasElementInstance),_0x4adfde=canvasElementInstance[_0x2a8010(0x20b)],_0x4adfde&&(_0x312857=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x4adfde[_0x2a8010(0x25a)],_0x4adfde[_0x2a8010(0x20a)]),_0x312857<=SNAP_DISTANCE&&!_0x4adfde[_0x2a8010(0x2a5)]&&(canvasElementInstance['x']=_0x4adfde['targetX'],canvasElementInstance['y']=_0x4adfde[_0x2a8010(0x20a)],_0x4adfde['placed']=!![],elementsPlacedCount++,_0x4adfde['isFixed']=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x4adfde=draggedElement[_0x2a8010(0x20b)],_0x312857=_0x4adfde?dist(draggedElement['x'],draggedElement['y'],_0x4adfde[_0x2a8010(0x25a)],_0x4adfde[_0x2a8010(0x20a)]):undefined;if(_0x4adfde){if(_0x312857<=SNAP_DISTANCE&&!_0x4adfde[_0x2a8010(0x2a5)])!_0x4adfde[_0x2a8010(0x2a5)]&&(draggedElement['x']=_0x4adfde[_0x2a8010(0x25a)],draggedElement['y']=_0x4adfde[_0x2a8010(0x20a)],_0x4adfde['placed']=!![],elementsPlacedCount++,_0x4adfde[_0x2a8010(0x299)]=!![]);else _0x4adfde[_0x2a8010(0x2a5)]&&(!(draggedElement instanceof Switch)&&(_0x4adfde[_0x2a8010(0x2a5)]=![],elementsPlacedCount--,_0x4adfde[_0x2a8010(0x299)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x2a8010(0x23d)]='',redraw();}function updateCounterDisplay(){const _0xce7fe1=_0x3b816f;let _0x284eb4=elementsToPlaceCount-elementsPlacedCount;if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox['textContent']=translations[lang]['circuitAssembled'],isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0x26f7df=findElementByLabel('C1'),_0x30b3fd=findElementByLabel(_0xce7fe1(0x20d));_0x26f7df instanceof Capacity&&_0x30b3fd instanceof GroupLamp&&(_0x26f7df[_0xce7fe1(0x24d)](isC1CurrentlyVisible),_0x30b3fd[_0xce7fe1(0x24d)](!isC1CurrentlyVisible),_0x30b3fd[_0xce7fe1(0x257)]()),calculateCircuit();}else{counterBox['textContent']=translations[lang][_0xce7fe1(0x2cf)]+'\x20'+_0x284eb4,isCalculateButtonVisible=![];const _0x4281c4=findElementByLabel(_0xce7fe1(0x20d));_0x4281c4 instanceof GroupLamp&&_0x4281c4['setEnabled'](![]);const _0x3da865=findElementByLabel('C1');if(_0x3da865 instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x3f4490=_0x3b816f;messageBox['textContent']=_0x3f4490(0x2ac),messageBox[_0x3f4490(0x209)]['add'](_0x3f4490(0x238)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x451f9a=_0x3f4490;messageBox[_0x451f9a(0x209)][_0x451f9a(0x1c9)]('show');},0x7d0);}function polarToRect(_0x4b9f69,_0x3994ed){const _0x181442=_0x3b816f,_0x312b80=_0x3994ed*Math['PI']/0xb4;return{'re':_0x4b9f69*Math[_0x181442(0x269)](_0x312b80),'im':_0x4b9f69*Math[_0x181442(0x28b)](_0x312b80)};}function rectToPolar(_0x540c6e,_0xf770f8){const _0x25c819=_0x3b816f,_0x3394f7=Math[_0x25c819(0x26e)](_0x540c6e*_0x540c6e+_0xf770f8*_0xf770f8);let _0x408f6b=Math[_0x25c819(0x287)](_0xf770f8,_0x540c6e),_0xfbd07d=_0x408f6b*0xb4/Math['PI'];const _0x3548be={};return _0x3548be[_0x25c819(0x264)]=_0x3394f7,_0x3548be[_0x25c819(0x297)]=_0xfbd07d,_0x3548be;}function addPhasors(_0x973985,_0x2c2243){const _0x5f40c4={};return _0x5f40c4['re']=_0x973985['re']+_0x2c2243['re'],_0x5f40c4['im']=_0x973985['im']+_0x2c2243['im'],_0x5f40c4;}function subtractPhasors(_0x37b99e,_0x32b332){const _0x176cfc={};return _0x176cfc['re']=_0x37b99e['re']-_0x32b332['re'],_0x176cfc['im']=_0x37b99e['im']-_0x32b332['im'],_0x176cfc;}function multiplyPhasors(_0x1ed9e1,_0x5df38e){const _0x4d003b={};return _0x4d003b['re']=_0x1ed9e1['re']*_0x5df38e['re']-_0x1ed9e1['im']*_0x5df38e['im'],_0x4d003b['im']=_0x1ed9e1['re']*_0x5df38e['im']+_0x1ed9e1['im']*_0x5df38e['re'],_0x4d003b;}function dividePhasors(_0xa6ea7c,_0x4b46c9){const _0x445274=_0x3b816f,_0x174c24=_0x4b46c9['re']*_0x4b46c9['re']+_0x4b46c9['im']*_0x4b46c9['im'];if(Math['abs'](_0x174c24)<1e-12){if(Math[_0x445274(0x1ff)](_0xa6ea7c['re'])<1e-9&&Math[_0x445274(0x1ff)](_0xa6ea7c['im'])<1e-9){const _0xd7d0b9={};return _0xd7d0b9['re']=0x0,_0xd7d0b9['im']=0x0,_0xd7d0b9;}const _0x2d0822={};return _0x2d0822['re']=NaN,_0x2d0822['im']=NaN,_0x2d0822;}const _0xfa19c9={};return _0xfa19c9['re']=(_0xa6ea7c['re']*_0x4b46c9['re']+_0xa6ea7c['im']*_0x4b46c9['im'])/_0x174c24,_0xfa19c9['im']=(_0xa6ea7c['im']*_0x4b46c9['re']-_0xa6ea7c['re']*_0x4b46c9['im'])/_0x174c24,_0xfa19c9;}function invertPhasorRect(_0x4638e5){const _0x42f8ab=_0x3b816f;if(!isFinite(_0x4638e5['re'])||!isFinite(_0x4638e5['im'])||_0x4638e5['re']===Infinity||_0x4638e5['im']===Infinity||_0x4638e5['re']===-Infinity||_0x4638e5['im']===-Infinity){const _0x1bd1ae={};return _0x1bd1ae['re']=0x0,_0x1bd1ae['im']=0x0,_0x1bd1ae;}const _0x1132a6=_0x4638e5['re']*_0x4638e5['re']+_0x4638e5['im']*_0x4638e5['im'];if(Math[_0x42f8ab(0x1ff)](_0x1132a6)<1e-12){const _0x10a43d={};return _0x10a43d['re']=NaN,_0x10a43d['im']=NaN,_0x10a43d;}const _0x1412b0={};return _0x1412b0['re']=_0x4638e5['re']/_0x1132a6,_0x1412b0['im']=-_0x4638e5['im']/_0x1132a6,_0x1412b0;}function solve2x2SystemRect(_0x292956,_0x4fc5ff,_0x2d38f7,_0x3c2c3f,_0x567c2a,_0x57d9df){const _0x31e3a3=_0x3b816f,_0x795ac3=multiplyPhasors(_0x292956,_0x567c2a),_0x582a94=multiplyPhasors(_0x4fc5ff,_0x3c2c3f),_0x599bd4=subtractPhasors(_0x795ac3,_0x582a94),_0x4ffbd2=_0x599bd4['re']*_0x599bd4['re']+_0x599bd4['im']*_0x599bd4['im'];if(Math[_0x31e3a3(0x1ff)](_0x4ffbd2)<1e-12)return null;const _0x344130=multiplyPhasors(_0x2d38f7,_0x567c2a),_0x55e60e=multiplyPhasors(_0x4fc5ff,_0x57d9df),_0x247993=subtractPhasors(_0x344130,_0x55e60e),_0x219491=dividePhasors(_0x247993,_0x599bd4),_0x280d5b=multiplyPhasors(_0x292956,_0x57d9df),_0x5c695f=multiplyPhasors(_0x2d38f7,_0x3c2c3f),_0x3b416d=subtractPhasors(_0x280d5b,_0x5c695f),_0x2d7ac6=dividePhasors(_0x3b416d,_0x599bd4);if(isNaN(_0x219491['re'])||isNaN(_0x219491['im'])||isNaN(_0x2d7ac6['re'])||isNaN(_0x2d7ac6['im']))return null;const _0x110ef5={};return _0x110ef5['x']=_0x219491,_0x110ef5['y']=_0x2d7ac6,_0x110ef5;}function calculateCircuit(){const _0x43c144=_0x3b816f;window[_0x43c144(0x1de)]=_0x43c144(0x1f0),warningMessageText='',isBlinkingWarning=![];if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){hideCalculationValues();const _0xad49c7=findElementByLabel('Uab\x20='),_0xcb0fae=findElementByLabel(_0x43c144(0x285)),_0x38fae4=findElementByLabel('Uca\x20=');if(_0xad49c7)_0xad49c7[_0x43c144(0x1b5)](_0x43c144(0x1f4));if(_0xcb0fae)_0xcb0fae['setText'](_0x43c144(0x281));if(_0x38fae4)_0x38fae4[_0x43c144(0x1b5)](_0x43c144(0x1e9));const _0x4989e5=findElementByLabel(_0x43c144(0x1dc));if(_0x4989e5)displayCalculationValue(_0x4989e5,null,_0x43c144(0x295));const _0x27a66e=findElementByLabel(_0x43c144(0x227));if(_0x27a66e)displayCalculationValue(_0x27a66e,null,_0x43c144(0x295));const _0x4966b1=findElementByLabel(_0x43c144(0x1eb));if(_0x4966b1)displayCalculationValue(_0x4966b1,null,_0x43c144(0x295));const _0x1a271f=findElementByLabel('PA11');if(_0x1a271f)displayCalculationValue(_0x1a271f,null,_0x43c144(0x295));const _0x4136f4=findElementByLabel(_0x43c144(0x236));if(_0x4136f4)displayCalculationValue(_0x4136f4,null,_0x43c144(0x295));const _0x256c47=findElementByLabel('PA31');if(_0x256c47)displayCalculationValue(_0x256c47,null,_0x43c144(0x295));return;}const _0x43059d=0xe6,_0x3338ff=0x32,_0x55b4c8=0x2*Math['PI']*_0x3338ff,_0x3a6a0f=parseFloat(U_phase_mag)||0xe6,_0x44ba6d=_0x3a6a0f/Math[_0x43c144(0x26e)](0x3),_0x1a4f1c=polarToRect(_0x44ba6d,0x0),_0xf1f401=polarToRect(_0x44ba6d,-0x78),_0x57251c=polarToRect(_0x44ba6d,0x78),_0x1293e1=findElementByLabel(_0x43c144(0x20d)),_0x2d315f=findElementByLabel(_0x43c144(0x1fd)),_0x19ccb9=findElementByLabel('HLG3'),_0x34eff9=findElementByLabel('C1'),_0x339df0=findElementByLabel(_0x43c144(0x2ce)),_0x47647c=findElementByLabel('SA2'),_0x2780fe=findElementByLabel('SA3'),_0xc52ae9=findElementByLabel(_0x43c144(0x228)),_0x196c06=findElementByLabel(_0x43c144(0x2bb)),_0xa7163e=findElementByLabel('SA31'),_0x1ea51d=findElementByLabel(_0x43c144(0x1dc)),_0x1c689a=findElementByLabel('PA2'),_0x2bda1f=findElementByLabel(_0x43c144(0x1eb)),_0x392d87=findElementByLabel(_0x43c144(0x291)),_0x48b9cd=findElementByLabel(_0x43c144(0x236)),_0x3aff17=findElementByLabel('PA31'),_0x387437=findElementByLabel(_0x43c144(0x254)),_0x52b00f=findElementByLabel(_0x43c144(0x285)),_0x2dad3e=findElementByLabel('Uca\x20='),_0x5547f9=[_0x1293e1,_0x2d315f,_0x19ccb9,_0x34eff9,_0x339df0,_0x47647c,_0x2780fe,_0xc52ae9,_0x196c06,_0xa7163e,_0x1ea51d,_0x1c689a,_0x2bda1f,_0x392d87,_0x48b9cd,_0x3aff17,_0x387437,_0x52b00f,_0x2dad3e];if(_0x5547f9[_0x43c144(0x2b3)](_0x166e4f=>!_0x166e4f)){window[_0x43c144(0x1de)]=_0x43c144(0x21a),warningMessageText=translations[lang][_0x43c144(0x258)],isBlinkingWarning=!![],hideCalculationValues();const _0x3baff2=translations[lang][_0x43c144(0x1b8)];if(_0x387437)_0x387437[_0x43c144(0x1b5)](_0x43c144(0x27d)+_0x3baff2);if(_0x52b00f)_0x52b00f[_0x43c144(0x1b5)](_0x43c144(0x2bf)+_0x3baff2);if(_0x2dad3e)_0x2dad3e[_0x43c144(0x1b5)](_0x43c144(0x1c2)+_0x3baff2);if(_0x1ea51d)displayCalculationValue(_0x1ea51d,_0x43c144(0x20e)+_0x3baff2,_0x43c144(0x295));if(_0x1c689a)displayCalculationValue(_0x1c689a,_0x43c144(0x21c)+_0x3baff2,_0x43c144(0x295));if(_0x2bda1f)displayCalculationValue(_0x2bda1f,_0x43c144(0x200)+_0x3baff2,_0x43c144(0x295));if(_0x392d87)displayCalculationValue(_0x392d87,'Iab\x20=\x20'+_0x3baff2,_0x43c144(0x295));if(_0x48b9cd)displayCalculationValue(_0x48b9cd,_0x43c144(0x294)+_0x3baff2,_0x43c144(0x295));if(_0x3aff17)displayCalculationValue(_0x3aff17,_0x43c144(0x27b)+_0x3baff2,_0x43c144(0x295));redraw();return;}hideCalculationValues();const _0x5c343d=_0x4d4011=>{const _0x1ed7ea=_0x43c144;if(!_0x4d4011||!_0x4d4011[_0x1ed7ea(0x1df)]||!_0x4d4011[_0x1ed7ea(0x2cc)])return Infinity;const _0xdde1d2=_0x4d4011[_0x1ed7ea(0x2bc)];if(_0xdde1d2<=0x0)return Infinity;let _0x1e2b72=_0x4d4011[_0x1ed7ea(0x1cc)]['filter'](_0x74826e=>_0x74826e[_0x1ed7ea(0x2cd)])[_0x1ed7ea(0x1c3)];if(_0x1e2b72===0x0)return Infinity;const _0x71a4a8=_0x43059d*_0x43059d/_0xdde1d2;return _0x71a4a8/_0x1e2b72;},_0x4abd14=!_0xc52ae9[_0x43c144(0x1ca)],_0x522a70=!_0x196c06[_0x43c144(0x1ca)],_0x5e7b1f=!_0xa7163e['isOpen'],_0xe54898={};_0xe54898['re']=Infinity,_0xe54898['im']=0x0;let _0x45b612=_0xe54898;if(_0x4abd14){const _0x12fa7e=_0x5c343d(_0x1293e1);if(_0x1293e1[_0x43c144(0x1df)]&&_0x1293e1[_0x43c144(0x2cc)]&&_0x12fa7e!==Infinity){const _0x2a0d95={};_0x2a0d95['re']=_0x12fa7e,_0x2a0d95['im']=0x0,_0x45b612=_0x2a0d95;}else{if(_0x34eff9[_0x43c144(0x1df)]){const _0x2729e2=parseFloat(_0x34eff9[_0x43c144(0x2b9)])/0xf4240;if(_0x2729e2>0x0&&_0x55b4c8>0x0){const _0x1335f3={};_0x1335f3['re']=0x0,_0x1335f3['im']=-0x1/(_0x55b4c8*_0x2729e2),_0x45b612=_0x1335f3;}}}}else _0x1293e1[_0x43c144(0x2cc)]&&_0x1293e1['setEnabled'](![]);const _0x2acc1d={};_0x2acc1d['re']=Infinity,_0x2acc1d['im']=0x0;let _0x2ace81=_0x2acc1d;if(_0x522a70){const _0xa24cd6=_0x5c343d(_0x2d315f);if(_0x2d315f[_0x43c144(0x1df)]&&_0x2d315f[_0x43c144(0x2cc)]&&_0xa24cd6!==Infinity){const _0x2227dc={};_0x2227dc['re']=_0xa24cd6,_0x2227dc['im']=0x0,_0x2ace81=_0x2227dc;}}else _0x2d315f['isEnabled']&&_0x2d315f[_0x43c144(0x1cf)](![]);const _0x280d10={};_0x280d10['re']=Infinity,_0x280d10['im']=0x0;let _0x3916ef=_0x280d10;if(_0x5e7b1f){const _0xabf4c4=_0x5c343d(_0x19ccb9);if(_0x19ccb9[_0x43c144(0x1df)]&&_0x19ccb9[_0x43c144(0x2cc)]&&_0xabf4c4!==Infinity){const _0xd1b820={};_0xd1b820['re']=_0xabf4c4,_0xd1b820['im']=0x0,_0x3916ef=_0xd1b820;}}else _0x19ccb9[_0x43c144(0x2cc)]&&_0x19ccb9[_0x43c144(0x1cf)](![]);const _0x3a1d51=invertPhasorRect(_0x45b612),_0x191662=invertPhasorRect(_0x2ace81),_0x582938=invertPhasorRect(_0x3916ef);if(isNaN(_0x3a1d51['re'])||isNaN(_0x191662['re'])||isNaN(_0x582938['re'])){window[_0x43c144(0x1de)]='sc',warningMessageText=translations[lang]['errorShortCircuit'],isBlinkingWarning=!![];const _0x54c95e=translations[lang][_0x43c144(0x28e)];if(_0x387437)_0x387437[_0x43c144(0x1b5)]('Uab\x20=\x20'+_0x54c95e);if(_0x52b00f)_0x52b00f[_0x43c144(0x1b5)]('Ubc\x20=\x20'+_0x54c95e);if(_0x2dad3e)_0x2dad3e[_0x43c144(0x1b5)](_0x43c144(0x1c2)+_0x54c95e);if(_0x1ea51d)displayCalculationValue(_0x1ea51d,'Ia\x20=\x20'+_0x54c95e,_0x43c144(0x295));if(_0x1c689a)displayCalculationValue(_0x1c689a,_0x43c144(0x21c)+_0x54c95e,_0x43c144(0x295));if(_0x2bda1f)displayCalculationValue(_0x2bda1f,_0x43c144(0x200)+_0x54c95e,_0x43c144(0x295));if(_0x392d87)displayCalculationValue(_0x392d87,_0x43c144(0x21f)+_0x54c95e,_0x43c144(0x295));if(_0x48b9cd)displayCalculationValue(_0x48b9cd,_0x43c144(0x294)+_0x54c95e,_0x43c144(0x295));if(_0x3aff17)displayCalculationValue(_0x3aff17,_0x43c144(0x27b)+_0x54c95e,_0x43c144(0x295));redraw();return;}const _0x4f2c9d=!_0x339df0['isOpen'],_0x15d35f=!_0x47647c[_0x43c144(0x1ca)],_0x2a4e04=!_0x2780fe[_0x43c144(0x1ca)],_0x4c6e97={};_0x4c6e97['re']=0x0,_0x4c6e97['im']=0x0;let _0x4963a1=_0x4c6e97;const _0x487775={};_0x487775['re']=0x0,_0x487775['im']=0x0;let _0x57ce30=_0x487775;const _0x494f22={};_0x494f22['re']=0x0,_0x494f22['im']=0x0;let _0x22396e=_0x494f22;const _0x4152fc={};_0x4152fc['re']=0x0,_0x4152fc['im']=0x0;const _0x4ae207=_0x4152fc;if(_0x4f2c9d&&_0x15d35f&&_0x2a4e04)_0x4963a1=_0x1a4f1c,_0x57ce30=_0xf1f401,_0x22396e=_0x57251c;else{if(!_0x4f2c9d&&!_0x15d35f&&!_0x2a4e04)_0x4963a1=_0x4ae207,_0x57ce30=_0x4ae207,_0x22396e=_0x4ae207;else{if(!_0x4f2c9d&&_0x15d35f&&_0x2a4e04){_0x57ce30=_0xf1f401,_0x22396e=_0x57251c;const _0xc203b8=addPhasors(_0x3a1d51,_0x582938),_0x2811b4=addPhasors(multiplyPhasors(_0x57ce30,_0x3a1d51),multiplyPhasors(_0x22396e,_0x582938));_0x4963a1=dividePhasors(_0x2811b4,_0xc203b8);if(isNaN(_0x4963a1['re']))_0x4963a1=_0x4ae207;}else{if(_0x4f2c9d&&!_0x15d35f&&_0x2a4e04){_0x4963a1=_0x1a4f1c,_0x22396e=_0x57251c;const _0x1abbde=addPhasors(_0x191662,_0x3a1d51),_0x1d64dd=addPhasors(multiplyPhasors(_0x22396e,_0x191662),multiplyPhasors(_0x4963a1,_0x3a1d51));_0x57ce30=dividePhasors(_0x1d64dd,_0x1abbde);if(isNaN(_0x57ce30['re']))_0x57ce30=_0x4ae207;}else{if(_0x4f2c9d&&_0x15d35f&&!_0x2a4e04){_0x4963a1=_0x1a4f1c,_0x57ce30=_0xf1f401;const _0x1ee145=addPhasors(_0x582938,_0x191662),_0x1db2a9=addPhasors(multiplyPhasors(_0x4963a1,_0x582938),multiplyPhasors(_0x57ce30,_0x191662));_0x22396e=dividePhasors(_0x1db2a9,_0x1ee145);if(isNaN(_0x22396e['re']))_0x22396e=_0x4ae207;}else{if(!_0x4f2c9d&&!_0x15d35f&&_0x2a4e04){_0x22396e=_0x57251c;const _0x1b3413=addPhasors(_0x3a1d51,_0x582938),_0x5615bc={};_0x5615bc['re']=-0x1,_0x5615bc['im']=0x0;const _0x58dd75=multiplyPhasors(_0x3a1d51,_0x5615bc),_0x54e978=multiplyPhasors(_0x22396e,_0x582938),_0x2abc6d={};_0x2abc6d['re']=-0x1,_0x2abc6d['im']=0x0;const _0x442b7e=multiplyPhasors(_0x3a1d51,_0x2abc6d),_0x558bdf=addPhasors(_0x3a1d51,_0x191662),_0x4edca3=multiplyPhasors(_0x22396e,_0x191662),_0x1c8e1d=solve2x2SystemRect(_0x1b3413,_0x58dd75,_0x54e978,_0x442b7e,_0x558bdf,_0x4edca3);_0x1c8e1d?(_0x4963a1=_0x1c8e1d['x'],_0x57ce30=_0x1c8e1d['y']):(_0x4963a1=_0x4ae207,_0x57ce30=_0x4ae207);}else{if(!_0x4f2c9d&&_0x15d35f&&!_0x2a4e04){_0x57ce30=_0xf1f401;const _0x15e999=addPhasors(_0x3a1d51,_0x582938),_0x1e172d={};_0x1e172d['re']=-0x1,_0x1e172d['im']=0x0;const _0x5defcd=multiplyPhasors(_0x582938,_0x1e172d),_0x496b96=multiplyPhasors(_0x57ce30,_0x3a1d51),_0xb1efbf={};_0xb1efbf['re']=-0x1,_0xb1efbf['im']=0x0;const _0x402fd4=multiplyPhasors(_0x582938,_0xb1efbf),_0x15d910=addPhasors(_0x582938,_0x191662),_0x19e370=multiplyPhasors(_0x57ce30,_0x191662),_0x348d14=solve2x2SystemRect(_0x15e999,_0x5defcd,_0x496b96,_0x402fd4,_0x15d910,_0x19e370);_0x348d14?(_0x4963a1=_0x348d14['x'],_0x22396e=_0x348d14['y']):(_0x4963a1=_0x4ae207,_0x22396e=_0x4ae207);}else{if(_0x4f2c9d&&!_0x15d35f&&!_0x2a4e04){_0x4963a1=_0x1a4f1c;const _0x5832ec=addPhasors(_0x3a1d51,_0x191662),_0x24b581={};_0x24b581['re']=-0x1,_0x24b581['im']=0x0;const _0x1fb8fc=multiplyPhasors(_0x191662,_0x24b581),_0x4b0c38=multiplyPhasors(_0x4963a1,_0x3a1d51),_0x218a5c={};_0x218a5c['re']=-0x1,_0x218a5c['im']=0x0;const _0xfaeaad=multiplyPhasors(_0x191662,_0x218a5c),_0x586b27=addPhasors(_0x582938,_0x191662),_0x2b150f=multiplyPhasors(_0x4963a1,_0x582938),_0x17e006=solve2x2SystemRect(_0x5832ec,_0x1fb8fc,_0x4b0c38,_0xfaeaad,_0x586b27,_0x2b150f);_0x17e006?(_0x57ce30=_0x17e006['x'],_0x22396e=_0x17e006['y']):(_0x57ce30=_0x4ae207,_0x22396e=_0x4ae207);}}}}}}}}if(isNaN(_0x4963a1['re'])||isNaN(_0x4963a1['im'])||isNaN(_0x57ce30['re'])||isNaN(_0x57ce30['im'])||isNaN(_0x22396e['re'])||isNaN(_0x22396e['im'])){window[_0x43c144(0x1de)]=_0x43c144(0x21a),warningMessageText=translations[lang][_0x43c144(0x1c1)],isBlinkingWarning=!![];const _0x4fa637=translations[lang]['calculationErrorShort'];if(_0x387437)_0x387437[_0x43c144(0x1b5)](_0x43c144(0x27d)+_0x4fa637);if(_0x52b00f)_0x52b00f[_0x43c144(0x1b5)](_0x43c144(0x2bf)+_0x4fa637);if(_0x2dad3e)_0x2dad3e[_0x43c144(0x1b5)](_0x43c144(0x1c2)+_0x4fa637);if(_0x1ea51d)displayCalculationValue(_0x1ea51d,_0x43c144(0x20e)+_0x4fa637,'bottom');redraw();return;}const _0x23a9c4=subtractPhasors(_0x4963a1,_0x57ce30),_0x596aec=subtractPhasors(_0x57ce30,_0x22396e),_0x418c74=subtractPhasors(_0x22396e,_0x4963a1),_0x46eba4=rectToPolar(_0x23a9c4['re'],_0x23a9c4['im']),_0x5dd915=rectToPolar(_0x596aec['re'],_0x596aec['im']),_0x22b9c6=rectToPolar(_0x418c74['re'],_0x418c74['im']),_0x281389=multiplyPhasors(_0x23a9c4,_0x3a1d51),_0x4d9e75=multiplyPhasors(_0x596aec,_0x191662),_0x119ce7=multiplyPhasors(_0x418c74,_0x582938),_0x26a13c=rectToPolar(_0x281389['re'],_0x281389['im']),_0x20dede=rectToPolar(_0x4d9e75['re'],_0x4d9e75['im']),_0x24dbb0=rectToPolar(_0x119ce7['re'],_0x119ce7['im']);let _0x218c02=_0x4ae207,_0x33128f=_0x4ae207,_0x4be8c6=_0x4ae207;if(_0x4f2c9d)_0x218c02=subtractPhasors(_0x281389,_0x119ce7);if(_0x15d35f)_0x33128f=subtractPhasors(_0x4d9e75,_0x281389);if(_0x2a4e04)_0x4be8c6=subtractPhasors(_0x119ce7,_0x4d9e75);const _0x514ff0=rectToPolar(_0x218c02['re'],_0x218c02['im']),_0xa9a941=rectToPolar(_0x33128f['re'],_0x33128f['im']),_0x472031=rectToPolar(_0x4be8c6['re'],_0x4be8c6['im']);let _0x10e97d=![];const _0x3e67f9=0x64;[_0x514ff0,_0xa9a941,_0x472031,_0x26a13c,_0x20dede,_0x24dbb0]['some'](_0x106c35=>_0x106c35['mag']>_0x3e67f9)&&(_0x10e97d=!![]);if(_0x10e97d){window[_0x43c144(0x1de)]='overload',warningMessageText=translations[lang][_0x43c144(0x286)],isBlinkingWarning=!![];const _0x120786=translations[lang]['overloadAbbreviation'];if(_0x387437)_0x387437[_0x43c144(0x1b5)](_0x43c144(0x27d)+_0x120786);if(_0x52b00f)_0x52b00f[_0x43c144(0x1b5)](_0x43c144(0x2bf)+_0x120786);if(_0x2dad3e)_0x2dad3e['setText'](_0x43c144(0x1c2)+_0x120786);if(_0x1ea51d)displayCalculationValue(_0x1ea51d,_0x43c144(0x20e)+_0x120786,_0x43c144(0x295));if(_0x1c689a)displayCalculationValue(_0x1c689a,'Ib\x20=\x20'+_0x120786,_0x43c144(0x295));if(_0x2bda1f)displayCalculationValue(_0x2bda1f,'Ic\x20=\x20'+_0x120786,_0x43c144(0x295));if(_0x392d87)displayCalculationValue(_0x392d87,_0x43c144(0x21f)+_0x120786,_0x43c144(0x295));if(_0x48b9cd)displayCalculationValue(_0x48b9cd,'Ibc\x20=\x20'+_0x120786,_0x43c144(0x295));if(_0x3aff17)displayCalculationValue(_0x3aff17,_0x43c144(0x27b)+_0x120786,_0x43c144(0x295));redraw();return;}const _0x50bb27=[_0x339df0,_0x47647c,_0x2780fe][_0x43c144(0x230)](_0xa6e108=>_0xa6e108[_0x43c144(0x1ca)])[_0x43c144(0x1c3)],_0x2b898a=[_0xc52ae9,_0x196c06,_0xa7163e]['filter'](_0x51dd88=>_0x51dd88['isOpen'])[_0x43c144(0x1c3)];let _0x563090=![];if(_0x50bb27>0x0&&_0x2b898a>0x0)window[_0x43c144(0x1de)]=_0x43c144(0x1c7),warningMessageText=translations[lang][_0x43c144(0x1f5)],_0x563090=!![];else{if(_0x50bb27>0x0)window[_0x43c144(0x1de)]=_0x43c144(0x205),warningMessageText=translations[lang][_0x43c144(0x1f3)],_0x563090=!![];else _0x2b898a>0x0&&(window[_0x43c144(0x1de)]=_0x43c144(0x243),warningMessageText=translations[lang][_0x43c144(0x28a)],_0x563090=!![]);}if(!_0x563090){const _0x3a115b=_0x34eff9[_0x43c144(0x1df)]&&!_0xc52ae9[_0x43c144(0x1ca)];let _0x47639a=0x0,_0x190c15=0x0,_0x2e4c7b=0x0,_0x2a576c=![],_0x366036=![],_0x33302b=![];if(_0x1293e1[_0x43c144(0x1df)]&&_0x1293e1[_0x43c144(0x2cc)]&&!_0xc52ae9['isOpen']){_0x47639a=_0x1293e1[_0x43c144(0x1cc)]['filter'](_0x398591=>_0x398591[_0x43c144(0x2cd)])[_0x43c144(0x1c3)];if(_0x47639a>0x0)_0x2a576c=!![];}if(_0x2d315f[_0x43c144(0x1df)]&&_0x2d315f[_0x43c144(0x2cc)]&&!_0x196c06[_0x43c144(0x1ca)]){_0x190c15=_0x2d315f['lamps'][_0x43c144(0x230)](_0x425b8c=>_0x425b8c[_0x43c144(0x2cd)])[_0x43c144(0x1c3)];if(_0x190c15>0x0)_0x366036=!![];}if(_0x19ccb9[_0x43c144(0x1df)]&&_0x19ccb9[_0x43c144(0x2cc)]&&!_0xa7163e[_0x43c144(0x1ca)]){_0x2e4c7b=_0x19ccb9[_0x43c144(0x1cc)][_0x43c144(0x230)](_0x8f37ac=>_0x8f37ac[_0x43c144(0x2cd)])[_0x43c144(0x1c3)];if(_0x2e4c7b>0x0)_0x33302b=!![];}const _0xdc53c8=_0x2a576c||_0x366036||_0x33302b||_0x3a115b;if(!_0xdc53c8)window['currentWarningType']=_0x43c144(0x1d4),warningMessageText=translations[lang][_0x43c144(0x29b)];else{if(_0x3a115b&&!_0x2a576c)window[_0x43c144(0x1de)]=_0x43c144(0x278),warningMessageText=translations[lang]['capacitiveLoadInfo'];else _0x2a576c&&_0x366036&&_0x33302b&&_0x47639a===_0x190c15&&_0x190c15===_0x2e4c7b?(window[_0x43c144(0x1de)]=_0x43c144(0x2b7),warningMessageText=translations[lang]['balancedLoadInfo']):(window['currentWarningType']=_0x43c144(0x2c2),warningMessageText=translations[lang][_0x43c144(0x1cd)]);}}const _0x7d21eb=(_0xbe69e8,_0x79a73f,_0x4c6d7e=0x1)=>{const _0x274e4b=_0x43c144,_0x1c3cb2=translations[lang][_0x79a73f]||_0x79a73f;if(isNaN(_0xbe69e8)||!isFinite(_0xbe69e8))return''+translations[lang][_0x274e4b(0x1b8)]+_0x1c3cb2;if(Math[_0x274e4b(0x1ff)](_0xbe69e8)<0.001)_0xbe69e8=0x0;if(_0x79a73f===_0x274e4b(0x29d))_0x4c6d7e=0x2;else{if(_0x79a73f===_0x274e4b(0x224))_0x4c6d7e=Math['abs'](_0xbe69e8)<0xa&&_0xbe69e8!==0x0?0x2:0x1;}if(Math[_0x274e4b(0x1ff)](_0xbe69e8)>0xf4240)return''+translations[lang]['overMillionAbbreviation']+_0x1c3cb2;return''+_0xbe69e8[_0x274e4b(0x1d8)](_0x4c6d7e)+_0x1c3cb2;};displayCalculationValue(_0x1ea51d,_0x43c144(0x20e)+_0x7d21eb(_0x514ff0[_0x43c144(0x264)],_0x43c144(0x29d)),_0x43c144(0x295)),displayCalculationValue(_0x1c689a,_0x43c144(0x21c)+_0x7d21eb(_0xa9a941[_0x43c144(0x264)],_0x43c144(0x29d)),_0x43c144(0x295)),displayCalculationValue(_0x2bda1f,'Ic\x20=\x20'+_0x7d21eb(_0x472031[_0x43c144(0x264)],_0x43c144(0x29d)),_0x43c144(0x295)),displayCalculationValue(_0x392d87,_0x43c144(0x21f)+_0x7d21eb(_0x26a13c[_0x43c144(0x264)],_0x43c144(0x29d)),_0x43c144(0x295)),displayCalculationValue(_0x48b9cd,_0x43c144(0x294)+_0x7d21eb(_0x20dede['mag'],_0x43c144(0x29d)),_0x43c144(0x295)),displayCalculationValue(_0x3aff17,_0x43c144(0x27b)+_0x7d21eb(_0x24dbb0['mag'],_0x43c144(0x29d)),'bottom'),_0x387437[_0x43c144(0x1b5)](_0x43c144(0x27d)+_0x7d21eb(_0x46eba4[_0x43c144(0x264)],'voltUnit')),_0x52b00f[_0x43c144(0x1b5)]('Ubc\x20=\x20'+_0x7d21eb(_0x5dd915['mag'],_0x43c144(0x224))),_0x2dad3e[_0x43c144(0x1b5)](_0x43c144(0x1c2)+_0x7d21eb(_0x22b9c6[_0x43c144(0x264)],_0x43c144(0x224))),redraw();}function findElementByLabel(_0xd145d5){const _0x338d23=_0x3b816f;for(const _0x32b624 of elements){if(_0x32b624[_0x338d23(0x29e)]===_0xd145d5)return _0x32b624;}if(_0xd145d5==='Uab\x20=')return elements[_0x338d23(0x215)](_0x3ecc11=>_0x3ecc11 instanceof StaticTextDisplay&&_0x3ecc11[_0x338d23(0x22c)][_0x338d23(0x1f1)](_0x338d23(0x254)));if(_0xd145d5===_0x338d23(0x285))return elements[_0x338d23(0x215)](_0x258072=>_0x258072 instanceof StaticTextDisplay&&_0x258072['text'][_0x338d23(0x1f1)](_0x338d23(0x285)));if(_0xd145d5===_0x338d23(0x2d0))return elements[_0x338d23(0x215)](_0x5b9bef=>_0x5b9bef instanceof StaticTextDisplay&&_0x5b9bef[_0x338d23(0x22c)]['startsWith'](_0x338d23(0x2d0)));return null;}function _0x2357(_0x131e05,_0x24d8cc){const _0x2db974=_0x2db9();return _0x2357=function(_0x235773,_0x56882f){_0x235773=_0x235773-0x1b5;let _0x42f97f=_0x2db974[_0x235773];return _0x42f97f;},_0x2357(_0x131e05,_0x24d8cc);}function displayCalculationValue(_0x32b1dc,_0x5683e5,_0x4d450c){const _0x3bf6f9=_0x3b816f;if(!_0x32b1dc||typeof _0x32b1dc['x']==='undefined'||typeof _0x32b1dc['y']===_0x3bf6f9(0x2a6))return;push(),pop(),_0x32b1dc['calculationDisplayValue']=_0x5683e5;}function hideCalculationValues(){const _0x22c96b=_0x3b816f;redraw(),elements[_0x22c96b(0x1cb)](_0x3afbd0=>{const _0x1800a3=_0x22c96b;_0x3afbd0[_0x1800a3(0x1c4)]=null;});}class CircuitElement{constructor(_0x5d11d0,_0x1b0599){const _0x37a2a3=_0x3b816f;this['x']=_0x5d11d0,this['y']=_0x1b0599,this[_0x37a2a3(0x208)]=0x1,this[_0x37a2a3(0x1da)]=![],this['placedElementData']=null,this[_0x37a2a3(0x1c4)]=null;}['update'](){}[_0x3b816f(0x282)](){const _0x46c58a=_0x3b816f;push(),translate(this['x'],this['y']);let _0xa29367=0x0;switch(this['orientation']){case 0x2:_0xa29367=PI/0x2;break;case 0x3:_0xa29367=PI;break;case 0x4:_0xa29367=0x3*PI/0x2;break;default:_0xa29367=0x0;}rotate(_0xa29367);if(this[_0x46c58a(0x1c4)]!==null){push(),stroke(_0x46c58a(0x252)),fill(_0x46c58a(0x29f)),textSize(0xf*SCALE_FACTOR);let _0x440654=textWidth(this[_0x46c58a(0x1c4)]);rectMode(CENTER);let _0x49d1c7=-0xa*SCALE_FACTOR,_0x2fe6a5=0x28*SCALE_FACTOR,_0x20f576=0x2*SCALE_FACTOR,_0x55da9a=0x2*SCALE_FACTOR;typeof this[_0x46c58a(0x1c4)]===_0x46c58a(0x256)&&this[_0x46c58a(0x1c4)][_0x46c58a(0x213)](_0x46c58a(0x255))&&stroke(0xff,0x0,0x0),rect(_0x49d1c7,_0x2fe6a5,_0x440654+_0x20f576*0x2,0x14*SCALE_FACTOR+_0x55da9a*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x3c,0x96,0x28),textAlign(CENTER,CENTER),typeof this[_0x46c58a(0x1c4)]==='string'&&this[_0x46c58a(0x1c4)][_0x46c58a(0x213)]('>9999')&&fill(0xff,0x0,0x0),text(this[_0x46c58a(0x1c4)],_0x49d1c7,_0x2fe6a5),pop();}}[_0x3b816f(0x2c0)](){rotate(0x0),pop();}[_0x3b816f(0x219)](){const _0x4b50b8=_0x3b816f;switch(this[_0x4b50b8(0x208)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class Resistor extends CircuitElement{constructor(_0x3eed5f,_0x581de7,_0x46b08e){const _0x4a62f1=_0x3b816f;super(_0x3eed5f,_0x581de7),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x4a62f1(0x29e)]=_0x46b08e,this[_0x4a62f1(0x262)]=_0x4a62f1(0x235),this[_0x4a62f1(0x292)]=0x0;}[_0x3b816f(0x23c)](_0x559c66){const _0x2c5c5d=_0x3b816f;_0x559c66['strokeWeight'](0x1*SCALE_FACTOR),_0x559c66['stroke'](0x0),_0x559c66['fill'](0xc8,0x96,0x64),_0x559c66['rectMode'](CENTER),_0x559c66['rect'](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x559c66[_0x2c5c5d(0x277)](),_0x559c66[_0x2c5c5d(0x23e)](0x0),_0x559c66[_0x2c5c5d(0x2ca)](CENTER,CENTER),_0x559c66[_0x2c5c5d(0x1ba)](0x8*SCALE_FACTOR),_0x559c66[_0x2c5c5d(0x22c)](this[_0x2c5c5d(0x29e)],0x0,0x0);}[_0x3b816f(0x282)](){const _0x4373c1=_0x3b816f;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x4373c1(0x29e)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x4373c1(0x262)]+translations[lang][_0x4373c1(0x284)],0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super['postDisplay']();}[_0x3b816f(0x219)](){const _0x1c5a95=_0x3b816f;switch(this[_0x1c5a95(0x208)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x101825,_0x1f0963,_0x50b09a){const _0x2b41f0=_0x3b816f;super(_0x101825,_0x1f0963),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x2b41f0(0x1bb)](this['w'],this['h'])/0x2,this[_0x2b41f0(0x29e)]=_0x50b09a,this['capacity']='18',this[_0x2b41f0(0x1df)]=!![];}[_0x3b816f(0x24d)](_0x3a01a1){const _0x231ef8=_0x3b816f;if(_0x3a01a1===this[_0x231ef8(0x1df)])return;this[_0x231ef8(0x1df)]=_0x3a01a1,redraw();}[_0x3b816f(0x23c)](_0x45ab25){const _0x46ad18=_0x3b816f;_0x45ab25[_0x46ad18(0x2b4)](0x1*SCALE_FACTOR),_0x45ab25[_0x46ad18(0x1bc)](0x0),_0x45ab25['line'](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x45ab25['line'](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x45ab25['line'](this['w']/0x5,0x0,this['w'],0x0),_0x45ab25[_0x46ad18(0x274)](-this['w']/0x5,0x0,-this['w'],0x0),_0x45ab25[_0x46ad18(0x277)](),_0x45ab25[_0x46ad18(0x23e)](0x0),_0x45ab25[_0x46ad18(0x2ca)](CENTER,CENTER),_0x45ab25[_0x46ad18(0x1ba)](0x8*SCALE_FACTOR),_0x45ab25[_0x46ad18(0x22c)](this[_0x46ad18(0x29e)],-this['w']/0x2,-this['h']*0.5);}['display'](){const _0x43cd19=_0x3b816f;if(!this[_0x43cd19(0x1df)])return;super[_0x43cd19(0x282)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x43cd19(0x29e)],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x43cd19(0x2b9)]+translations[lang]['microFaradUnit'],0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x43cd19(0x2c0)]();}[_0x3b816f(0x219)](){const _0x40a3cf=_0x3b816f;switch(this[_0x40a3cf(0x208)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x2a9604,_0x5c521b,_0x1ddf59){const _0x170c10=_0x3b816f;super(_0x2a9604,_0x5c521b),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x170c10(0x1bb)](this['w'],this['h'])/0x2,this[_0x170c10(0x29e)]=_0x1ddf59,this[_0x170c10(0x1b6)]='440',this[_0x170c10(0x292)]=0x0;}['displayPalette'](_0x3ba09a){const _0x554170=_0x3b816f;_0x3ba09a[_0x554170(0x2b4)](0x1*SCALE_FACTOR),_0x3ba09a[_0x554170(0x1bc)](0x0);let _0x2edc95=this['h']*0.25,_0x505d34=this['w']*0.6,_0x250bf2=-_0x505d34/0x2,_0x26c698=0x0,_0x3276ec=_0x505d34/0x3;_0x3ba09a[_0x554170(0x260)]();const _0x5412ea=0x3;for(let _0xb0b806=0x0;_0xb0b806<_0x5412ea;_0xb0b806++){let _0xe9894e=_0x250bf2+_0xb0b806*_0x3276ec;_0x3ba09a['arc'](_0xe9894e+_0x3276ec/0x2,_0x26c698,_0x3276ec,_0x2edc95,PI,0x0);}_0x3ba09a['line'](_0x250bf2,0x0,_0x250bf2-0xa,0x0),_0x3ba09a['line'](_0x505d34/0x2,0x0,_0x505d34/0x2+0xa,0x0),_0x3ba09a[_0x554170(0x277)](),_0x3ba09a[_0x554170(0x23e)](0x0),_0x3ba09a['textAlign'](CENTER,CENTER),_0x3ba09a[_0x554170(0x1ba)](0x8*SCALE_FACTOR),_0x3ba09a[_0x554170(0x22c)](this['label'],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x3b816f(0x282)](){const _0x55138e=_0x3b816f;super[_0x55138e(0x282)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x1d5373=this['h']*0.25,_0x42b55d=this['w']*0.6,_0x1b4a21=-_0x42b55d/0x2,_0x5c66ad=0x0,_0x4a0a5a=_0x42b55d/0x3;noFill();const _0x525da4=0x3;for(let _0x1c8dcf=0x0;_0x1c8dcf<_0x525da4;_0x1c8dcf++){let _0xcb127a=_0x1b4a21+_0x1c8dcf*_0x4a0a5a;arc(_0xcb127a+_0x4a0a5a/0x2,_0x5c66ad,_0x4a0a5a,_0x1d5373,PI,0x0);}line(_0x1b4a21,0x0,_0x1b4a21-_0x42b55d/0x3,0x0),line(_0x42b55d/0x2,0x0,_0x42b55d*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x55138e(0x1b6)]+_0x55138e(0x1ee),0x0,this['h']/0xa)),super['postDisplay']();}[_0x3b816f(0x219)](){const _0x27a339=_0x3b816f;switch(this[_0x27a339(0x208)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x4d92cd,_0x99b2f3,_0x2b22cd){const _0x507fe4=_0x3b816f;super(_0x4d92cd,_0x99b2f3),this['r']=0x11*SCALE_FACTOR,this['label']=_0x2b22cd,this[_0x507fe4(0x27e)]=0x0;}[_0x3b816f(0x23c)](_0x5b9331){const _0x4555de=_0x3b816f;_0x5b9331[_0x4555de(0x2b4)](0x1*SCALE_FACTOR),_0x5b9331[_0x4555de(0x1bc)](0x0),_0x5b9331['fill'](0xdc),_0x5b9331[_0x4555de(0x231)](0x0,0x0,this['r']*1.5),_0x5b9331['noStroke'](),_0x5b9331[_0x4555de(0x23e)](0x0),_0x5b9331[_0x4555de(0x2ca)](CENTER,CENTER),_0x5b9331[_0x4555de(0x1ba)](0x8*SCALE_FACTOR),_0x5b9331[_0x4555de(0x22c)](this[_0x4555de(0x29e)],this['r']*0.6,this['r']*1.3);}['display'](){const _0x10419a=_0x3b816f;super[_0x10419a(0x282)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x10419a(0x29e)],0x0,0x0),super[_0x10419a(0x2c0)]();}[_0x3b816f(0x219)](){const _0x2c1922=_0x3b816f;switch(this[_0x2c1922(0x208)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x527c89,_0x5b7739,_0x5aad0b){const _0x21201b=_0x3b816f;super(_0x527c89,_0x5b7739),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x21201b(0x29e)]=_0x5aad0b,this[_0x21201b(0x22b)]=!![],this[_0x21201b(0x1ca)]=!![],this[_0x21201b(0x28d)]=0x0,this[_0x21201b(0x2b1)]=0x0,this[_0x21201b(0x22e)]=0x0,this[_0x21201b(0x1d3)]=this[_0x21201b(0x1ca)]?-PI/0x4:0x0;}[_0x3b816f(0x23c)](_0x3bcab3){const _0x4af2d7=_0x3b816f;_0x3bcab3['strokeWeight'](1.5*SCALE_FACTOR),_0x3bcab3[_0x4af2d7(0x1bc)](0x0),_0x3bcab3[_0x4af2d7(0x274)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x3bcab3[_0x4af2d7(0x274)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x3bcab3['line'](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x3bcab3[_0x4af2d7(0x260)](),_0x3bcab3[_0x4af2d7(0x2a9)](CENTER),_0x3bcab3[_0x4af2d7(0x2ba)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x3bcab3[_0x4af2d7(0x277)](),_0x3bcab3[_0x4af2d7(0x23e)](0x0),_0x3bcab3['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x3bcab3[_0x4af2d7(0x22c)](this[_0x4af2d7(0x29e)],0x0,-this['h']/0x2*0.7-0x2*SCALE_FACTOR);}[_0x3b816f(0x282)](){const _0x3add9e=_0x3b816f;super['display'](),this[_0x3add9e(0x22e)]+=deltaTime/0x3e8;!this[_0x3add9e(0x1ca)]?this[_0x3add9e(0x2b1)]=min(this['glowIntensity']+0.05,0x1):this['glowIntensity']=max(this[_0x3add9e(0x2b1)]-0.05,0x0);let _0x2bbd28=!![],_0x168963=![],_0x266e4b=color(0x0,0xff,0x0),_0x182de5=color(0x3c,0xc8,0xff),_0xd3c143=0x3e80,_0x49a365=0x0;const _0x114c71=findElementByLabel(_0x3add9e(0x1dc)),_0xca8d39=findElementByLabel(_0x3add9e(0x227)),_0x390596=findElementByLabel('PA3'),_0x165b33=findElementByLabel(_0x3add9e(0x291)),_0x38b377=findElementByLabel(_0x3add9e(0x236)),_0x2a32c4=findElementByLabel(_0x3add9e(0x22d));if(this[_0x3add9e(0x29e)]=='SA1'&&(typeof _0x114c71[_0x3add9e(0x1c4)]===_0x3add9e(0x256)&&_0x114c71['calculationDisplayValue']['includes'](_0x3add9e(0x229))))_0x2bbd28=![];else{if(this['label']=='SA2'&&(typeof _0xca8d39[_0x3add9e(0x1c4)]==='string'&&_0xca8d39['calculationDisplayValue'][_0x3add9e(0x213)](_0x3add9e(0x229))))_0x2bbd28=![];else{if(this[_0x3add9e(0x29e)]=='SA3'&&(typeof _0x390596[_0x3add9e(0x1c4)]===_0x3add9e(0x256)&&_0x390596[_0x3add9e(0x1c4)][_0x3add9e(0x213)](_0x3add9e(0x229))))_0x2bbd28=![];else{if(this['label']==_0x3add9e(0x228)&&(typeof _0x114c71['calculationDisplayValue']===_0x3add9e(0x256)&&_0x165b33[_0x3add9e(0x1c4)][_0x3add9e(0x213)](_0x3add9e(0x229))))_0x2bbd28=![];else{if(this[_0x3add9e(0x29e)]==_0x3add9e(0x2bb)&&(typeof _0xca8d39['calculationDisplayValue']===_0x3add9e(0x256)&&_0x38b377[_0x3add9e(0x1c4)][_0x3add9e(0x213)]('0.00')))_0x2bbd28=![];else this[_0x3add9e(0x29e)]==_0x3add9e(0x25d)&&(typeof _0x390596[_0x3add9e(0x1c4)]===_0x3add9e(0x256)&&_0x2a32c4[_0x3add9e(0x1c4)][_0x3add9e(0x213)](_0x3add9e(0x229)))&&(_0x2bbd28=![]);}}}}if(this[_0x3add9e(0x2b1)]>0x0){noStroke();for(let _0xe0e358=0x3;_0xe0e358>0x0;_0xe0e358--){let _0x2898bc=this[_0x3add9e(0x2b1)]*(0x4-_0xe0e358)*0x5;fill(_0x266e4b[_0x3add9e(0x203)][0x0],_0x266e4b['levels'][0x1],_0x266e4b['levels'][0x2],_0x2898bc),ellipseMode(CENTER),ellipse(0x0,0x0,this['w']*(0x1+_0xe0e358*0.1),this['h']*(0x1+_0xe0e358*0.1));}}strokeWeight(1.5*SCALE_FACTOR);this[_0x3add9e(0x1ca)]?(stroke(0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0)):stroke(_0x266e4b);noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']);if(this['isOpen'])stroke(0x0),push(),translate(-this['w']/0x4,0x0),rotate(this[_0x3add9e(0x1d3)]),line(0x0,0x0,this['w']/0x2,0x0),pop();else{stroke(_0x266e4b),line(-this['w']/0x2,0x0,this['w']/0x2,0x0);if(_0x2bbd28){let _0x264ed8=millis(),_0x66f79c=_0x264ed8%_0xd3c143/_0xd3c143,_0x160964=0xa,_0x196242=this['w']/_0x160964,_0x5f25f6=0x3*SCALE_FACTOR,_0x39a077=-this['w']/0x2,_0x373e8b=this['w']/0x2,_0x5434f4=_0x373e8b-_0x39a077,_0x5daead=this['h']/0x5,_0x17f5eb=0x2*PI,_0x1a9c97=sin(_0x264ed8/0x1f4)*0.3+0.7;noStroke(),strokeWeight(0x2*SCALE_FACTOR),stroke(_0x182de5[_0x3add9e(0x203)][0x0],_0x182de5[_0x3add9e(0x203)][0x1],_0x182de5[_0x3add9e(0x203)][0x2],0x1e),noFill(),beginShape();for(let _0x2860fe=_0x39a077;_0x2860fe<=_0x373e8b;_0x2860fe+=0x5){let _0x3cc00e=(_0x2860fe-_0x39a077)/_0x5434f4,_0x431d02=_0x3cc00e*_0x17f5eb,_0x1cf1a6=_0x5daead*sin(_0x431d02);vertex(_0x2860fe,_0x1cf1a6);}endShape();for(let _0x493dd7=0x0;_0x493dd7<_0x160964;_0x493dd7++){let _0x1bb105=_0x493dd7*_0x196242,_0x59e304;!this[_0x3add9e(0x22b)]?(_0x59e304=_0x1bb105-_0x66f79c*_0x5434f4,_0x59e304=(_0x59e304%_0x5434f4+_0x5434f4)%_0x5434f4):_0x59e304=(_0x1bb105+_0x66f79c*_0x5434f4)%_0x5434f4;let _0x3e4ef9=_0x39a077+_0x59e304,_0x11d595=_0x59e304/_0x5434f4,_0x28b0e9=_0x11d595*_0x17f5eb;_0x168963&&(_0x49a365=random(-this['h']/0x8,this['h']/0x8));let _0x12ee0c=_0x5daead*sin(_0x28b0e9)-_0x49a365;for(let _0x4000b0=0x3;_0x4000b0>0x0;_0x4000b0--){noStroke(),fill(_0x182de5[_0x3add9e(0x203)][0x0],_0x182de5[_0x3add9e(0x203)][0x1],_0x182de5[_0x3add9e(0x203)][0x2],0x50/_0x4000b0*_0x1a9c97),ellipse(_0x3e4ef9,_0x12ee0c,_0x5f25f6*(0x1+_0x4000b0*0.5)*_0x1a9c97,_0x5f25f6*(0x1+_0x4000b0*0.5)*_0x1a9c97);}fill(_0x182de5),ellipse(_0x3e4ef9,_0x12ee0c,_0x5f25f6*_0x1a9c97,_0x5f25f6*_0x1a9c97),_0x168963?fill(0xff,0x96,0x0):fill(0xff),ellipse(_0x3e4ef9,_0x12ee0c,_0x5f25f6*0.5*_0x1a9c97,_0x5f25f6*0.5*_0x1a9c97);}}}noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x3add9e(0x2c0)]();}[_0x3b816f(0x1d1)](){const _0x46893e=_0x3b816f;this[_0x46893e(0x1ca)]=!this[_0x46893e(0x1ca)],this[_0x46893e(0x1d3)]=this[_0x46893e(0x1ca)]?-PI/0x4:0x0,updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}[_0x3b816f(0x219)](){const _0x4cc0f0=_0x3b816f;switch(this[_0x4cc0f0(0x208)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x3aa45c,_0x5933fc,_0x30a986){const _0x36c044=_0x3b816f;this['x']=_0x3aa45c,this['y']=_0x5933fc,this[_0x36c044(0x22c)]=_0x30a986;}[_0x3b816f(0x1b5)](_0x39ad3e){const _0x6c7a8a=_0x3b816f;this[_0x6c7a8a(0x22c)]=_0x39ad3e;}[_0x3b816f(0x282)](){const _0x6c4f3b=_0x3b816f;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke(_0x6c4f3b(0x252)),fill(_0x6c4f3b(0x29f)),textSize(0xf*SCALE_FACTOR);let _0x833ee8=textWidth(this[_0x6c4f3b(0x22c)]);rectMode(CENTER);let _0xe854b2=0x0,_0x264a95=0x0,_0x9e8d62=0x2*SCALE_FACTOR,_0x304084=0x2*SCALE_FACTOR;this[_0x6c4f3b(0x22c)]&&rect(_0xe854b2,_0x264a95,_0x833ee8+_0x9e8d62*0x2,0x14*SCALE_FACTOR+_0x304084*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x3c,0x96,0x28),textAlign(CENTER,CENTER),text(this[_0x6c4f3b(0x22c)],_0xe854b2,_0x264a95),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x416bef,_0x195ae6,_0x45a67f){const _0x450aa3=_0x3b816f;super(_0x416bef,_0x195ae6),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math[_0x450aa3(0x1bb)](this['w'],this['h'])/0x2,this[_0x450aa3(0x29e)]=_0x45a67f,this[_0x450aa3(0x2c7)]=0.5,this[_0x450aa3(0x2a3)]='50';}['display'](){const _0x3667b5=_0x3b816f;super['display'](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x380d95=this['h'],_0x2ba28a=this['w'];let _0x594032=_0x380d95*1.2,_0x282e37=_0x2ba28a*0.35,_0x1df0d5=-_0x594032/0x2,_0x49dfec=_0x594032/0x2,_0x1f92d7=-_0x2ba28a*0.1;drawingContext['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x1f92d7-_0x282e37,-_0x380d95*1.4,_0x282e37*0x2,2.8*_0x380d95),drawingContext[_0x3667b5(0x2c9)]([]),noFill();const _0x4df00c=0x3,_0x37a8fe=_0x594032/_0x4df00c;for(let _0xcc2da9=0x0;_0xcc2da9<_0x4df00c;_0xcc2da9++){let _0x41af90=_0x1df0d5+_0xcc2da9*_0x37a8fe;arc(_0x1f92d7-_0x380d95/0xa*2.2,_0x41af90+_0x37a8fe/0x2,_0x282e37,_0x37a8fe,-PI/0x2,PI/0x2);}line(_0x1f92d7-_0x282e37/0x2-0x3,_0x1df0d5-_0x380d95/0xa,_0x1f92d7-_0x282e37/0x2-0x3,_0x1df0d5),line(_0x1f92d7-_0x282e37/0x2-0x3,_0x1df0d5-_0x380d95/0xa,_0x1f92d7-_0x282e37*1.5,_0x1df0d5-_0x380d95/0xa),line(_0x1f92d7-_0x282e37/0x2-0x3,_0x49dfec,_0x1f92d7-_0x282e37/0x2-0x3,_0x49dfec+_0x380d95*0.4),line(_0x1f92d7-_0x282e37*1.5,_0x49dfec+_0x380d95*0.4,_0x1f92d7-_0x282e37/0x2-0x3,_0x49dfec+_0x380d95*0.4);let _0x39c734=lerp(_0x1df0d5,_0x49dfec,this[_0x3667b5(0x2c7)]);line(_0x1f92d7+_0x282e37/0x3,_0x39c734,_0x1f92d7+_0x282e37/0x4+0x19*SCALE_FACTOR,_0x39c734),fill(0x0),triangle(_0x380d95/0x14,-_0x380d95/0x14,-_0x380d95/0xa,0x0,_0x380d95/0x14,_0x380d95/0x14),circle(_0x1f92d7-_0x282e37/0x2-0x3,_0x49dfec+_0x380d95*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(translations[lang]['latrLabel'],-_0x2ba28a/0xa,-_0x380d95*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x3667b5(0x2a3)]+translations[lang][_0x3667b5(0x20f)],-_0x2ba28a/0xa,_0x380d95*1.6),super[_0x3667b5(0x2c0)]();}[_0x3b816f(0x23c)](_0x4d0b4c){const _0x3cdd21=_0x3b816f;_0x4d0b4c[_0x3cdd21(0x2b4)](0x1*SCALE_FACTOR),_0x4d0b4c[_0x3cdd21(0x1bc)](0x0);let _0x2d7f1c=this['h']*0.6,_0x3db8c7=this['w']*0.25,_0x5973c6=-_0x2d7f1c/0x2,_0xeaad52=_0x2d7f1c/0x2,_0x181478=-this['w']*0.1;_0x4d0b4c[_0x3cdd21(0x204)][_0x3cdd21(0x2c9)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x4d0b4c[_0x3cdd21(0x2ba)](_0x181478-_0x3db8c7,_0x5973c6-_0x2d7f1c/0x2,_0x3db8c7+0xf,_0x2d7f1c*0x2),_0x4d0b4c[_0x3cdd21(0x204)]['setLineDash']([]),_0x4d0b4c[_0x3cdd21(0x260)]();const _0xd63fe6=0x3,_0x4695cd=_0x2d7f1c/_0xd63fe6;for(let _0x4d6f77=0x0;_0x4d6f77<_0xd63fe6;_0x4d6f77++){let _0x584a41=_0x5973c6+_0x4d6f77*_0x4695cd;_0x4d0b4c[_0x3cdd21(0x237)](_0x181478-0xf,_0x584a41+_0x4695cd/0x2,_0x3db8c7,_0x4695cd,-PI/0x2,PI/0x2);}_0x4d0b4c[_0x3cdd21(0x274)](_0x181478-_0x3db8c7/0x2-0x3,_0x5973c6-0xa,_0x181478-_0x3db8c7/0x2-0x3,_0x5973c6),_0x4d0b4c['line'](_0x181478-_0x3db8c7/0x2-0x3,_0x5973c6-0xa,_0x181478-_0x3db8c7*1.5,_0x5973c6-0xa),_0x4d0b4c['line'](_0x181478-_0x3db8c7/0x2-0x3,_0xeaad52,_0x181478-_0x3db8c7/0x2-0x3,_0xeaad52+0xa),_0x4d0b4c[_0x3cdd21(0x274)](_0x181478-_0x3db8c7*1.5,_0xeaad52+0xa,_0x181478-_0x3db8c7/0x2-0x3,_0xeaad52+0xa);let _0x2c198f=lerp(_0x5973c6,_0xeaad52,this[_0x3cdd21(0x2c7)]);_0x4d0b4c[_0x3cdd21(0x274)](_0x181478+_0x3db8c7/0x4,_0x2c198f,_0x181478+_0x3db8c7/0x4+0xc*SCALE_FACTOR,_0x2c198f),_0x4d0b4c[_0x3cdd21(0x23e)](0x0),_0x4d0b4c[_0x3cdd21(0x1c8)](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x4d0b4c['fill'](0x0),_0x4d0b4c['noStroke'](),_0x4d0b4c['textSize'](0xa*SCALE_FACTOR),_0x4d0b4c['textAlign'](CENTER,BOTTOM),_0x4d0b4c['text'](translations[lang][_0x3cdd21(0x202)],0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x51f3a2,_0x1a9628,_0x9bc357,_0x4e0167){const _0x556832=_0x3b816f;super(_0x51f3a2,_0x1a9628),this[_0x556832(0x23f)]=_0x9bc357,this[_0x556832(0x214)]=_0x4e0167,this['waveformColorCurrent']=color(0x0,0xff,0x0),this[_0x556832(0x1e3)]=color(0x0,0x94,0xff),this[_0x556832(0x1d2)]=0x0,this[_0x556832(0x1ed)]=0x0,this['frequencyHz']=0x32,this[_0x556832(0x2ad)]=0x0;}[_0x3b816f(0x20c)](_0x4f1408,_0x579532,_0x2f6739,_0x3179a0){const _0x571e09=_0x3b816f;this['currentAmplitude']=_0x4f1408,this[_0x571e09(0x1ed)]=_0x579532,this['frequencyHz']=_0x2f6739,this[_0x571e09(0x2ad)]=_0x3179a0;}[_0x3b816f(0x282)](){const _0x32ea46=_0x3b816f;push(),translate(this['x'],this['y']),stroke(_0x32ea46(0x252)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0x32ea46(0x23f)],this[_0x32ea46(0x214)]),drawingContext[_0x32ea46(0x2c9)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this['height']/0x2,this[_0x32ea46(0x23f)],this[_0x32ea46(0x214)]/0x2),line(this['width']/0x2,0x0,this[_0x32ea46(0x23f)]/0x2,this[_0x32ea46(0x214)]),drawingContext[_0x32ea46(0x2c9)]([]),stroke(this[_0x32ea46(0x1e3)]),fill(this['waveformColorVoltage']),rect(0x0,this['height']*0.7,this[_0x32ea46(0x23f)]/0x3,this[_0x32ea46(0x214)]/0x8),stroke(this[_0x32ea46(0x2a2)]),fill(this['waveformColorCurrent']),rect(0x0,this[_0x32ea46(0x214)]*0.85,this['width']/0x3,this[_0x32ea46(0x214)]/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(translations[lang][_0x32ea46(0x1b7)],this['width']/0x6,this[_0x32ea46(0x214)]*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(translations[lang][_0x32ea46(0x2c6)],this[_0x32ea46(0x23f)]/0x6,this[_0x32ea46(0x214)]*0.97),(this[_0x32ea46(0x1d2)]>0x0||this[_0x32ea46(0x1ed)]>0x0)&&this['drawWaveforms'](),pop();}['drawWaveforms'](){const _0x2fbdf6=_0x3b816f;push(),translate(0x14*SCALE_FACTOR,this['height']/0x2);const _0x1f8507=0x96,_0x562220=0x3*PI/_0x1f8507,_0xcaecbb=this[_0x2fbdf6(0x214)]/0x4;stroke(this[_0x2fbdf6(0x2a2)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x32f099=this['phaseAngleDeg']*PI/0xb4;for(let _0x59ef1d=0x0;_0x59ef1d<=_0x1f8507;_0x59ef1d++){const _0x1db6b9=_0x59ef1d*_0x562220,_0xf9330=sin(_0x1db6b9-_0x32f099)*this[_0x2fbdf6(0x214)]*0.25;vertex(_0x59ef1d*this[_0x2fbdf6(0x23f)]/_0x1f8507-0x14*SCALE_FACTOR,-_0xf9330);}endShape(),stroke(this[_0x2fbdf6(0x1e3)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x196260=0x0;_0x196260<=_0x1f8507;_0x196260++){const _0x1ca53f=_0x196260*_0x562220,_0x3dcc5b=sin(_0x1ca53f)*this[_0x2fbdf6(0x214)]*0.45;vertex(_0x196260*this[_0x2fbdf6(0x23f)]/_0x1f8507-0x14*SCALE_FACTOR,-_0x3dcc5b);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x8fabdc,_0x150b37,_0x5e31a0){const _0x187ae2=_0x3b816f;super(_0x8fabdc,_0x150b37),this['r']=0xf*SCALE_FACTOR,this[_0x187ae2(0x29e)]=_0x5e31a0,this[_0x187ae2(0x1c6)]='30',this['isActive']=![];}[_0x3b816f(0x23c)](_0x5370d9){const _0x5671d0=_0x3b816f;_0x5370d9['strokeWeight'](0x1*SCALE_FACTOR),_0x5370d9[_0x5671d0(0x1bc)](0x0),_0x5370d9['fill'](0xff),_0x5370d9['circle'](0x0,0x0,this['r']*1.5);const _0x3687a3=this['r']*0.707106781*0.75;_0x5370d9['line'](-_0x3687a3,_0x3687a3,_0x3687a3,-_0x3687a3),_0x5370d9[_0x5671d0(0x274)](-_0x3687a3,-_0x3687a3,_0x3687a3,_0x3687a3),_0x5370d9[_0x5671d0(0x277)](),_0x5370d9[_0x5671d0(0x23e)](0x0),_0x5370d9['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x5370d9[_0x5671d0(0x22c)](this[_0x5671d0(0x29e)],0x0,this['r']*1.3);}[_0x3b816f(0x282)](){const _0x5a0b93=_0x3b816f;super[_0x5a0b93(0x282)]();let _0x47c014=0x1*SCALE_FACTOR,_0xec9532=0x2*_0x47c014;this[_0x5a0b93(0x2cd)]?(stroke(0xff,0xd8,0x0),strokeWeight(_0xec9532),fill(0xff)):(stroke(0x0),strokeWeight(_0x47c014),fill(0xff));const _0x23710f=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0x23710f,_0x23710f,_0x23710f,-_0x23710f),line(-_0x23710f,-_0x23710f,_0x23710f,_0x23710f);if(this['isActive'])for(let _0x6243b0=0x0;_0x6243b0<0x168;_0x6243b0+=0x1e){const _0x341c80=_0x6243b0*(Math['PI']/0xb4),_0x37b03a=1.15*this['r'],_0x1460fd=1.4*this['r'],_0x43f429=_0x1460fd*Math[_0x5a0b93(0x269)](_0x341c80),_0x5e55df=_0x1460fd*Math[_0x5a0b93(0x28b)](_0x341c80),_0x596acc=_0x37b03a*Math['cos'](_0x341c80),_0x4ba386=_0x37b03a*Math['sin'](_0x341c80);line(_0x596acc,_0x4ba386,_0x43f429,_0x5e55df);}rotate(0x0),this[_0x5a0b93(0x2cd)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x5a0b93(0x29e)],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),super[_0x5a0b93(0x2c0)]();}['toggleState'](){const _0x32219f=_0x3b816f;this['isActive']?this[_0x32219f(0x2cd)]=![]:this['isActive']=!![];}[_0x3b816f(0x219)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x543bbd,_0x450cf7,_0x4a76af,_0xd587c7=0x19){const _0x55ad09=_0x3b816f;super(_0x543bbd,_0x450cf7),this['numLamps']=0x5,this[_0x55ad09(0x241)]=0xf*SCALE_FACTOR,this['lampSpacing']=this[_0x55ad09(0x241)]*0x2+0xa*SCALE_FACTOR,this[_0x55ad09(0x29e)]=_0x4a76af,this['powerPerLamp']=parseFloat(_0xd587c7)||0x19,this[_0x55ad09(0x245)]=0x0,this['isVisible']=!![],this[_0x55ad09(0x2cc)]=!![],this[_0x55ad09(0x276)]=[],this['w']=this[_0x55ad09(0x1ec)]*this[_0x55ad09(0x241)]*0x2+(this[_0x55ad09(0x1ec)]-0x1)*(this[_0x55ad09(0x2b6)]-this[_0x55ad09(0x241)]*0x2),this['h']=this[_0x55ad09(0x241)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x55ad09(0x1cc)]=[];const _0x5b7e2b=-(this['w']/0x2)+this['lampRadius'];for(let _0x17203b=0x0;_0x17203b<this[_0x55ad09(0x1ec)];_0x17203b++){const _0x4fbb7c=!![];this[_0x55ad09(0x1cc)][_0x55ad09(0x2c1)]({'isActive':_0x4fbb7c,'offsetX':_0x5b7e2b+_0x17203b*this[_0x55ad09(0x2b6)],'offsetY':0x0}),this[_0x55ad09(0x276)][_0x55ad09(0x2c1)](_0x4fbb7c);}this['calculateTotalPower'](),this[_0x55ad09(0x27f)]=![],this[_0x55ad09(0x25b)]=null;}[_0x3b816f(0x24d)](_0xb27299){if(_0xb27299===this['isVisible'])return;this['isVisible']=_0xb27299,this['calculateTotalPower'](),redraw();}[_0x3b816f(0x1cf)](_0x4df058){const _0x54e224=_0x3b816f;if(_0x4df058===this[_0x54e224(0x2cc)])return;this[_0x54e224(0x2cc)]=_0x4df058;if(!this['isEnabled']){for(let _0x3a61fb=0x0;_0x3a61fb<this[_0x54e224(0x1ec)];_0x3a61fb++){this[_0x54e224(0x276)][_0x3a61fb]=this[_0x54e224(0x1cc)][_0x3a61fb][_0x54e224(0x2cd)];}for(let _0x32e710 of this[_0x54e224(0x1cc)]){_0x32e710['isActive']=![];}}else for(let _0x4ca8c0=0x0;_0x4ca8c0<this[_0x54e224(0x1ec)];_0x4ca8c0++){this[_0x54e224(0x1cc)][_0x4ca8c0][_0x54e224(0x2cd)]=typeof this['_previousLampStates'][_0x4ca8c0]===_0x54e224(0x1c5)?this[_0x54e224(0x276)][_0x4ca8c0]:![];}this[_0x54e224(0x257)](),redraw();}[_0x3b816f(0x1d1)](_0x1dfe23){const _0x521d4f=_0x3b816f;if(!this['isEnabled']||!this['isVisible'])return;if(this[_0x521d4f(0x27f)])return;_0x1dfe23>=0x0&&_0x1dfe23<this[_0x521d4f(0x1ec)]&&(this[_0x521d4f(0x27f)]=!![],this[_0x521d4f(0x1cc)][_0x1dfe23][_0x521d4f(0x2cd)]=!this['lamps'][_0x1dfe23]['isActive'],this['_previousLampStates'][_0x1dfe23]=this[_0x521d4f(0x1cc)][_0x1dfe23][_0x521d4f(0x2cd)],this[_0x521d4f(0x257)](),clearTimeout(this[_0x521d4f(0x25b)]),this['toggleTimer']=setTimeout(()=>{this['isTogglingLamp']=![],redraw();},0xc8));}[_0x3b816f(0x257)](){const _0x3b192e=_0x3b816f;if(!this[_0x3b192e(0x2cc)]||!this[_0x3b192e(0x1df)]){this[_0x3b192e(0x245)]=0x0;return;}let _0x4b6c29=0x0;for(const _0x264998 of this[_0x3b192e(0x1cc)]){_0x264998[_0x3b192e(0x2cd)]&&(_0x4b6c29+=this['powerPerLamp']);}this['total_power']=_0x4b6c29;}[_0x3b816f(0x21e)](_0x1a4d5d,_0x32c129){const _0x8d1dee=_0x3b816f;if(!this['isVisible'])return-0x1;for(let _0x37334e=0x0;_0x37334e<this[_0x8d1dee(0x1ec)];_0x37334e++){const _0x22a315=this['lamps'][_0x37334e],_0x141e86=this['x']+_0x22a315[_0x8d1dee(0x296)],_0x6eb5bb=this['y']+_0x22a315[_0x8d1dee(0x293)],_0x5e4a88=dist(_0x1a4d5d,_0x32c129,_0x141e86,_0x6eb5bb);if(_0x5e4a88<this[_0x8d1dee(0x241)])return _0x37334e;}return-0x1;}['displayPalette'](_0x150e0){const _0x102c98=_0x3b816f;_0x150e0[_0x102c98(0x2b4)](0x1*SCALE_FACTOR),_0x150e0[_0x102c98(0x1bc)](0x0);const _0x2331b2=this['lampRadius']*0.5,_0x1978e3=_0x2331b2*0x2+0x2*SCALE_FACTOR,_0x3f4059=this[_0x102c98(0x1ec)]*_0x2331b2*0x2+(this[_0x102c98(0x1ec)]-0x1)*0x2*SCALE_FACTOR,_0x355dde=-_0x3f4059/0x2+_0x2331b2;for(let _0x53421c=0x0;_0x53421c<this['numLamps'];_0x53421c++){_0x150e0[_0x102c98(0x23e)](0xff),_0x150e0[_0x102c98(0x231)](_0x355dde+_0x53421c*_0x1978e3,0x0,_0x2331b2*0x2);const _0x3d7bc3=_0x2331b2*0.707;_0x150e0[_0x102c98(0x274)](_0x355dde+_0x53421c*_0x1978e3-_0x3d7bc3,_0x3d7bc3,_0x355dde+_0x53421c*_0x1978e3+_0x3d7bc3,-_0x3d7bc3),_0x150e0['line'](_0x355dde+_0x53421c*_0x1978e3-_0x3d7bc3,-_0x3d7bc3,_0x355dde+_0x53421c*_0x1978e3+_0x3d7bc3,_0x3d7bc3);}_0x150e0[_0x102c98(0x277)](),_0x150e0[_0x102c98(0x23e)](0x0),_0x150e0[_0x102c98(0x2ca)](CENTER,BOTTOM),_0x150e0['textSize'](0x8*SCALE_FACTOR),_0x150e0[_0x102c98(0x22c)](this[_0x102c98(0x29e)],0x0,_0x2331b2+0xa*SCALE_FACTOR);}['display'](){const _0x2b4abf=_0x3b816f;if(!this[_0x2b4abf(0x1df)])return;push(),translate(this['x'],this['y']);const _0x57f4b9=this[_0x2b4abf(0x241)]*0x5+this[_0x2b4abf(0x2b6)]*3.2;stroke(0x64),rect(-_0x57f4b9/0x2,-this[_0x2b4abf(0x241)]*1.2,_0x57f4b9,this[_0x2b4abf(0x241)]*2.4),stroke(0x0);for(let _0x45281b=0x0;_0x45281b<this['numLamps'];_0x45281b++){const _0x330aa9=this[_0x2b4abf(0x1cc)][_0x45281b];push(),translate(_0x330aa9[_0x2b4abf(0x296)],_0x330aa9[_0x2b4abf(0x293)]);let _0x138406=0x1*SCALE_FACTOR,_0x3c97a8=0x2*_0x138406,_0x16fc08=color(0xff),_0x4b76e2=color(0x0);_0x330aa9['isActive']?(_0x4b76e2=color(0xff,0xd8,0x0),strokeWeight(_0x3c97a8),_0x16fc08=color(0xff,0xff,0xc8)):(strokeWeight(_0x138406),_0x16fc08=color(0xdc));!this['isEnabled']&&(_0x4b76e2=color(0x96),_0x16fc08=color(0xdc),strokeWeight(_0x138406));stroke(_0x4b76e2),fill(_0x16fc08),circle(0x0,0x0,this['lampRadius']*0x2);const _0x129660=this[_0x2b4abf(0x241)]*0.707;line(-_0x129660,_0x129660,_0x129660,-_0x129660),line(-_0x129660,-_0x129660,_0x129660,_0x129660);if(_0x330aa9[_0x2b4abf(0x2cd)]&&this['isEnabled']){stroke(_0x4b76e2),strokeWeight(0x1*SCALE_FACTOR);for(let _0x290723=0x0;_0x290723<0x168;_0x290723+=0x2d){const _0x2b8750=radians(_0x290723),_0x100442=1.15*this[_0x2b4abf(0x241)],_0x148850=1.4*this[_0x2b4abf(0x241)];line(_0x100442*cos(_0x2b8750),_0x100442*sin(_0x2b8750),_0x148850*cos(_0x2b8750),_0x148850*sin(_0x2b8750));}}pop();}noStroke(),fill(this[_0x2b4abf(0x2cc)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x2b4abf(0x29e)],0x0,-this[_0x2b4abf(0x241)]-0x7*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),pop();}[_0x3b816f(0x219)](){return 0x0;}}
    </script>
    <!--
        MIT License

        Copyright (c) 2025 Mykhailo Gotsuliak, IFNTUNG

        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:

        The above copyright notice and this permission notice shall be included in all
        copies or substantial portions of the Software.

        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
    -->  
</body>
</html>