<!DOCTYPE html>
<!-- Додаємо атрибут lang, який буде оновлено скриптом -->
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- Title буде встановлено через JS -->
    <title>Калькулятор струму</title>
    <script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true
          },
          svg: {
            fontCache: 'global'
          }
        };
        </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
<style>
/* Стилі залишаються ТІ Ж САМІ, що й у попередньому варіанті */
/* Загальні стилі */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    font-size: 16px;
    line-height: 1.5;
    background-color: #f4f4f4;
    color: #333;
    display: flex; /* Для притискання футера, якщо він буде */
    flex-direction: column;
    min-height: 100vh;
}

* {
    box-sizing: border-box;
}

h1, h2 {
    color: #0056b3;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
h1 { font-size: 1.6em; text-align: center; }
h2 { font-size: 1.2em; border-bottom: 1px solid #ccc; padding-bottom: 0.2em;}

hr {
    border: 0;
    height: 1px;
    background-color: #ccc;
    margin: 20px 0;
}

/* Контейнер додатка */
#app-container {
    display: flex;
    flex-grow: 1;
    width: 100%;
    overflow-x: hidden; /* Запобігання горизонтальному скролу */
}

/* Панель інформації */
#info-panel {
    padding: 15px 20px;
    background-color: #fff;
    overflow-y: auto; /* Дозволити скрол, якщо вміст не влазить */
    border-right: 2px solid #ccc; /* Розділювач у горизонтальному режимі */
    flex-shrink: 0; /* Не стискати панель */
}

/* Панель графіків */
#graph-panel-container {
    flex-grow: 1; /* Займати решту місця */
    display: flex;
    flex-direction: column; /* Розмістити канвас та підказку */
    padding: 10px;
    background-color: #e9e9e9; /* Легкий фон для області графіків */
    min-width: 0; /* Дозволяє панелі стискатись */
}

#canvas-container {
    flex-grow: 1; /* Канвас займає доступний простір */
    position: relative; /* Для позиціонування канвасу, якщо потрібно */
    min-height: 200px; /* Мінімальна висота для графіків */
    display: flex; /* Центрування канвасу */
    justify-content: center;
    align-items: center;
}

#canvas-container canvas {
    display: block;
    max-width: 100%;
    max-height: 100%; /* Канвас не вилазить за контейнер */
    /* background-color: #F0F0F0; */ /* Фон канвасу тепер керується p5 */
    border: 1px solid #bbb; /* Рамка навколо канвасу */
}

#graph-hint {
    flex-shrink: 0; /* Не стискати підказку */
    padding-top: 5px;
}

/* --- Розташування панелей --- */
/* Горизонтальне (за замовчуванням для ширших екранів) */
#app-container.layout-horizontal {
    flex-direction: row;
}
#info-panel.layout-horizontal {
    /*width: 50%;         /* Бажана ширина інформаційної панелі */
    flex-shrink: 0;     /* Не стискати панель */
    min-width: 350px;   /* Мінімальна ширина, щоб вміст не ламався */
    max-width: 50%;
    border-right: 2px solid #ccc;
    border-bottom: none;
    overflow-y: auto; /* Залишаємо скрол */
}
#graph-panel-container.layout-horizontal {
    /* Займає решту місця */
}


/* Вертикальне (для вужчих екранів) */
#app-container.layout-vertical {
    flex-direction: column;
}
#info-panel.layout-vertical {
    width: 100%;
    max-width: none;
    border-right: none;
    border-bottom: 2px solid #ccc; /* Розділювач знизу */
}
#graph-panel-container.layout-vertical {
     min-height: 400px; /* Більша мінімальна висота у вертикальному режимі */
     height: 60vh; /* Або фіксована висота, напр. 500px */
}


/* --- Стилі елементів вводу --- */
.input-section {
    margin-bottom: 20px;
}

.input-container {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    flex-wrap: wrap; /* Дозволити перенос на малих екранах */
}

.input-container label {
    min-width: 110px;
    text-align: right;
    margin-right: 10px;
    font-weight: bold;
}

.input-container div { /* Обгортка для інпута та одиниць */
    display: flex;
    align-items: center;
}

input[type="number"], select {
    padding: 6px 10px;
    font-size: 1em;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #fff;
    color: #333;
    width: 100px; /* Ширина поля вводу */
}

/* Прибрати стрілки в числових полях (Webkit/Firefox) */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type=number] {
  -moz-appearance: textfield;
}

select {
   width: auto; /* Автоматична ширина для селекту */
   min-width: 80px;
   padding-right: 5px;
   cursor: pointer;
}

.input-container span.unit { /* Додано клас для одиниць виміру */
    margin-left: 8px;
    color: #555;
}
.input-container span#phase-angle-display { /* Стиль для відображення кута */
     margin-left: 10px;
     color: #555;
}
.input-container span#phase-angle-label { /* Додано клас для слова "Кут" */
    margin-left: 10px;
    color: #555;
}


/* --- Стилі результатів --- */
#results-area {
    margin-top: 15px;
}

#results-area p {
    margin: 8px 0;
}
#results-area span[id$="-value"], /* Спан для значень */
#results-area span[id$="-result"] {
    font-weight: bold;
    color: #006622; /* Зелений для значень */
}

.formula-block {
    margin: 10px 0 15px 15px; /* Відступ для формул */
    font-size: 1.1em; /* Трохи більший шрифт для формул */
    overflow-x: auto; /* Дозволити скрол, якщо формула дуже довга */
    padding: 5px 0;
}
.formula-block mjx-container { /* Стилізація MathJax контейнера */
    margin: 5px 0 !important;
}


.final-result {
    margin-top: 15px;
    padding: 10px;
    background-color: #e6f4e6;
    border: 1px solid #5cb85c;
    border-radius: 4px;
    display: inline-block; /* Щоб фон був лише навколо тексту */
}
.final-result b {
    color: #3c763d;
}

/* Стилі помилок */
.error {
    color: #D8000C;
    background-color: #FFD2D2;
    border: 1px solid #D8000C;
    padding: 10px;
    margin-bottom: 15px;
    border-radius: 4px;
    display: none; /* Початково приховано */
}
.error:not(:empty) { /* Показувати тільки якщо є текст */
    display: block;
}

/* Клас для приховування інпутів при збільшеному графіку */
body.graph-maximized .input-container {
    visibility: hidden;
}
/* Приховування підказки при збільшенні */
body.graph-maximized #graph-hint {
     display: none;
}


/* Медіа-запит для керування розташуванням */
@media (max-width: 768px) { /* Поріг для вертикального режиму */
    #app-container {
        flex-direction: column;
    }
    #info-panel {
        width: 100%;
        max-width: none;
        border-right: none;
        border-bottom: 2px solid #ccc;
        height: auto; /* Автоматична висота */
        max-height: 60vh; /* Обмеження висоти, щоб графіки було видно */
        overflow-y: auto; /* Дозволити скрол */
    }
    #graph-panel-container {
        min-height: 350px; /* Мінімальна висота для графіків */
        height: 50vh; /* Висота графічної панелі */
    }
    .input-container label {
        min-width: 100px; /* Можна зменшити */
        text-align: left;
        margin-bottom: 3px;
    }
     .input-container {
        flex-direction: column;
        align-items: flex-start;
     }
     .input-container div{
         margin-left: 0; /* Прибрати відступ для групи інпут+одиниці */
     }
}

</style>
</head>
<body>
    <div id="app-container">
        <!-- Панель Інформації та Вводу -->
        <div id="info-panel">
            <!-- Заголовки та мітки з data-lang-key -->
            <h1 data-lang-key="mainTitle">Калькулятор струму в фазі</h1>

            <!-- Введення даних -->
            <div class="input-section">
                <h2 data-lang-key="inputDataTitle">Вхідні дані:</h2>
                <div id="voltage-container" class="input-container">
                    <label for="voltage-input" data-lang-key="voltageLabel">Напруга U:</label>
                    <div>
                        <input type="number" id="voltage-input" step="any" min="0" value="230">
                        <span class="unit" data-lang-key="unitVolt">В</span>
                    </div>
                </div>
                <div id="phase-angle-container" class="input-container">
                   <label for="phase-select" data-lang-key="phaseLabel">Фаза:</label>
                   <div>
                       <select id="phase-select">
                           <option value="A" selected>A (0°)</option>
                           <option value="B">B (-120°)</option>
                           <option value="C">C (120°)</option>
                       </select>
                       <!-- Додано span для слова "Кут" -->
                       <span id="phase-angle-label" data-lang-key="angleLabel" style="margin-left: 10px;">Кут:</span>
                       <span id="phase-angle-display" style="margin-left: 5px;">0°</span>
                   </div>
                </div>
                <div id="r-container" class="input-container">
                    <label for="r-input" data-lang-key="rLabel">Активний R:</label>
                     <div>
                        <input type="number" id="r-input" step="any" min="0" value="10">
                        <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>
                <div id="xl-container" class="input-container">
                    <label for="xl-input" data-lang-key="xlLabel">Індуктивний XL:</label>
                    <div>
                        <input type="number" id="xl-input" step="any" min="0" value="5">
                         <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>
                <div id="xc-container" class="input-container">
                    <label for="xc-input" data-lang-key="xcLabel">Ємнісний XC:</label>
                     <div>
                        <input type="number" id="xc-input" step="any" min="0" value="15">
                        <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>

            </div>

            <hr>

            <!-- Область Результатів -->
            <div id="results-area">
                <h2 data-lang-key="resultsTitle">Розрахунок:</h2>
                <div id="error-message" class="error"></div>

                <div id="calculation-steps">
                    <!-- Текст перед значеннями також додаємо data-lang-key -->
                    <p><span data-lang-key="phaseVoltageLabel">Напруга фази:</span> <span id="voltage-result"></span> <span data-lang-key="unitVolt">В</span></p>
                    <p><span data-lang-key="phaseImpedanceLabel">Імпеданс фази:</span>
                        <span id="impedance-rect-formula"></span> = <span id="impedance-rect-value"></span> <span data-lang-key="unitOhm">Ом</span>
                    </p>

                    <div id="impedance-polar-calculation">
                        <p><span data-lang-key="impedancePolarCalcLabel">Розрахунок Z (полярна форма):</span></p>
                        <div class="formula-block">
                           <span id="impedance-polar-formula"></span>
                        </div>
                    </div>
                    <p>|Z| = <span id="impedance-mag-value"></span> <span data-lang-key="unitOhm">Ом</span></p>
                    <p>φ<sub>Z</sub> = <span id="impedance-angle-value"></span><span data-lang-key="unitDegree">°</span></p>

                    <p><span data-lang-key="currentPolarCalcLabel">Розрахунок струму I (полярна форма):</span></p>
                    <div class="formula-block">
                       <span id="current-polar-formula"></span>
                    </div>
                    <p>I = <span id="current-polar-value"></span> <span data-lang-key="unitAmpere">А</span></p>

                    <div id="current-rect-calculation" style="display: none;">
                        <p><span data-lang-key="currentRectCalcLabel">Розрахунок струму I (прямокутна форма):</span></p>
                        <div class="formula-block">
                            <span id="current-rect-formula"></span>
                        </div>
                        <p>I = <span id="current-rect-value"></span> <span data-lang-key="unitAmpere">А</span></p>
                    </div>

                    <p class="final-result">
                        <b><span data-lang-key="finalCurrentLabel">Підсумковий струм:</span> <span id="final-current-value"></span> <span data-lang-key="unitAmpere">А</span></b>
                    </p>
                </div>
                <div id="needs-calculation-message" style="display: none;" data-lang-key="needsCalcMessage">Натисніть 'Порахувати' або змініть дані.</div>
            </div>
        </div>

        <!-- Панель Графіків -->
        <div id="graph-panel-container">
            <div id="canvas-container"></div>
            <div id="graph-hint" style="text-align: center; margin-top: 5px; font-size: 0.9em; color: #555;" data-lang-key="graphHint">
                (Клікніть на графік для збільшення)
            </div>
        </div>
    </div>

    <script >
const _0x5075e9=_0x5884;(function(_0x1b669e,_0x5d0ce5){const _0x538c3f=_0x5884,_0x51970c=_0x1b669e();while(!![]){try{const _0xe9ea41=-parseInt(_0x538c3f(0x14c))/0x1+-parseInt(_0x538c3f(0x132))/0x2*(-parseInt(_0x538c3f(0x190))/0x3)+parseInt(_0x538c3f(0x16b))/0x4*(-parseInt(_0x538c3f(0x17f))/0x5)+parseInt(_0x538c3f(0x19f))/0x6+-parseInt(_0x538c3f(0x1b4))/0x7*(-parseInt(_0x538c3f(0x179))/0x8)+parseInt(_0x538c3f(0x12b))/0x9+parseInt(_0x538c3f(0x15e))/0xa*(-parseInt(_0x538c3f(0x18f))/0xb);if(_0xe9ea41===_0x5d0ce5)break;else _0x51970c['push'](_0x51970c['shift']());}catch(_0x30f67e){_0x51970c['push'](_0x51970c['shift']());}}}(_0x7a58,0x7c498));const _0x2b8a29={};_0x2b8a29[_0x5075e9(0x1d0)]='Калькулятор\x20струму\x20(HTML+MathJax+p5)',_0x2b8a29[_0x5075e9(0x1a5)]=_0x5075e9(0x13d),_0x2b8a29['inputDataTitle']='Вхідні\x20дані:',_0x2b8a29['voltageLabel']=_0x5075e9(0x116),_0x2b8a29['phaseLabel']=_0x5075e9(0x18a),_0x2b8a29['angleLabel']=_0x5075e9(0xfb),_0x2b8a29[_0x5075e9(0x1d4)]=_0x5075e9(0x142),_0x2b8a29[_0x5075e9(0x11a)]=_0x5075e9(0x1fc),_0x2b8a29['xcLabel']=_0x5075e9(0x12e),_0x2b8a29[_0x5075e9(0x171)]=_0x5075e9(0x146),_0x2b8a29[_0x5075e9(0x14a)]=_0x5075e9(0x18e),_0x2b8a29[_0x5075e9(0x20c)]=_0x5075e9(0x185),_0x2b8a29['impedancePolarCalcLabel']=_0x5075e9(0x180),_0x2b8a29[_0x5075e9(0x164)]=_0x5075e9(0x1ac),_0x2b8a29[_0x5075e9(0x12d)]='Розрахунок\x20струму\x20I\x20(прямокутна\x20форма):',_0x2b8a29[_0x5075e9(0x199)]='Підсумковий\x20струм:',_0x2b8a29['needsCalcMessage']=_0x5075e9(0x112),_0x2b8a29[_0x5075e9(0x118)]='(Клікніть\x20на\x20графік\x20для\x20збільшення)',_0x2b8a29[_0x5075e9(0x160)]='В',_0x2b8a29[_0x5075e9(0x1cd)]='Ом',_0x2b8a29[_0x5075e9(0x192)]='А',_0x2b8a29[_0x5075e9(0x20e)]='°',_0x2b8a29[_0x5075e9(0xfe)]='Помилка\x20вводу:\x20Некоректне\x20значення\x20для',_0x2b8a29['errorZeroImpedance']='Помилка:\x20Ділення\x20на\x20нуль\x20(Імпеданс\x20Z\x20=\x200)',_0x2b8a29[_0x5075e9(0x1b9)]=_0x5075e9(0x125),_0x2b8a29['p5_waitingCalculation']='Очікування\x20розрахунку...',_0x2b8a29[_0x5075e9(0x194)]=_0x5075e9(0x1ae),_0x2b8a29[_0x5075e9(0x17c)]=_0x5075e9(0x1f2),_0x2b8a29['p5_vectorDiagramTitle']=_0x5075e9(0x140),_0x2b8a29[_0x5075e9(0x1ad)]='Re',_0x2b8a29['p5_axisIm']='Im',_0x2b8a29[_0x5075e9(0x127)]=_0x5075e9(0x1c7),_0x2b8a29['p5_currentZero']=_0x5075e9(0x119),_0x2b8a29['p5_sineGraphTitle']=_0x5075e9(0x103),_0x2b8a29[_0x5075e9(0x1b6)]='Напруга\x20U\x20(В)',_0x2b8a29[_0x5075e9(0x11e)]=_0x5075e9(0x1df),_0x2b8a29['p5_phaseDiffLabel']=_0x5075e9(0x15b),_0x2b8a29['p5_legendVoltage']=_0x5075e9(0x12f),_0x2b8a29[_0x5075e9(0x1b0)]='Струм\x20I',_0x2b8a29[_0x5075e9(0x20b)]=_0x5075e9(0x1f6);const _0x3f335e={};_0x3f335e[_0x5075e9(0x1d0)]='Phase\x20Current\x20Calculator\x20(HTML+MathJax+p5)',_0x3f335e[_0x5075e9(0x1a5)]=_0x5075e9(0x201),_0x3f335e['inputDataTitle']='Input\x20Data:',_0x3f335e[_0x5075e9(0x114)]='Voltage\x20U:',_0x3f335e[_0x5075e9(0x15d)]='Phase:',_0x3f335e[_0x5075e9(0x129)]=_0x5075e9(0x1e7),_0x3f335e['rLabel']=_0x5075e9(0x155),_0x3f335e['xlLabel']=_0x5075e9(0x19b),_0x3f335e['xcLabel']=_0x5075e9(0x1bc),_0x3f335e[_0x5075e9(0x171)]=_0x5075e9(0x208),_0x3f335e[_0x5075e9(0x14a)]='Phase\x20Voltage:',_0x3f335e[_0x5075e9(0x20c)]=_0x5075e9(0x170),_0x3f335e[_0x5075e9(0x166)]=_0x5075e9(0x1eb),_0x3f335e[_0x5075e9(0x164)]=_0x5075e9(0x13c),_0x3f335e[_0x5075e9(0x12d)]='Current\x20I\x20Calculation\x20(Rectangular\x20Form):',_0x3f335e['finalCurrentLabel']='Final\x20Current:',_0x3f335e['needsCalcMessage']=_0x5075e9(0x1a9),_0x3f335e[_0x5075e9(0x118)]=_0x5075e9(0x133),_0x3f335e[_0x5075e9(0x160)]='V',_0x3f335e[_0x5075e9(0x1cd)]='Ω',_0x3f335e['unitAmpere']='A',_0x3f335e[_0x5075e9(0x20e)]='°',_0x3f335e[_0x5075e9(0xfe)]=_0x5075e9(0x1cc),_0x3f335e[_0x5075e9(0x19e)]=_0x5075e9(0x17b),_0x3f335e[_0x5075e9(0x1b9)]='Calculation\x20Error',_0x3f335e[_0x5075e9(0x120)]=_0x5075e9(0x12a),_0x3f335e['p5_fixInputError']='Please\x20correct\x20the\x20input\x20data\x20error.',_0x3f335e[_0x5075e9(0x17c)]=_0x5075e9(0x169),_0x3f335e[_0x5075e9(0x122)]=_0x5075e9(0x126),_0x3f335e['p5_axisRe']='Re',_0x3f335e[_0x5075e9(0x10c)]='Im',_0x3f335e[_0x5075e9(0x127)]=_0x5075e9(0x1de),_0x3f335e[_0x5075e9(0x167)]='I\x20=\x200\x20A',_0x3f335e[_0x5075e9(0x184)]=_0x5075e9(0x1a0),_0x3f335e[_0x5075e9(0x1b6)]=_0x5075e9(0x15f),_0x3f335e[_0x5075e9(0x11e)]=_0x5075e9(0x1c1),_0x3f335e[_0x5075e9(0x161)]='Δφ\x20≈',_0x3f335e['p5_legendVoltage']=_0x5075e9(0x1b3),_0x3f335e['p5_legendCurrent']=_0x5075e9(0x207),_0x3f335e[_0x5075e9(0x20b)]='Not\x20enough\x20space\x20for\x20graphs';const _0x40a2f0={};_0x40a2f0['uk']=_0x2b8a29,_0x40a2f0['en']=_0x3f335e;const translations=_0x40a2f0;let currentLang='en',voltage=0xe6,resistanceR=0xa,reactanceXl=0x5,reactanceXc=0xf,selectedPhase='A',phaseAngleDeg=0x0,impedanceZ_mag=0x0,impedanceZ_angle_deg=0x0,impedanceZ_real=0x0,impedanceZ_imag=0x0,currentI_mag=0x0,currentI_angle_deg=0x0,currentI_real=0x0,currentI_imag=0x0,calculated=![],calculationErrorKey=null,showPolarMaximized=![],showSineMaximized=![],isHorizontalLayout=!![],isMobile=![],voltageInputElement,phaseSelectElement,phaseAngleLabelElement,phaseAngleDisplay,rInputElement,xlInputElement,xcInputElement,resultsArea,errorMessageElement,needsCalcMessageElement,voltageResultSpan,impedanceRectFormulaSpan,impedanceRectValueSpan,impedancePolarFormulaSpan,impedanceMagValueSpan,impedanceAngleValueSpan,currentPolarFormulaSpan,currentPolarValueSpan,currentRectFormulaSpan,currentRectValueSpan,finalCurrentValueSpan,appContainer,canvasContainer,p5Canvas,graphHintElement,smallPolarGraphClickRect=null,smallSineGraphClickRect=null;const COLOR_BG_P5='#F0F0F0',COLOR_TEXT_P5='#333333',COLOR_SEPARATOR_P5=_0x5075e9(0x158),COLOR_GRAPH_AXES=_0x5075e9(0x1c4),COLOR_VOLTAGE_WAVE=_0x5075e9(0x1fe),COLOR_CURRENT_WAVE=_0x5075e9(0x134),COLOR_VECTOR_CURRENT='#337AFF',COLOR_PROJECTION=_0x5075e9(0x158);function _0x5884(_0x113a0f,_0x19058f){const _0x7a58ab=_0x7a58();return _0x5884=function(_0x588415,_0x107b10){_0x588415=_0x588415-0xf9;let _0x4b6c2e=_0x7a58ab[_0x588415];return _0x4b6c2e;},_0x5884(_0x113a0f,_0x19058f);}let lastInteractionTime=0x0;const INTERACTION_DEBOUNCE_DELAY=0x12c,SINE_GRAPH_VERTICAL_SCALE_SMALL=1.5,SINE_GRAPH_VERTICAL_SCALE_MAXIMIZED=1.8,SINE_GRAPH_XMARGIN_SMALL=0x32,SINE_GRAPH_YMARGIN_SMALL=0x23,SINE_GRAPH_XMARGIN_MAXIMIZED=0x19,SINE_GRAPH_YMARGIN_MAXIMIZED=0x14;function detectLanguage(){const _0x259575=_0x5075e9,_0x25d0da=navigator[_0x259575(0x1bb)]||[navigator[_0x259575(0x17e)]||navigator[_0x259575(0x1d7)]];let _0x3c9f7e='en';console[_0x259575(0x124)](_0x259575(0xfd),_0x25d0da);if(_0x25d0da&&_0x25d0da[_0x259575(0x1f1)]>0x0){const _0x37fd2b=_0x25d0da[0x0][_0x259575(0x1e0)]();console['log'](_0x259575(0x18c),_0x37fd2b),_0x37fd2b['startsWith']('uk')&&(_0x3c9f7e='uk');}else console[_0x259575(0x124)](_0x259575(0x13b));currentLang=_0x3c9f7e,console[_0x259575(0x124)](_0x259575(0x183),currentLang),document[_0x259575(0x16a)][_0x259575(0x173)]=currentLang;}function getText(_0x5519a9){const _0x3251d6=_0x5075e9;let _0x27e4c3=translations[currentLang]?.[_0x5519a9];_0x27e4c3===undefined&&(_0x27e4c3=translations['en']?.[_0x5519a9]);if(_0x27e4c3===undefined)return console[_0x3251d6(0x1cf)](_0x3251d6(0x174)+_0x5519a9),'['+_0x5519a9+']';return _0x27e4c3;}function _0x7a58(){const _0x28595f=['^2}','sine','BOLD','degrees','Current\x20I\x20(A)','p5Instance','beginShape','#555555','toggle','display','Струм','createCanvas','typesetPromise','cos','calculation-steps','Input\x20Error:\x20Invalid\x20value\x20for','unitOhm','phase-angle-display','warn','pageTitle','push','body','none','rLabel','width','Horizontal','userLanguage','MathJax\x20not\x20fully\x20loaded\x20or\x20typesetPromise\x20not\x20available\x20yet.','stroke',')\x20+\x20j\x20\x5csin(','needs-calculation-message','impedance-polar-formula','LEFT','Current','Струм\x20I\x20(А)','toLowerCase','π/2','change','line','Small\x20Polar\x20Graph\x20clicked\x20-\x20maximizing\x20(Mobile/Vertical)...','title','getAttribute','Angle:','setup','graph-hint','CENTER','Z\x20Calculation\x20(Polar\x20Form):','Layout\x20changed\x20to:','text','abs','resizeCanvas','DoubleClick\x20debounced','length','Помилка:\x20Імпеданс\x20Z\x20=\x200','catch','undefined','max','Недостатньо\x20місця\x20для\x20графіків','impedance-polar-calculation','polar','error','strokeWeight','impedance-rect-value','Індуктивний\x20XL:','layout-vertical','#FF5733','setAlpha','style','Phase\x20Current\x20Calculator','State:\x20Maximized\x20graphs\x20closed.','State:\x20showPolarMaximized\x20=\x20true','value','isLooping','toExponential','Current\x20I','Calculation:','fill','sqrt','p5_notEnoughSpace','phaseImpedanceLabel','Resizing\x20p5\x20canvas\x20to\x20','unitDegree','clientHeight','textAlign','Кут:','background','Browser\x20languages\x20reported:','errorInvalidInputPrefix','TWO_PI','height','\x20\x5cangle\x20','input','Синусоїди\x20U\x20та\x20I','data-lang-key','}\x20\x5cright)\x20\x5cangle\x20(','loop','current-rect-calculation','TITLE','^2\x20+\x20','mouseX','}\x20=\x20\x5cleft(\x20\x5cfrac{','p5_axisIm','textSize','current-rect-value','p5.js\x20setup\x20complete.','xc-input','errorInvalidInput','Введіть\x20дані\x20та/або\x20натисніть\x20\x27Розрахувати\x27\x20(зміна\x20даних\x20запускає\x20розрахунок).','drawingContext','voltageLabel','\x5cphi_Z\x20=\x20\x5carctan\x5cleft(\x5cfrac{X}{R}\x5cright)\x20=\x20\x5carctan\x5cleft(\x5cfrac{','Напруга\x20U:','Click\x20on\x20maximized\x20graph\x20-\x20closing...','graphHint','I\x20=\x200\x20А','xlLabel','clientWidth','textStyle','),\x20R=','p5_currentAxisLabel','rect','p5_waitingCalculation','Is\x20mobile:','p5_vectorDiagramTitle','ms)','log','Помилка\x20в\x20розрахунку','Current\x20Vector\x20Diagram','p5_currentLabel','querySelectorAll','angleLabel','Waiting\x20for\x20calculation...','6553881YoFmSg','userAgent','currentRectCalcLabel','Ємнісний\x20XC:','Напруга\x20U','Canvas\x20container\x20has\x20zero\x20dimensions,\x20cannot\x20resize\x20p5\x20canvas.','pow','2FcOBLd','(Click\x20on\x20the\x20graph\x20to\x20maximize)','#337AFF','current-polar-formula','label[for=\x22','ellipse','setLineDash','impedance-mag-value','innerHTML','No\x20languages\x20reported\x20by\x20browser,\x20defaulting\x20to\x20\x27en\x27.','Current\x20I\x20Calculation\x20(Polar\x20Form):','Калькулятор\x20струму\x20в\x20фазі','State:\x20showSineMaximized\x20=\x20true','textFont','Векторна\x20діаграма\x20струму','current-polar-value','Активний\x20R:','min','borderColor','draw','Розрахунок:','toFixed','voltage-result','querySelector','phaseVoltageLabel','pop','602365YhmlTN','sin','translate',',\x20Phase=','BOTTOM','error-message','getElementById','toLocaleString','...','Resistance\x20R:','target','canvas-container','#AAAAAA','map','noStroke','Δφ\x20≈','innerWidth','phaseLabel','8645380dpIjtr','Voltage\x20U\x20(V)','unitVolt','p5_phaseDiffLabel','TOP','vertex','currentPolarCalcLabel','noFill','impedancePolarCalcLabel','p5_currentZero','block','Error:\x20Impedance\x20Z\x20=\x200','documentElement','168284nHjsMr','impedance-angle-value','Interaction\x20debounced\x20(time\x20diff:\x20','millis','xl-input','Phase\x20Impedance:','resultsTitle','color','lang','Missing\x20translation\x20for\x20key:\x20','Double-click\x20on\x20maximized\x20graph\x20-\x20closing...','addEventListener','RIGHT','maximumFractionDigits','552dEwrTo','layout-horizontal','Error:\x20Division\x20by\x20zero\x20(Impedance\x20Z\x20=\x200)','p5_impedanceZeroError','3π/2','language','5oxEwVV','Розрахунок\x20Z\x20(полярна\x20форма):','replace',',\x20XL=','Final\x20language\x20selected:','p5_sineGraphTitle','Імпеданс\x20фази:','Vertical','phase-select','\x20(\x5ccos(','innerText','Фаза:','app-container','Checking\x20first\x20preferred\x20language:','impedance-rect-formula','Напруга\x20фази:','22wptQhX','1703628hspVBb','atan2','unitAmpere','Invalid\x20rect\x20object\x20passed\x20to\x20isClickInsideRect:','p5_fixInputError','radians',',\x20XC=','endShape','p5_legendVoltage','finalCurrentLabel','useGrouping','Inductive\x20XL:','doubleClicked','resize','errorZeroImpedance','3440280cYgldy','Voltage\x20U\x20&\x20Current\x20I\x20Waveforms','Small\x20Sine\x20Graph\x20clicked\x20-\x20maximizing\x20(Mobile/Vertical)...','results-area','graph-panel-container','redraw','mainTitle','pixelDensity','I\x20=\x20|I|\x20(\x5ccos(\x5cphi_I)\x20+\x20j\x20\x5csin(\x5cphi_I))\x20=\x20','rotate','Enter\x20data\x20and/or\x20click\x20\x27Calculate\x27\x20(changing\x20data\x20triggers\x20calculation).','number','HALF_PI','Розрахунок\x20струму\x20I\x20(полярна\x20форма):','p5_axisRe','Виправте\x20помилку\x20вводу\x20даних.','r-input','p5_legendCurrent','voltage-input','<h1\x20style=\x22color:red;\x22>Fatal\x20Error:\x20HTML\x20structure\x20mismatch.\x20Check\x20element\x20IDs.</h1>','Voltage\x20U','102781OQRAiY','$Z\x20=\x20R\x20+\x20j(X_L\x20-\x20X_C)$','p5_voltageAxisLabel','mouseY','Initializing\x20Calculator\x20with\x20Localization...','p5_errorCalculating','classList','languages','Capacitive\x20XC:'];_0x7a58=function(){return _0x28595f;};return _0x7a58();}function applyStaticTranslations(){const _0x5008fd=_0x5075e9;document[_0x5008fd(0x128)]('[data-lang-key]')['forEach'](_0x4a57ac=>{const _0x1c7088=_0x5008fd,_0x2025b2=_0x4a57ac[_0x1c7088(0x1e6)](_0x1c7088(0x104));_0x2025b2&&(_0x4a57ac['tagName']===_0x1c7088(0x108)?document[_0x1c7088(0x1e5)]=getText(_0x2025b2):_0x4a57ac[_0x1c7088(0x189)]=getText(_0x2025b2));}),document[_0x5008fd(0x1e5)]=getText(_0x5008fd(0x1d0));}document[_0x5075e9(0x176)]('DOMContentLoaded',initialize);function initialize(){const _0x442ce8=_0x5075e9;console[_0x442ce8(0x124)](_0x442ce8(0x1b8)),detectLanguage(),isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i['test'](navigator[_0x442ce8(0x12c)]),console[_0x442ce8(0x124)](_0x442ce8(0x121),isMobile),appContainer=document['getElementById'](_0x442ce8(0x18b)),canvasContainer=document[_0x442ce8(0x152)](_0x442ce8(0x157)),graphHintElement=document[_0x442ce8(0x152)](_0x442ce8(0x1e9)),voltageInputElement=document[_0x442ce8(0x152)](_0x442ce8(0x1b1)),phaseSelectElement=document[_0x442ce8(0x152)](_0x442ce8(0x187)),phaseAngleLabelElement=document[_0x442ce8(0x152)]('phase-angle-label'),phaseAngleDisplay=document[_0x442ce8(0x152)](_0x442ce8(0x1ce)),rInputElement=document[_0x442ce8(0x152)](_0x442ce8(0x1af)),xlInputElement=document[_0x442ce8(0x152)](_0x442ce8(0x16f)),xcInputElement=document['getElementById'](_0x442ce8(0x110)),resultsArea=document['getElementById'](_0x442ce8(0x1a2)),errorMessageElement=document['getElementById'](_0x442ce8(0x151)),needsCalcMessageElement=document[_0x442ce8(0x152)](_0x442ce8(0x1db)),voltageResultSpan=document['getElementById'](_0x442ce8(0x148)),impedanceRectFormulaSpan=document['getElementById'](_0x442ce8(0x18d)),impedanceRectValueSpan=document[_0x442ce8(0x152)](_0x442ce8(0x1fb)),impedancePolarFormulaSpan=document[_0x442ce8(0x152)](_0x442ce8(0x1dc)),impedanceMagValueSpan=document[_0x442ce8(0x152)](_0x442ce8(0x139)),impedanceAngleValueSpan=document[_0x442ce8(0x152)](_0x442ce8(0x16c)),currentPolarFormulaSpan=document[_0x442ce8(0x152)](_0x442ce8(0x135)),currentPolarValueSpan=document[_0x442ce8(0x152)](_0x442ce8(0x141)),currentRectFormulaSpan=document[_0x442ce8(0x152)]('current-rect-formula'),currentRectValueSpan=document['getElementById'](_0x442ce8(0x10e)),finalCurrentValueSpan=document[_0x442ce8(0x152)]('final-current-value');if(!appContainer||!canvasContainer){console['error']('Fatal\x20Error:\x20Could\x20not\x20find\x20all\x20required\x20HTML\x20elements!'),document[_0x442ce8(0x1d2)][_0x442ce8(0x13a)]=_0x442ce8(0x1b2);return;}applyStaticTranslations(),voltageInputElement[_0x442ce8(0x204)]=voltage,phaseSelectElement['value']=selectedPhase,rInputElement[_0x442ce8(0x204)]=resistanceR,xlInputElement['value']=reactanceXl,xcInputElement[_0x442ce8(0x204)]=reactanceXc,voltageInputElement['addEventListener'](_0x442ce8(0x102),handleInput),phaseSelectElement[_0x442ce8(0x176)](_0x442ce8(0x1e2),handlePhaseChange),rInputElement[_0x442ce8(0x176)](_0x442ce8(0x102),handleInput),xlInputElement[_0x442ce8(0x176)]('input',handleInput),xcInputElement[_0x442ce8(0x176)](_0x442ce8(0x102),handleInput),window[_0x442ce8(0x176)](_0x442ce8(0x19d),handleResize),new p5(sketch,canvasContainer),updateLayout(),updatePhaseAngle(),performCalculation();}function handleInput(_0x1cff0e){const _0x10e2df=_0x5075e9,_0x372318=_0x1cff0e[_0x10e2df(0x156)];let _0x23b71c=_0x372318[_0x10e2df(0x204)],_0x34dd7e=parseFloat(_0x23b71c),_0xba5057=_0x372318['id'],_0x4329b=!![],_0x41ccd3='';const _0x4b110e=document[_0x10e2df(0x149)](_0x10e2df(0x136)+_0xba5057+'\x22]');if(_0x4b110e){const _0x41c904=_0x4b110e['getAttribute']('data-lang-key');_0x41ccd3=_0x41c904?getText(_0x41c904):_0x4b110e[_0x10e2df(0x189)]||_0xba5057;}else _0x41ccd3=_0xba5057;_0x41ccd3=_0x41ccd3[_0x10e2df(0x181)](/:$/,''),_0x372318[_0x10e2df(0x200)][_0x10e2df(0x144)]='';calculationErrorKey===_0x10e2df(0x111)&&(calculationErrorKey=null);if(_0x23b71c==='')_0x34dd7e=0x0;else isNaN(_0x34dd7e)||_0x34dd7e<0x0?(calculationErrorKey=_0x10e2df(0x111),calculationErrorContext=_0x41ccd3,_0x372318[_0x10e2df(0x200)][_0x10e2df(0x144)]='red',_0x4329b=![],calculated=![]):calculationErrorContext=null;if(_0x4329b){switch(_0xba5057){case _0x10e2df(0x1b1):voltage=_0x34dd7e;break;case _0x10e2df(0x1af):resistanceR=_0x34dd7e;break;case _0x10e2df(0x16f):reactanceXl=_0x34dd7e;break;case _0x10e2df(0x110):reactanceXc=_0x34dd7e;break;}performCalculation();}else updateResultsHTML();}function handlePhaseChange(_0x50958b){const _0x43df98=_0x5075e9;selectedPhase=_0x50958b[_0x43df98(0x156)][_0x43df98(0x204)];const _0xe70a4f=_0x50958b[_0x43df98(0x156)];_0xe70a4f[_0x43df98(0x200)][_0x43df98(0x144)]='',updatePhaseAngle(),calculationErrorKey===_0x43df98(0x111)&&(calculationErrorKey=null,calculationErrorContext=null),performCalculation();}function updatePhaseAngle(){const _0x581a65=_0x5075e9;switch(selectedPhase){case'A':phaseAngleDeg=0x0;break;case'B':phaseAngleDeg=-0x78;break;case'C':phaseAngleDeg=0x78;break;default:phaseAngleDeg=0x0;}if(phaseAngleLabelElement){}phaseAngleDisplay&&(phaseAngleDisplay[_0x581a65(0x189)]=''+formatNumber(phaseAngleDeg,0x0)+getText(_0x581a65(0x20e)));}let calculationErrorContext=null;function performCalculation(){const _0x401f1c=_0x5075e9;console[_0x401f1c(0x124)]('Performing\x20calculation\x20with:\x20U='+voltage+_0x401f1c(0x14f)+selectedPhase+'('+phaseAngleDeg+_0x401f1c(0x11d)+resistanceR+_0x401f1c(0x182)+reactanceXl+_0x401f1c(0x196)+reactanceXc);if(calculationErrorKey===_0x401f1c(0x111)){calculated=![],updateResultsHTML();return;}impedanceZ_real=resistanceR,impedanceZ_imag=reactanceXl-reactanceXc,impedanceZ_mag=Math[_0x401f1c(0x20a)](Math[_0x401f1c(0x131)](impedanceZ_real,0x2)+Math[_0x401f1c(0x131)](impedanceZ_imag,0x2)),impedanceZ_angle_deg=0xb4/Math['PI']*Math[_0x401f1c(0x191)](impedanceZ_imag,impedanceZ_real),calculationErrorKey=null,calculationErrorContext=null;if(impedanceZ_mag<1e-9){calculationErrorKey=_0x401f1c(0x19e),currentI_mag=0x0,currentI_angle_deg=0x0,currentI_real=0x0,currentI_imag=0x0,calculated=!![],updateResultsHTML();return;}currentI_mag=voltage/ impedanceZ_mag,currentI_angle_deg=phaseAngleDeg-impedanceZ_angle_deg;while(currentI_angle_deg>0xb4)currentI_angle_deg-=0x168;while(currentI_angle_deg<=-0xb4)currentI_angle_deg+=0x168;let _0x3f9d34=Math['PI']/0xb4*currentI_angle_deg;currentI_real=currentI_mag*Math['cos'](_0x3f9d34),currentI_imag=currentI_mag*Math['sin'](_0x3f9d34);if(Math[_0x401f1c(0x1ee)](impedanceZ_imag)<1e-9)impedanceZ_imag=0x0;if(Math[_0x401f1c(0x1ee)](currentI_imag)<1e-9)currentI_imag=0x0;if(impedanceZ_imag===0x0&&impedanceZ_real>=0x0)impedanceZ_angle_deg=0x0;calculated=!![],updateResultsHTML();}function updateResultsHTML(){const _0x416a39=_0x5075e9,_0x881b1a=document['getElementById'](_0x416a39(0x1cb)),_0x3ea3b7=document[_0x416a39(0x152)](_0x416a39(0x1f7)),_0x40caf4=document[_0x416a39(0x152)](_0x416a39(0x107)),_0x1c88d0=getText('unitVolt'),_0xc2e35b=getText('unitOhm'),_0x203c99=getText('unitAmpere'),_0xaf503d=getText(_0x416a39(0x20e));if(calculationErrorKey){let _0x3a00d1=getText(calculationErrorKey);calculationErrorKey===_0x416a39(0x111)&&calculationErrorContext&&(_0x3a00d1+='\x20\x22'+calculationErrorContext+'\x22');errorMessageElement[_0x416a39(0x189)]=_0x3a00d1,errorMessageElement[_0x416a39(0x200)][_0x416a39(0x1c6)]=_0x416a39(0x168),_0x881b1a[_0x416a39(0x200)][_0x416a39(0x1c6)]=_0x416a39(0x1d3),needsCalcMessageElement[_0x416a39(0x200)][_0x416a39(0x1c6)]=_0x416a39(0x1d3);if(_0x3ea3b7)_0x3ea3b7[_0x416a39(0x200)][_0x416a39(0x1c6)]='none';if(_0x40caf4)_0x40caf4[_0x416a39(0x200)]['display']='none';}else{if(calculated){errorMessageElement['style']['display']=_0x416a39(0x1d3),_0x881b1a[_0x416a39(0x200)]['display']=_0x416a39(0x168),needsCalcMessageElement[_0x416a39(0x200)]['display']=_0x416a39(0x1d3);const _0x3da371=formatNumber(voltage),_0x2c1ae4=formatNumber(phaseAngleDeg),_0x40fc66=_0x3da371+_0x416a39(0x101)+_0x2c1ae4+_0xaf503d,_0x3e581f=formatNumber(impedanceZ_real),_0x30a7a7=formatNumber(impedanceZ_imag),_0x430ba9=formatComplexLatex(impedanceZ_real,impedanceZ_imag),_0x4a2247=formatNumber(impedanceZ_mag),_0x1f2684=formatNumber(impedanceZ_angle_deg),_0x35e7a6=_0x4a2247+'\x20\x5cangle\x20'+_0x1f2684+_0xaf503d,_0x2b09bb=formatNumber(currentI_mag),_0xb0cf0b=formatNumber(currentI_angle_deg),_0x2b132d=_0x2b09bb+_0x416a39(0x101)+_0xb0cf0b+_0xaf503d,_0xb6383b=formatComplexLatex(currentI_real,currentI_imag);voltageResultSpan[_0x416a39(0x189)]='$'+_0x40fc66+'$',impedanceRectFormulaSpan[_0x416a39(0x189)]=_0x416a39(0x1b5),impedanceRectValueSpan[_0x416a39(0x189)]='$'+_0x430ba9+'$',impedanceMagValueSpan[_0x416a39(0x189)]=_0x4a2247,impedanceAngleValueSpan[_0x416a39(0x189)]=_0x1f2684;const _0x2dcafc=Math['abs'](impedanceZ_imag)<1e-9;if(_0x2dcafc){if(_0x3ea3b7)_0x3ea3b7[_0x416a39(0x200)][_0x416a39(0x1c6)]=_0x416a39(0x1d3);}else{if(_0x3ea3b7){const _0x63473f='|Z|\x20=\x20\x5csqrt{R^2\x20+\x20X^2}\x20=\x20\x5csqrt{'+_0x3e581f+_0x416a39(0x109)+_0x30a7a7+_0x416a39(0x1bd),_0xeea837=_0x416a39(0x115)+_0x30a7a7+'}{'+_0x3e581f+'}\x5cright)',_0x1cc5f=_0x3ea3b7['querySelector']('#impedance-polar-formula');_0x1cc5f&&(_0x1cc5f['innerHTML']='$$'+_0x63473f+'$$\x20$$'+_0xeea837+'$$'),_0x3ea3b7['style'][_0x416a39(0x1c6)]=_0x416a39(0x168);}}let _0x33d220;if(_0x2dcafc)_0x33d220='0'+_0xaf503d;else impedanceZ_angle_deg<-1e-9?_0x33d220='('+_0x1f2684+_0xaf503d+')':_0x33d220=''+_0x1f2684+_0xaf503d;const _0x2da515='I\x20=\x20\x5cfrac{U}{Z}\x20=\x20\x5cfrac{'+_0x40fc66+'}{'+_0x35e7a6+_0x416a39(0x10b)+_0x3da371+'}{'+_0x4a2247+_0x416a39(0x105)+_0x2c1ae4+_0xaf503d+'\x20-\x20'+_0x33d220+')';currentPolarFormulaSpan['innerHTML']='$$'+_0x2da515+'$$',currentPolarValueSpan['innerText']='$'+_0x2b132d+'$';if(_0x2dcafc){if(_0x40caf4)_0x40caf4[_0x416a39(0x200)][_0x416a39(0x1c6)]=_0x416a39(0x1d3);}else{if(_0x40caf4){const _0x44efcd=_0x416a39(0x1a7)+_0x2b09bb+_0x416a39(0x188)+_0xb0cf0b+_0xaf503d+_0x416a39(0x1da)+_0xb0cf0b+_0xaf503d+'))',_0x472ea5=_0x40caf4[_0x416a39(0x149)]('#current-rect-formula'),_0x517ca6=_0x40caf4[_0x416a39(0x149)]('#current-rect-value');if(_0x472ea5)_0x472ea5['innerHTML']='$$'+_0x44efcd+'$$';if(_0x517ca6)_0x517ca6['innerText']='$'+_0xb6383b+'$';_0x40caf4['style'][_0x416a39(0x1c6)]='block';}}finalCurrentValueSpan[_0x416a39(0x189)]='$'+_0x2b132d+'$',typeof MathJax!=='undefined'&&MathJax[_0x416a39(0x1c9)]?MathJax['typesetPromise']([resultsArea])[_0x416a39(0x1f3)](function(_0x2d968a){const _0x1600af=_0x416a39;console[_0x1600af(0x1f9)]('MathJax\x20Typesetting\x20Error:',_0x2d968a);}):console[_0x416a39(0x1cf)](_0x416a39(0x1d8));}else{errorMessageElement[_0x416a39(0x200)][_0x416a39(0x1c6)]=_0x416a39(0x1d3),_0x881b1a[_0x416a39(0x200)][_0x416a39(0x1c6)]='none',needsCalcMessageElement[_0x416a39(0x200)][_0x416a39(0x1c6)]='block';if(_0x3ea3b7)_0x3ea3b7[_0x416a39(0x200)]['display']=_0x416a39(0x1d3);if(_0x40caf4)_0x40caf4[_0x416a39(0x200)]['display']=_0x416a39(0x1d3);}}}function updateLayout(){const _0xce69cc=_0x5075e9,_0x1e1d5d=window[_0xce69cc(0x15c)],_0x3a8150=0x301,_0x454b87=_0x1e1d5d>=_0x3a8150;if(_0x454b87!==isHorizontalLayout){isHorizontalLayout=_0x454b87,console[_0xce69cc(0x124)](_0xce69cc(0x1ec),isHorizontalLayout?_0xce69cc(0x1d6):_0xce69cc(0x186));if(appContainer){appContainer[_0xce69cc(0x1ba)][_0xce69cc(0x1c5)](_0xce69cc(0x17a),isHorizontalLayout),appContainer[_0xce69cc(0x1ba)][_0xce69cc(0x1c5)]('layout-vertical',!isHorizontalLayout);const _0x21b3c2=document[_0xce69cc(0x152)]('info-panel'),_0x5cd0e2=document[_0xce69cc(0x152)](_0xce69cc(0x1a3));_0x21b3c2&&(_0x21b3c2[_0xce69cc(0x1ba)]['toggle'](_0xce69cc(0x17a),isHorizontalLayout),_0x21b3c2['classList'][_0xce69cc(0x1c5)](_0xce69cc(0x1fd),!isHorizontalLayout)),_0x5cd0e2&&(_0x5cd0e2[_0xce69cc(0x1ba)]['toggle'](_0xce69cc(0x17a),isHorizontalLayout),_0x5cd0e2['classList']['toggle'](_0xce69cc(0x1fd),!isHorizontalLayout));}updateGraphHint(),(showPolarMaximized||showSineMaximized)&&handleCloseMaximizedGraph();}updateGraphHint();}function handleResize(){const _0x229ef8=_0x5075e9;updateLayout();if(p5Canvas&&typeof window['p5Instance']!==_0x229ef8(0x1f4)&&window[_0x229ef8(0x1c2)]['resizeCanvas']&&canvasContainer){const _0x4a9cf7=canvasContainer[_0x229ef8(0x11b)]-0x2,_0x5bc665=canvasContainer[_0x229ef8(0xf9)]-0x2;_0x4a9cf7>0x0&&_0x5bc665>0x0?(p5Canvas[_0x229ef8(0x1d5)]!==_0x4a9cf7||p5Canvas['height']!==_0x5bc665)&&(console[_0x229ef8(0x124)](_0x229ef8(0x20d)+_0x4a9cf7+'x'+_0x5bc665),window[_0x229ef8(0x1c2)][_0x229ef8(0x1ef)](_0x4a9cf7,_0x5bc665),window[_0x229ef8(0x1c2)][_0x229ef8(0x205)]()?window['p5Instance'][_0x229ef8(0x1a4)]():window[_0x229ef8(0x1c2)][_0x229ef8(0x1a4)]()):console[_0x229ef8(0x1cf)](_0x229ef8(0x130));}}function formatNumber(_0x55b273,_0x41bed2=0x2){const _0xe48823=_0x5075e9;if(!isFinite(_0x55b273))return _0x55b273['toString']();if(Math[_0xe48823(0x1ee)](_0x55b273)<0.000001&&Math[_0xe48823(0x1ee)](_0x55b273)>0x0)return _0x55b273[_0xe48823(0x206)](_0x41bed2);if(Math['abs'](_0x55b273)>0x3b9aca00)return _0x55b273['toExponential'](_0x41bed2);const _0x109ab9={};_0x109ab9['minimumFractionDigits']=0x0,_0x109ab9[_0xe48823(0x178)]=_0x41bed2,_0x109ab9[_0xe48823(0x19a)]=![];let _0x244350=_0x109ab9,_0x462ae9=parseFloat(_0x55b273[_0xe48823(0x147)](_0x41bed2));if(Object['is'](_0x462ae9,-0x0))_0x462ae9=0x0;return _0x462ae9[_0xe48823(0x153)]('en',_0x244350);}function formatComplexLatex(_0x2f659c,_0x552398,_0x2a8f33=0x2){const _0xef8605=_0x5075e9;let _0x36aa8d=formatNumber(_0x2f659c,_0x2a8f33),_0x13fc30=formatNumber(Math[_0xef8605(0x1ee)](_0x552398),_0x2a8f33);if(Math['abs'](_0x552398)<1e-9)return _0x36aa8d;else{const _0x11b267=_0x552398<0x0?'-':'+';return _0x36aa8d+'\x20'+_0x11b267+'\x20j'+_0x13fc30;}}function updateGraphHint(){const _0x229feb=_0x5075e9;graphHintElement&&(isMobile&&!isHorizontalLayout?graphHintElement[_0x229feb(0x200)][_0x229feb(0x1c6)]=_0x229feb(0x168):graphHintElement[_0x229feb(0x200)]['display']=_0x229feb(0x1d3));}const sketch=_0x59afd9=>{const _0x202449=_0x5075e9;window[_0x202449(0x1c2)]=_0x59afd9,_0x59afd9[_0x202449(0x1e8)]=()=>{const _0x4e328f=_0x202449;p5Canvas=_0x59afd9[_0x4e328f(0x1c8)](0x64,0x64),p5Canvas['parent']('canvas-container'),_0x59afd9[_0x4e328f(0x13f)]('Arial'),_0x59afd9[_0x4e328f(0x1a6)](_0x59afd9['displayDensity']()),handleResize(),console[_0x4e328f(0x124)](_0x4e328f(0x10f));},_0x59afd9[_0x202449(0x145)]=()=>{const _0x21b0d5=_0x202449;_0x59afd9[_0x21b0d5(0xfc)](COLOR_BG_P5);if(!calculated||calculationErrorKey){_0x59afd9['push'](),_0x59afd9[_0x21b0d5(0x209)](COLOR_TEXT_P5),_0x59afd9[_0x21b0d5(0xfa)](_0x59afd9[_0x21b0d5(0x1ea)],_0x59afd9[_0x21b0d5(0x1ea)]),_0x59afd9['textSize'](0xe);let _0x440886=_0x21b0d5(0x120);if(calculationErrorKey)switch(calculationErrorKey){case _0x21b0d5(0x111):_0x440886=_0x21b0d5(0x194);break;case _0x21b0d5(0x19e):_0x440886=_0x21b0d5(0x17c);break;default:_0x440886=_0x21b0d5(0x1b9);}else!calculated&&(_0x440886=_0x21b0d5(0x120));_0x59afd9[_0x21b0d5(0x1ed)](getText(_0x440886),_0x59afd9['width']/0x2,_0x59afd9['height']/0x2),_0x59afd9[_0x21b0d5(0x14b)](),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;return;}if(showPolarMaximized)drawPolarGraph(_0x59afd9,_0x59afd9[_0x21b0d5(0x1d5)],_0x59afd9[_0x21b0d5(0x100)],!![]),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;else{if(showSineMaximized)drawSineGraph(_0x59afd9,_0x59afd9[_0x21b0d5(0x1d5)],_0x59afd9['height'],!![]),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;else{let _0x19ca21=_0x59afd9[_0x21b0d5(0x1d5)],_0x2455c7=_0x59afd9[_0x21b0d5(0x100)],_0x5a75a1=0x3c;if(_0x19ca21>_0x5a75a1&&_0x2455c7>_0x5a75a1){drawGraphsArea(_0x59afd9,_0x19ca21,_0x2455c7,![],!isHorizontalLayout);let _0x586ae2=0x8,_0x325ce3=_0x19ca21-0x2*_0x586ae2,_0xddf67e=_0x2455c7-0x2*_0x586ae2,_0x2f0562=0x1e,_0x2cc0ee=0x14,_0x56c133=_0xddf67e-_0x2f0562*0x2-_0x2cc0ee;if(_0x56c133>0x14){let _0x1c7033,_0x1d2d19;const _0x1ec71b=Math[_0x21b0d5(0x1f5)](0.1,SINE_GRAPH_VERTICAL_SCALE_SMALL),_0x1d36bf=0x1+_0x1ec71b;!isHorizontalLayout?(_0x1c7033=_0x56c133/_0x1d36bf,_0x1d2d19=_0x56c133*_0x1ec71b/_0x1d36bf):(_0x1c7033=_0x56c133/0x2,_0x1d2d19=_0x56c133/0x2);const _0x203f4a={};_0x203f4a['x']=_0x586ae2,_0x203f4a['y']=_0x586ae2+_0x2f0562,_0x203f4a['w']=_0x325ce3,_0x203f4a['h']=_0x1c7033,smallPolarGraphClickRect=_0x203f4a;const _0x502007={};_0x502007['x']=_0x586ae2,_0x502007['y']=_0x586ae2+_0x2f0562+_0x1c7033+_0x2cc0ee+_0x2f0562,_0x502007['w']=_0x325ce3,_0x502007['h']=_0x1d2d19,smallSineGraphClickRect=_0x502007;}else smallPolarGraphClickRect=null,smallSineGraphClickRect=null;}else smallPolarGraphClickRect=null,smallSineGraphClickRect=null;}}},_0x59afd9['mousePressed']=()=>{handleP5MousePress(_0x59afd9);},_0x59afd9[_0x202449(0x19c)]=()=>{handleP5DoubleClick(_0x59afd9);};};function handleP5MousePress(_0x444cbd){const _0x27c153=_0x5075e9;let _0xf92d96=_0x444cbd[_0x27c153(0x16e)]();if(_0xf92d96-lastInteractionTime<INTERACTION_DEBOUNCE_DELAY){console[_0x27c153(0x124)](_0x27c153(0x16d)+(_0xf92d96-lastInteractionTime)+_0x27c153(0x123));return;}let _0x1c14a7=_0x444cbd[_0x27c153(0x10a)],_0x23cb7e=_0x444cbd[_0x27c153(0x1b7)];if(showPolarMaximized||showSineMaximized){console[_0x27c153(0x124)](_0x27c153(0x117)),handleCloseMaximizedGraph(),lastInteractionTime=_0xf92d96;return;}const _0x4359b3=isMobile&&!isHorizontalLayout;if(!_0x4359b3)return;if(calculated&&!calculationErrorKey){let _0x4b4916=![];if(smallPolarGraphClickRect&&isClickInsideRect(_0x1c14a7,_0x23cb7e,smallPolarGraphClickRect))console['log'](_0x27c153(0x1e4)),handleOpenMaximizedGraph(_0x27c153(0x1f8)),_0x4b4916=!![];else smallSineGraphClickRect&&isClickInsideRect(_0x1c14a7,_0x23cb7e,smallSineGraphClickRect)&&(console[_0x27c153(0x124)](_0x27c153(0x1a1)),handleOpenMaximizedGraph(_0x27c153(0x1be)),_0x4b4916=!![]);_0x4b4916&&(lastInteractionTime=_0xf92d96);}}function handleP5DoubleClick(_0x5197e3){const _0x35b4d5=_0x5075e9;let _0x184da2=_0x5197e3['millis']();if(_0x184da2-lastInteractionTime<INTERACTION_DEBOUNCE_DELAY){console[_0x35b4d5(0x124)](_0x35b4d5(0x1f0));return;}(showPolarMaximized||showSineMaximized)&&(console[_0x35b4d5(0x124)](_0x35b4d5(0x175)),handleCloseMaximizedGraph(),lastInteractionTime=_0x184da2);}function handleOpenMaximizedGraph(_0x47ae9d){const _0x49b551=_0x5075e9;if(_0x47ae9d===_0x49b551(0x1f8)&&showPolarMaximized||_0x47ae9d===_0x49b551(0x1be)&&showSineMaximized)return;if(_0x47ae9d===_0x49b551(0x1f8))showPolarMaximized=!![],showSineMaximized=![],console[_0x49b551(0x124)](_0x49b551(0x203));else{if(_0x47ae9d===_0x49b551(0x1be))showSineMaximized=!![],showPolarMaximized=![],console[_0x49b551(0x124)](_0x49b551(0x13e));else return;}updateGraphHint(),typeof window[_0x49b551(0x1c2)]!==_0x49b551(0x1f4)&&(window[_0x49b551(0x1c2)][_0x49b551(0x106)](),window[_0x49b551(0x1c2)][_0x49b551(0x1a4)]());}function handleCloseMaximizedGraph(){const _0x59c679=_0x5075e9;if(!showPolarMaximized&&!showSineMaximized)return;showPolarMaximized=![],showSineMaximized=![],console[_0x59c679(0x124)](_0x59c679(0x202)),updateGraphHint(),typeof window[_0x59c679(0x1c2)]!==_0x59c679(0x1f4)&&window[_0x59c679(0x1c2)]['redraw']();}function isClickInsideRect(_0x451314,_0x3dabb1,_0x4a1a7a){const _0x80d0aa=_0x5075e9;if(!_0x4a1a7a)return![];if(typeof _0x4a1a7a['x']!==_0x80d0aa(0x1aa)||typeof _0x4a1a7a['y']!==_0x80d0aa(0x1aa)||typeof _0x4a1a7a['w']!==_0x80d0aa(0x1aa)||typeof _0x4a1a7a['h']!==_0x80d0aa(0x1aa))return console['warn'](_0x80d0aa(0x193),_0x4a1a7a),![];return _0x451314>=_0x4a1a7a['x']&&_0x451314<=_0x4a1a7a['x']+_0x4a1a7a['w']&&_0x3dabb1>=_0x4a1a7a['y']&&_0x3dabb1<=_0x4a1a7a['y']+_0x4a1a7a['h'];}function drawGraphsArea(_0x36653a,_0x2f4d7c,_0x590cac,_0x41d166,_0x448036=![]){const _0x15bbff=_0x5075e9;_0x36653a['push']();let _0x49e648=_0x41d166?0x28:0x8,_0x2888f8=_0x2f4d7c-0x2*_0x49e648,_0x1a301e=_0x590cac-0x2*_0x49e648,_0x36fca1=0x1e,_0xf82c98=0x14,_0xf14e4f=_0x36fca1*0x2+_0xf82c98+0x28;if(_0x2888f8<=0x0||_0x1a301e<_0xf14e4f){_0x36653a[_0x15bbff(0x1d1)](),_0x36653a['fill'](COLOR_TEXT_P5),_0x36653a[_0x15bbff(0xfa)](_0x36653a[_0x15bbff(0x1ea)],_0x36653a[_0x15bbff(0x1ea)]),_0x36653a[_0x15bbff(0x10d)](0xe),_0x36653a['text'](getText(_0x15bbff(0x20b)),_0x2f4d7c/0x2,_0x590cac/0x2),_0x36653a[_0x15bbff(0x14b)](),_0x36653a[_0x15bbff(0x14b)]();return;}let _0x9f79a3=_0x1a301e-_0x36fca1*0x2-_0xf82c98,_0x1fc155,_0x5e5eaa;const _0x4a72d5=Math['max'](0.1,SINE_GRAPH_VERTICAL_SCALE_SMALL),_0x2c66ad=0x1+_0x4a72d5;_0x448036&&!_0x41d166?(_0x1fc155=_0x9f79a3/_0x2c66ad,_0x5e5eaa=_0x9f79a3*_0x4a72d5/_0x2c66ad):(_0x1fc155=_0x9f79a3/0x2,_0x5e5eaa=_0x9f79a3/0x2),_0x36653a[_0x15bbff(0x14e)](_0x49e648,_0x49e648),_0x36653a[_0x15bbff(0x1d1)](),_0x36653a[_0x15bbff(0x209)](COLOR_TEXT_P5),_0x36653a[_0x15bbff(0x10d)](_0x41d166?0x12:0xe),_0x36653a[_0x15bbff(0xfa)](_0x36653a[_0x15bbff(0x1ea)],_0x36653a['TOP']),_0x36653a[_0x15bbff(0x1ed)](getText(_0x15bbff(0x122)),_0x2888f8/0x2,0x0),_0x36653a[_0x15bbff(0x14e)](0x0,_0x36fca1),_0x1fc155>0x14?drawPolarGraph(_0x36653a,_0x2888f8,_0x1fc155,_0x41d166):_0x36653a[_0x15bbff(0x1ed)](_0x15bbff(0x154),_0x2888f8/0x2,_0x1fc155/0x2),_0x36653a[_0x15bbff(0x14b)](),_0x36653a[_0x15bbff(0x1d1)](),_0x36653a[_0x15bbff(0x14e)](0x0,_0x36fca1+_0x1fc155+_0xf82c98),_0x36653a['fill'](COLOR_TEXT_P5),_0x36653a[_0x15bbff(0x10d)](_0x41d166?0x12:0xe),_0x36653a[_0x15bbff(0xfa)](_0x36653a['CENTER'],_0x36653a[_0x15bbff(0x162)]),_0x36653a[_0x15bbff(0x1ed)](getText(_0x15bbff(0x184)),_0x2888f8/0x2,0x0),_0x36653a['translate'](0x0,_0x36fca1),_0x5e5eaa>0x14?drawSineGraph(_0x36653a,_0x2888f8,_0x5e5eaa,_0x41d166):_0x36653a[_0x15bbff(0x1ed)]('...',_0x2888f8/0x2,_0x5e5eaa/0x2),_0x36653a['pop'](),_0x36653a['pop']();}function drawPolarGraph(_0x382484,_0x4c7a27,_0x32edfe,_0x40dc5c){const _0x391b79=_0x5075e9;_0x382484['push'](),_0x382484['translate'](_0x4c7a27/0x2,_0x32edfe/0x2);let _0x420c74=_0x382484[_0x391b79(0x143)](_0x4c7a27,_0x32edfe)/0x2*(_0x40dc5c?0.9:0.85),_0x1be8fb=currentI_mag,_0x3532d0=_0x382484[_0x391b79(0x195)](currentI_angle_deg),_0x41e305=0x1;if(_0x1be8fb>1e-9&&_0x420c74>0xa){let _0x9a87de=_0x420c74*0.75;_0x41e305=_0x9a87de/_0x1be8fb;let _0x524a20=0.01;_0x1be8fb<_0x524a20&&(_0x41e305=_0x9a87de/_0x524a20),_0x41e305=_0x382484[_0x391b79(0x1f5)](0.01,_0x41e305);}else{if(_0x420c74<=0xa){_0x382484[_0x391b79(0x14b)]();return;}else _0x1be8fb=0x0;}_0x382484['noStroke'](),_0x382484[_0x391b79(0x209)](0xff,0xff,0xff,0x96),_0x382484[_0x391b79(0x137)](0x0,0x0,_0x420c74*2.1,_0x420c74*2.1),_0x382484[_0x391b79(0x165)]();let _0x187bfa=_0x382484[_0x391b79(0x172)](COLOR_GRAPH_AXES);_0x187bfa[_0x391b79(0x1ff)](0x3c),_0x382484[_0x391b79(0x1d9)](_0x187bfa),_0x382484[_0x391b79(0x1fa)](0.5);let _0x2b9a62=0x5;for(let _0x463613=0x1;_0x463613<=_0x2b9a62;_0x463613++){let _0x4e4f40=_0x420c74*(_0x463613/_0x2b9a62);_0x382484[_0x391b79(0x137)](0x0,0x0,_0x4e4f40*0x2,_0x4e4f40*0x2);}for(let _0x5b46ae=0x0;_0x5b46ae<0x168;_0x5b46ae+=0x1e){let _0x527b09=_0x382484[_0x391b79(0x195)](_0x5b46ae);_0x382484['stroke'](_0x187bfa),_0x382484[_0x391b79(0x1fa)](0.5),_0x382484['line'](0x0,0x0,_0x382484[_0x391b79(0x1ca)](_0x527b09)*_0x420c74,_0x382484[_0x391b79(0x14d)](_0x527b09)*_0x420c74);if(_0x420c74>0x1e&&_0x5b46ae%0x5a!==0x0){_0x382484[_0x391b79(0x1d1)](),_0x382484[_0x391b79(0x15a)](),_0x382484[_0x391b79(0x209)](COLOR_GRAPH_AXES),_0x382484[_0x391b79(0xfa)](_0x382484[_0x391b79(0x1ea)],_0x382484[_0x391b79(0x1ea)]),_0x382484[_0x391b79(0x10d)](_0x382484['max'](0x9,_0x420c74*0.1));let _0x2a9c4=_0x420c74+_0x382484[_0x391b79(0x1f5)](0xa,_0x420c74*0.15);_0x382484[_0x391b79(0x1ed)](_0x5b46ae+getText(_0x391b79(0x20e)),_0x382484['cos'](_0x527b09)*_0x2a9c4,_0x382484[_0x391b79(0x14d)](_0x527b09)*_0x2a9c4),_0x382484[_0x391b79(0x14b)]();}}_0x382484[_0x391b79(0x1d9)](COLOR_GRAPH_AXES),_0x382484[_0x391b79(0x1fa)](1.5);let _0x114f49=_0x420c74*1.1;_0x382484[_0x391b79(0x1e3)](-_0x114f49,0x0,_0x114f49,0x0),_0x382484[_0x391b79(0x1e3)](0x0,-_0x114f49,0x0,_0x114f49);_0x420c74>0x14&&(_0x382484['fill'](COLOR_GRAPH_AXES),_0x382484[_0x391b79(0x15a)](),_0x382484[_0x391b79(0x10d)](_0x382484[_0x391b79(0x1f5)](0xa,_0x420c74*0.12)),_0x382484[_0x391b79(0x11c)](_0x382484[_0x391b79(0x1bf)]),_0x382484[_0x391b79(0xfa)](_0x382484[_0x391b79(0x1dd)],_0x382484['CENTER']),_0x382484[_0x391b79(0x1ed)](getText(_0x391b79(0x1ad)),_0x114f49+0x5,0x0),_0x382484['textAlign'](_0x382484[_0x391b79(0x1ea)],_0x382484[_0x391b79(0x150)]),_0x382484['text'](getText(_0x391b79(0x10c)),0x0,-_0x114f49-0x5),_0x382484[_0x391b79(0x11c)](_0x382484['NORMAL']));if(_0x1be8fb>0x0&&_0x41e305>0x0){let _0x475cc8=_0x1be8fb*_0x382484[_0x391b79(0x1ca)](_0x3532d0)*_0x41e305,_0x380724=_0x1be8fb*_0x382484['sin'](_0x3532d0)*_0x41e305;_0x420c74>0x28&&(_0x382484[_0x391b79(0x1d1)](),_0x382484[_0x391b79(0x1d9)](COLOR_PROJECTION),_0x382484[_0x391b79(0x1fa)](1.5),_0x382484[_0x391b79(0x113)][_0x391b79(0x138)]([0x4,0x3]),_0x382484[_0x391b79(0x1e3)](_0x475cc8,_0x380724,_0x475cc8,0x0),_0x382484[_0x391b79(0x1e3)](_0x475cc8,_0x380724,0x0,_0x380724),_0x382484['drawingContext'][_0x391b79(0x138)]([]),_0x382484[_0x391b79(0x14b)]());_0x382484[_0x391b79(0x1d9)](COLOR_VECTOR_CURRENT),_0x382484[_0x391b79(0x1fa)](_0x382484[_0x391b79(0x1f5)](0x2,_0x420c74*0.05)),_0x382484[_0x391b79(0x1e3)](0x0,0x0,_0x475cc8,_0x380724),_0x382484['push'](),_0x382484[_0x391b79(0x14e)](_0x475cc8,_0x380724),_0x382484[_0x391b79(0x1a8)](_0x3532d0),_0x382484[_0x391b79(0x209)](COLOR_VECTOR_CURRENT),_0x382484[_0x391b79(0x15a)]();let _0x40a76e=_0x382484[_0x391b79(0x1f5)](0x6,_0x420c74*0.1);_0x382484['triangle'](0x0,0x0,-_0x40a76e,-_0x40a76e/0x2,-_0x40a76e,_0x40a76e/0x2),_0x382484['pop']();if(_0x420c74>0x32&&_0x382484['abs'](_0x3532d0)>0.01){let _0x10da68=_0x420c74*0.25;_0x382484[_0x391b79(0x165)]();let _0x5f4f0d=_0x382484['color'](COLOR_GRAPH_AXES);_0x5f4f0d[_0x391b79(0x1ff)](0xb4),_0x382484[_0x391b79(0x1d9)](_0x5f4f0d),_0x382484[_0x391b79(0x1fa)](0x1),_0x382484['arc'](0x0,0x0,_0x10da68*0x2,_0x10da68*0x2,0x0,_0x3532d0),_0x382484[_0x391b79(0x209)](COLOR_TEXT_P5),_0x382484['noStroke'](),_0x382484[_0x391b79(0x10d)](_0x382484[_0x391b79(0x1f5)](0x9,_0x420c74*0.1)),_0x382484[_0x391b79(0xfa)](_0x382484['CENTER'],_0x382484[_0x391b79(0x1ea)]);let _0x5ad4b5=_0x10da68*1.6;_0x382484[_0x391b79(0x1ed)](''+formatNumber(currentI_angle_deg,0x1)+getText(_0x391b79(0x20e)),_0x382484['cos'](_0x3532d0/0x2)*_0x5ad4b5,_0x382484[_0x391b79(0x14d)](_0x3532d0/0x2)*_0x5ad4b5);}_0x420c74>0x3c&&(_0x382484[_0x391b79(0x1d1)](),_0x382484[_0x391b79(0x14e)](_0x475cc8/0x2,_0x380724/0x2),_0x382484['rotate'](_0x3532d0),_0x382484[_0x391b79(0x209)](COLOR_TEXT_P5),_0x382484['noStroke'](),_0x382484['textSize'](_0x382484[_0x391b79(0x1f5)](0x9,_0x420c74*0.1)),_0x382484[_0x391b79(0xfa)](_0x382484[_0x391b79(0x1ea)],_0x382484['BOTTOM']),_0x382484[_0x391b79(0x1ed)](formatNumber(_0x1be8fb)+'\x20'+getText('unitAmpere'),0x0,-0x5),_0x382484[_0x391b79(0x14b)]());}else _0x420c74>0xa&&(_0x382484[_0x391b79(0x209)](COLOR_VECTOR_CURRENT),_0x382484['noStroke'](),_0x382484[_0x391b79(0x137)](0x0,0x0,_0x382484[_0x391b79(0x1f5)](0x4,_0x420c74*0.08),_0x382484['max'](0x4,_0x420c74*0.08)),_0x382484[_0x391b79(0x209)](COLOR_TEXT_P5),_0x382484['textAlign'](_0x382484[_0x391b79(0x1ea)],_0x382484[_0x391b79(0x150)]),_0x382484['textSize'](_0x382484[_0x391b79(0x1f5)](0x9,_0x420c74*0.1)),_0x382484[_0x391b79(0x1ed)](getText('p5_currentZero'),0x0,-0xa));_0x382484['pop']();}function drawSineGraph(_0x4b9394,_0x319459,_0x461e0d,_0x514a5b){const _0x4a6595=_0x5075e9;_0x4b9394['push']();let _0x5407fc=_0x514a5b?SINE_GRAPH_XMARGIN_MAXIMIZED:SINE_GRAPH_XMARGIN_SMALL,_0xe23304=_0x514a5b?SINE_GRAPH_YMARGIN_MAXIMIZED:SINE_GRAPH_YMARGIN_SMALL,_0x550bdb=_0x319459-_0x5407fc*0x2,_0x11104b=_0x461e0d-_0xe23304*0x2;if(_0x550bdb<=0x14||_0x11104b<=0x14){_0x4b9394[_0x4a6595(0x14b)]();return;}_0x4b9394['translate'](_0x5407fc,_0xe23304);let _0x37efdd=voltage,_0x22d2bb=currentI_mag,_0x570a7c=_0x4b9394['radians'](phaseAngleDeg),_0x4f21ea=_0x4b9394[_0x4a6595(0x195)](currentI_angle_deg),_0x2de285=_0x4f21ea-_0x570a7c;while(_0x2de285<=-_0x4b9394['PI'])_0x2de285+=_0x4b9394[_0x4a6595(0xff)];while(_0x2de285>_0x4b9394['PI'])_0x2de285-=_0x4b9394[_0x4a6595(0xff)];let _0x56b2d7=_0x4b9394[_0x4a6595(0x1f5)](0x1,_0x37efdd),_0x450c0c=_0x11104b/0x2/_0x56b2d7*0.9,_0x5643c5=_0x56b2d7*_0x450c0c*0.8,_0x3b0b4f=0x0;_0x22d2bb>1e-9&&_0x5643c5>0x1?_0x3b0b4f=_0x5643c5/_0x22d2bb:(_0x22d2bb=0x0,_0x5643c5=0x0,_0x3b0b4f=0x0);let _0x7b075d=_0x550bdb/_0x4b9394[_0x4a6595(0xff)];_0x4b9394['fill'](0xf5,0xf5,0xfa,0xc8),_0x4b9394['noStroke'](),_0x4b9394[_0x4a6595(0x11f)](0x0,0x0,_0x550bdb,_0x11104b),_0x4b9394[_0x4a6595(0x1d9)](0xc8,0xc8,0xdc,0x96),_0x4b9394[_0x4a6595(0x1fa)](0.5);for(let _0x170671=0x0;_0x170671<=0x4;_0x170671++){_0x4b9394[_0x4a6595(0x1e3)](0x0,_0x11104b*_0x170671/0x4,_0x550bdb,_0x11104b*_0x170671/0x4),_0x4b9394[_0x4a6595(0x1e3)](_0x550bdb*_0x170671/0x4,0x0,_0x550bdb*_0x170671/0x4,_0x11104b);}_0x4b9394[_0x4a6595(0x1d9)](COLOR_GRAPH_AXES),_0x4b9394[_0x4a6595(0x1fa)](1.5),_0x4b9394[_0x4a6595(0x1e3)](0x0,_0x11104b/0x2,_0x550bdb,_0x11104b/0x2),_0x4b9394[_0x4a6595(0x1e3)](0x0,0x0,0x0,_0x11104b);_0x22d2bb>0x0&&_0x4b9394[_0x4a6595(0x1e3)](_0x550bdb,0x0,_0x550bdb,_0x11104b);_0x4b9394[_0x4a6595(0x209)](COLOR_GRAPH_AXES),_0x4b9394[_0x4a6595(0x15a)]();let _0x2de4df=_0x4b9394['max'](0xa,_0x4b9394['min'](_0x550bdb*0.05,_0x11104b*0.08));_0x4b9394[_0x4a6595(0x10d)](_0x2de4df),_0x4b9394['textAlign'](_0x4b9394['CENTER'],_0x4b9394[_0x4a6595(0x162)]);let _0x37c931=_0x11104b/0x2+0x5;_0x4b9394[_0x4a6595(0x1ed)]('0',0x0,_0x37c931),_0x4b9394[_0x4a6595(0x1ed)](_0x4a6595(0x1e1),_0x550bdb/0x4,_0x37c931),_0x4b9394[_0x4a6595(0x1ed)]('π',_0x550bdb/0x2,_0x37c931),_0x4b9394[_0x4a6595(0x1ed)](_0x4a6595(0x17d),_0x550bdb*0x3/0x4,_0x37c931),_0x4b9394[_0x4a6595(0x1ed)]('2π',_0x550bdb,_0x37c931);let _0x127d97=_0x4b9394[_0x4a6595(0x1f5)](0x9,_0x4b9394[_0x4a6595(0x143)](_0x550bdb*0.04,_0x11104b*0.07));_0x4b9394[_0x4a6595(0x10d)](_0x127d97),_0x4b9394[_0x4a6595(0xfa)](_0x4b9394[_0x4a6595(0x177)],_0x4b9394[_0x4a6595(0x1ea)]);for(let _0x379692=-0x2;_0x379692<=0x2;_0x379692++){if(_0x379692===0x0)continue;let _0x413082=_0x379692/0x2*_0x37efdd,_0x18e1ea=_0x11104b/0x2-_0x413082*_0x450c0c;_0x4b9394['text'](formatNumber(_0x413082,0x1),-0x5,_0x18e1ea);}_0x4b9394[_0x4a6595(0x1d1)](),_0x4b9394['translate'](-_0x5407fc*0.6,_0x11104b/0x2),_0x4b9394[_0x4a6595(0x1a8)](-_0x4b9394[_0x4a6595(0x1ab)]),_0x4b9394[_0x4a6595(0xfa)](_0x4b9394['CENTER'],_0x4b9394[_0x4a6595(0x150)]),_0x4b9394[_0x4a6595(0x209)](COLOR_VOLTAGE_WAVE),_0x4b9394['textStyle'](_0x4b9394[_0x4a6595(0x1bf)]),_0x4b9394[_0x4a6595(0x10d)](_0x2de4df),_0x4b9394[_0x4a6595(0x1ed)](getText('p5_voltageAxisLabel'),0x0,0x0),_0x4b9394['pop']();if(_0x22d2bb>0x0&&_0x3b0b4f>0x0){_0x4b9394[_0x4a6595(0xfa)](_0x4b9394[_0x4a6595(0x1dd)],_0x4b9394[_0x4a6595(0x1ea)]),_0x4b9394['textSize'](_0x127d97);for(let _0x457bef=-0x2;_0x457bef<=0x2;_0x457bef++){if(_0x457bef===0x0)continue;let _0x5091e7=_0x457bef/0x2*_0x22d2bb,_0x4d71bb=_0x11104b/0x2-_0x5091e7*_0x3b0b4f;_0x4b9394['text'](formatNumber(_0x5091e7,0x1),_0x550bdb+0x5,_0x4d71bb);}_0x4b9394[_0x4a6595(0x1d1)](),_0x4b9394[_0x4a6595(0x14e)](_0x550bdb+_0x5407fc*0.5,_0x11104b/0x2),_0x4b9394[_0x4a6595(0x1a8)](_0x4b9394[_0x4a6595(0x1ab)]),_0x4b9394[_0x4a6595(0xfa)](_0x4b9394[_0x4a6595(0x1ea)],_0x4b9394[_0x4a6595(0x150)]),_0x4b9394[_0x4a6595(0x209)](COLOR_CURRENT_WAVE),_0x4b9394[_0x4a6595(0x11c)](_0x4b9394['BOLD']),_0x4b9394[_0x4a6595(0x10d)](_0x2de4df),_0x4b9394['text'](getText(_0x4a6595(0x11e)),0x0,0x0),_0x4b9394[_0x4a6595(0x14b)]();}_0x4b9394[_0x4a6595(0x165)]();let _0x466fbe=0xc8,_0x198747=_0x4b9394['max'](1.5,_0x4b9394[_0x4a6595(0x143)](_0x550bdb*0.008,_0x11104b*0.008));_0x4b9394[_0x4a6595(0x1d9)](COLOR_VOLTAGE_WAVE),_0x4b9394[_0x4a6595(0x1fa)](_0x198747),_0x4b9394[_0x4a6595(0x1c3)]();for(let _0x57a8de=0x0;_0x57a8de<=_0x466fbe;_0x57a8de++){let _0xb17d92=_0x4b9394[_0x4a6595(0x159)](_0x57a8de,0x0,_0x466fbe,0x0,_0x4b9394[_0x4a6595(0xff)]);_0x4b9394[_0x4a6595(0x163)](_0xb17d92*_0x7b075d,_0x11104b/0x2-_0x37efdd*_0x4b9394['sin'](_0xb17d92+_0x570a7c)*_0x450c0c);}_0x4b9394[_0x4a6595(0x197)]();if(_0x22d2bb>0x0&&_0x3b0b4f>0x0){_0x4b9394['stroke'](COLOR_CURRENT_WAVE),_0x4b9394[_0x4a6595(0x1fa)](_0x198747),_0x4b9394[_0x4a6595(0x1c3)]();for(let _0x532ca3=0x0;_0x532ca3<=_0x466fbe;_0x532ca3++){let _0x18316c=_0x4b9394['map'](_0x532ca3,0x0,_0x466fbe,0x0,_0x4b9394[_0x4a6595(0xff)]);_0x4b9394[_0x4a6595(0x163)](_0x18316c*_0x7b075d,_0x11104b/0x2-_0x22d2bb*_0x4b9394['sin'](_0x18316c+_0x4f21ea)*_0x3b0b4f);}_0x4b9394[_0x4a6595(0x197)]();}if(_0x550bdb>0x50&&_0x11104b>0x28){_0x4b9394['strokeWeight'](0x1);let _0x36a14e=_0x4b9394[_0x4a6595(0x172)](COLOR_VOLTAGE_WAVE);_0x36a14e[_0x4a6595(0x1ff)](0xb4);let _0x50780d=_0x4b9394['color'](COLOR_CURRENT_WAVE);_0x50780d[_0x4a6595(0x1ff)](0xb4),_0x4b9394[_0x4a6595(0x113)][_0x4a6595(0x138)]([0x4,0x3]);let _0x1c75fd=_0x4b9394[_0x4a6595(0x1ab)]-_0x570a7c;while(_0x1c75fd<0x0)_0x1c75fd+=_0x4b9394[_0x4a6595(0xff)];_0x1c75fd%=_0x4b9394['TWO_PI'];let _0x1edb4e=_0x1c75fd*_0x7b075d,_0x2170a5=_0x11104b/0x2-_0x37efdd*_0x450c0c;_0x1edb4e>=0x0&&_0x1edb4e<=_0x550bdb&&_0x37efdd>0x0&&(_0x4b9394[_0x4a6595(0x1d9)](_0x36a14e),_0x4b9394[_0x4a6595(0x1e3)](_0x1edb4e,_0x2170a5,_0x1edb4e,_0x11104b/0x2));let _0x27119c=-0x1,_0x2326d0=-0x1,_0x129bfb=-0x1;if(_0x22d2bb>0x0&&_0x3b0b4f>0x0){_0x129bfb=_0x4b9394[_0x4a6595(0x1ab)]-_0x4f21ea;while(_0x129bfb<0x0)_0x129bfb+=_0x4b9394[_0x4a6595(0xff)];_0x129bfb%=_0x4b9394[_0x4a6595(0xff)],_0x27119c=_0x129bfb*_0x7b075d,_0x2326d0=_0x11104b/0x2-_0x22d2bb*_0x3b0b4f,_0x27119c>=0x0&&_0x27119c<=_0x550bdb&&(_0x4b9394[_0x4a6595(0x1d9)](_0x50780d),_0x4b9394['line'](_0x27119c,_0x2326d0,_0x27119c,_0x11104b/0x2));}_0x4b9394[_0x4a6595(0x113)][_0x4a6595(0x138)]([]);if(_0x1edb4e>=0x0&&_0x1edb4e<=_0x550bdb&&_0x27119c>=0x0&&_0x27119c<=_0x550bdb&&_0x4b9394[_0x4a6595(0x1ee)](_0x2de285)>0.01){_0x4b9394[_0x4a6595(0x1fa)](_0x4b9394[_0x4a6595(0x1f5)](1.5,_0x11104b*0.015));let _0x3246bd=COLOR_TEXT_P5;_0x3246bd=_0x2de285>0x0?COLOR_CURRENT_WAVE:COLOR_VOLTAGE_WAVE,_0x4b9394[_0x4a6595(0x1d9)](_0x3246bd),_0x4b9394[_0x4a6595(0x1e3)](_0x4b9394[_0x4a6595(0x143)](_0x1edb4e,_0x27119c),_0x11104b/0x2,_0x4b9394[_0x4a6595(0x1f5)](_0x1edb4e,_0x27119c),_0x11104b/0x2);let _0x16e29b=(_0x1edb4e+_0x27119c)/0x2;_0x4b9394[_0x4a6595(0x1ee)](_0x1edb4e-_0x27119c)>_0x550bdb/0x2&&(_0x16e29b=(_0x16e29b+_0x550bdb/0x2)%_0x550bdb);let _0x40d792=_0x11104b/0x2-_0x4b9394[_0x4a6595(0x1f5)](0xc,_0x11104b*0.08);_0x4b9394['fill'](COLOR_TEXT_P5),_0x4b9394[_0x4a6595(0x15a)](),_0x4b9394[_0x4a6595(0x10d)](_0x4b9394[_0x4a6595(0x1f5)](0x9,_0x4b9394[_0x4a6595(0x143)](_0x550bdb*0.05,_0x11104b*0.07))),_0x4b9394[_0x4a6595(0xfa)](_0x4b9394['CENTER'],_0x4b9394[_0x4a6595(0x150)]),_0x4b9394[_0x4a6595(0x1ed)](getText(_0x4a6595(0x161))+'\x20'+formatNumber(_0x4b9394[_0x4a6595(0x1c0)](_0x2de285),0x1)+getText(_0x4a6595(0x20e)),_0x16e29b,_0x40d792);}}let _0x490ec1=_0x514a5b||_0x550bdb>0x96&&_0x11104b>0x64;if(_0x490ec1){let _0x32d24a=0xa,_0x361b16=0xa,_0x1b3be5=_0x4b9394[_0x4a6595(0x1f5)](0xf,_0x11104b*0.08),_0x454c14=_0x4b9394['max'](0x8,_0x11104b*0.04),_0x4d698c=_0x454c14*1.5,_0x56a349=_0x4b9394[_0x4a6595(0x1f5)](0xa,_0x4b9394[_0x4a6595(0x143)](_0x319459*0.05,_0x461e0d*0.06));_0x4b9394['textSize'](_0x56a349),_0x4b9394[_0x4a6595(0xfa)](_0x4b9394[_0x4a6595(0x1dd)],_0x4b9394[_0x4a6595(0x1ea)]),_0x4b9394['fill'](COLOR_VOLTAGE_WAVE),_0x4b9394[_0x4a6595(0x15a)](),_0x4b9394['rect'](_0x32d24a,_0x361b16,_0x4d698c,_0x454c14),_0x4b9394[_0x4a6595(0x209)](COLOR_TEXT_P5),_0x4b9394[_0x4a6595(0x1ed)](getText(_0x4a6595(0x198)),_0x32d24a+_0x4d698c+0x5,_0x361b16+_0x454c14/0x2),_0x22d2bb>0x0&&(_0x361b16+=_0x1b3be5,_0x4b9394[_0x4a6595(0x209)](COLOR_CURRENT_WAVE),_0x4b9394['noStroke'](),_0x4b9394[_0x4a6595(0x11f)](_0x32d24a,_0x361b16,_0x4d698c,_0x454c14),_0x4b9394['fill'](COLOR_TEXT_P5),_0x4b9394[_0x4a6595(0x1ed)](getText(_0x4a6595(0x1b0)),_0x32d24a+_0x4d698c+0x5,_0x361b16+_0x454c14/0x2));}_0x4b9394[_0x4a6595(0x14b)]();}

    </script>
</body>
</html>