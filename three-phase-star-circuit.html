<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=yes">    
    <meta name="author" content="">
    <meta name="license" content="https://opensource.org/licenses/MIT">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>

        html, body {
            overscroll-behavior: none;
            -webkit-overflow-scrolling: none;
        }  


        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; 
            background-color: #f5f5f5;
        }
        canvas { display: block; }

        #palette-container {
            width: 150px !important;
            flex-basis: 150px !important; 
            max-width: 150px !important; 
            min-width: 150px !important; 
            background-color: #f5f5f5;
            padding: 15px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        
        #canvas-container {
          /*  touch-action: none; */
            display: flex;
            flex-direction: column; 
            align-items: center; 
            -webkit-overflow-scrolling: touch;             
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2 id="palette-heading">Елементи схеми</h2>
        <div id="palette">
        </div>
    </div>
   
    <div id="canvas-container">
    </div>
    
    <script>
const _0xe6f953=_0x55a7;(function(_0x39b1f1,_0x119d0b){const _0x3d18a7=_0x55a7,_0x5e9b4b=_0x39b1f1();while(!![]){try{const _0xce08e2=-parseInt(_0x3d18a7(0x1fc))/0x1*(parseInt(_0x3d18a7(0x2a9))/0x2)+-parseInt(_0x3d18a7(0x1d1))/0x3*(parseInt(_0x3d18a7(0x27c))/0x4)+parseInt(_0x3d18a7(0x1e6))/0x5*(parseInt(_0x3d18a7(0x249))/0x6)+-parseInt(_0x3d18a7(0x284))/0x7+parseInt(_0x3d18a7(0x1ab))/0x8+-parseInt(_0x3d18a7(0x1ce))/0x9*(-parseInt(_0x3d18a7(0x1bf))/0xa)+parseInt(_0x3d18a7(0x1f2))/0xb;if(_0xce08e2===_0x119d0b)break;else _0x5e9b4b['push'](_0x5e9b4b['shift']());}catch(_0x15c4ff){_0x5e9b4b['push'](_0x5e9b4b['shift']());}}}(_0x5224,0xa1d70));let bgcolor=_0xe6f953(0x256),calculateBtnTitle='',visibilityBtnStateNormal='',visibilityBtnStateReturn='',distanceToTargetLabel='',pixelsUnit='',targetNotFound='',elementsToPlaceLabel='',circuitAssembled='',errorElementNotFound='',shortCircuitWarningA='',neutralDisconnectedWarning='',shortCircuitConfirmation='',currentPrefixA='',currentPrefixB='',currentPrefixC='',currentPrefixN='',ampereUnit='',voltUnit='',calculationError='',valueNotAvailable='',shortCircuitAbbreviation='',voltagePrefixUab='',voltagePrefixUbc='',voltagePrefixUca='',voltagePrefixUa='',voltagePrefixUb='',voltagePrefixUc='',voltageErrorText='',voltageInitialText='',microFaradUnit='',milliHenryUnit='',wattUnit='',enterCapacityPrompt='',capacitiveLoadInfo='',lang='uk';const _0x3def67={};_0x3def67[_0xe6f953(0x268)]=_0xe6f953(0x198),_0x3def67[_0xe6f953(0x1b3)]=_0xe6f953(0x213),_0x3def67[_0xe6f953(0x291)]=_0xe6f953(0x22d),_0x3def67[_0xe6f953(0x19d)]=_0xe6f953(0x264),_0x3def67[_0xe6f953(0x193)]=_0xe6f953(0x1e4),_0x3def67['distanceToTargetLabel']=_0xe6f953(0x253),_0x3def67[_0xe6f953(0x1f3)]=_0xe6f953(0x1f1),_0x3def67[_0xe6f953(0x1c5)]='Цільова\x20точка\x20не\x20знайдена',_0x3def67[_0xe6f953(0x260)]='Потрібно\x20поставити\x20елементів:',_0x3def67[_0xe6f953(0x1db)]=_0xe6f953(0x28b),_0x3def67[_0xe6f953(0x2a8)]=_0xe6f953(0x1d0),_0x3def67[_0xe6f953(0x27e)]=_0xe6f953(0x229),_0x3def67['neutralDisconnectedWarning']=_0xe6f953(0x1a9),_0x3def67[_0xe6f953(0x288)]=_0xe6f953(0x1d5),_0x3def67[_0xe6f953(0x1c3)]=_0xe6f953(0x1f0),_0x3def67['currentPrefixB']=_0xe6f953(0x24e),_0x3def67[_0xe6f953(0x297)]=_0xe6f953(0x29e),_0x3def67[_0xe6f953(0x1f9)]='In\x20=\x20',_0x3def67[_0xe6f953(0x240)]='\x20А',_0x3def67['voltUnit']='\x20В',_0x3def67['calculationError']='Помилка',_0x3def67[_0xe6f953(0x257)]=_0xe6f953(0x1ea),_0x3def67['shortCircuitAbbreviation']=_0xe6f953(0x233),_0x3def67[_0xe6f953(0x238)]=_0xe6f953(0x26e),_0x3def67['voltagePrefixUbc']=_0xe6f953(0x252),_0x3def67['voltagePrefixUca']='Uca\x20=\x20',_0x3def67[_0xe6f953(0x25c)]='Ua\x20=\x20',_0x3def67[_0xe6f953(0x298)]=_0xe6f953(0x24c),_0x3def67[_0xe6f953(0x2ab)]=_0xe6f953(0x18e),_0x3def67[_0xe6f953(0x1be)]='Помилка',_0x3def67[_0xe6f953(0x1b4)]=_0xe6f953(0x1bb),_0x3def67['microFaradUnit']=_0xe6f953(0x1ed),_0x3def67[_0xe6f953(0x258)]=_0xe6f953(0x1f6),_0x3def67[_0xe6f953(0x250)]='\x20Вт',_0x3def67[_0xe6f953(0x20c)]=_0xe6f953(0x190),_0x3def67[_0xe6f953(0x265)]=_0xe6f953(0x274),_0x3def67[_0xe6f953(0x27d)]=_0xe6f953(0x225),_0x3def67[_0xe6f953(0x25f)]='Обрив\x20лінійного\x20та\x20фазного\x20проводу!',_0x3def67['neutralStatusConnected']=_0xe6f953(0x230),_0x3def67[_0xe6f953(0x1c0)]=_0xe6f953(0x293),_0x3def67[_0xe6f953(0x25b)]='Коротке\x20замикання\x20в\x20фазі\x20А!',_0x3def67[_0xe6f953(0x24b)]=_0xe6f953(0x272),_0x3def67[_0xe6f953(0x232)]=_0xe6f953(0x295),_0x3def67['capacitiveLoadInfo']=_0xe6f953(0x1c9);const _0x47d98e={};_0x47d98e[_0xe6f953(0x268)]=_0xe6f953(0x1a6),_0x47d98e[_0xe6f953(0x1b3)]=_0xe6f953(0x243),_0x47d98e[_0xe6f953(0x291)]='Experimental\x20Data',_0x47d98e[_0xe6f953(0x19d)]=_0xe6f953(0x28f),_0x47d98e[_0xe6f953(0x193)]=_0xe6f953(0x1fd),_0x47d98e[_0xe6f953(0x211)]=_0xe6f953(0x19c),_0x47d98e[_0xe6f953(0x1f3)]=_0xe6f953(0x1f1),_0x47d98e['targetNotFound']='Target\x20point\x20not\x20found',_0x47d98e[_0xe6f953(0x260)]=_0xe6f953(0x2b0),_0x47d98e[_0xe6f953(0x1db)]=_0xe6f953(0x1d4),_0x47d98e[_0xe6f953(0x2a8)]=_0xe6f953(0x292),_0x47d98e[_0xe6f953(0x27e)]=_0xe6f953(0x22b),_0x47d98e[_0xe6f953(0x1d3)]=_0xe6f953(0x286),_0x47d98e[_0xe6f953(0x288)]=_0xe6f953(0x200),_0x47d98e[_0xe6f953(0x1c3)]=_0xe6f953(0x1f0),_0x47d98e['currentPrefixB']=_0xe6f953(0x24e),_0x47d98e['currentPrefixC']=_0xe6f953(0x29e),_0x47d98e['currentPrefixN']=_0xe6f953(0x1b7),_0x47d98e[_0xe6f953(0x240)]='\x20A',_0x47d98e[_0xe6f953(0x28d)]='\x20V',_0x47d98e[_0xe6f953(0x2a1)]=_0xe6f953(0x1c6),_0x47d98e['valueNotAvailable']=_0xe6f953(0x1ea),_0x47d98e['shortCircuitAbbreviation']=_0xe6f953(0x1ef),_0x47d98e[_0xe6f953(0x238)]=_0xe6f953(0x26e),_0x47d98e['voltagePrefixUbc']='Ubc\x20=\x20',_0x47d98e[_0xe6f953(0x24f)]=_0xe6f953(0x282),_0x47d98e[_0xe6f953(0x25c)]='Ua\x20=\x20',_0x47d98e[_0xe6f953(0x298)]=_0xe6f953(0x24c),_0x47d98e[_0xe6f953(0x2ab)]=_0xe6f953(0x18e),_0x47d98e[_0xe6f953(0x1be)]='Error',_0x47d98e[_0xe6f953(0x1b4)]=_0xe6f953(0x1e5),_0x47d98e[_0xe6f953(0x1d2)]=_0xe6f953(0x205),_0x47d98e[_0xe6f953(0x258)]=_0xe6f953(0x194),_0x47d98e['wattUnit']='\x20W',_0x47d98e[_0xe6f953(0x20c)]=_0xe6f953(0x21f),_0x47d98e[_0xe6f953(0x265)]=_0xe6f953(0x1f8),_0x47d98e[_0xe6f953(0x27d)]=_0xe6f953(0x2a7),_0x47d98e[_0xe6f953(0x25f)]=_0xe6f953(0x242),_0x47d98e['neutralStatusConnected']=_0xe6f953(0x269),_0x47d98e[_0xe6f953(0x1c0)]='Neutral\x20disconnected.',_0x47d98e[_0xe6f953(0x25b)]='Short\x20circuit\x20in\x20phase\x20A!',_0x47d98e[_0xe6f953(0x24b)]=_0xe6f953(0x1dd),_0x47d98e[_0xe6f953(0x232)]=_0xe6f953(0x1cb),_0x47d98e[_0xe6f953(0x216)]='Ємнісне\x20навантаження.';const _0xf0dc7b={};_0xf0dc7b['uk']=_0x3def67,_0xf0dc7b['en']=_0x47d98e;const translations=_0xf0dc7b;function detectLanguage(){const _0x396bf1=_0xe6f953,_0x1b9baa=localStorage[_0x396bf1(0x199)](_0x396bf1(0x25a));if(_0x1b9baa&&translations[_0x1b9baa]){lang=_0x1b9baa;return;}const _0x166598=navigator[_0x396bf1(0x206)][_0x396bf1(0x208)](),_0x1d33bd=_0x166598[_0x396bf1(0x271)]('uk')||_0x166598[_0x396bf1(0x271)]('ru')||_0x166598[_0x396bf1(0x271)]('be');lang=_0x1d33bd?'uk':'en',localStorage['setItem']('simulationLang',lang);}detectLanguage();function setLocalizedContent(){const _0xc22bb7=_0xe6f953;document['title']=translations[lang][_0xc22bb7(0x268)];const _0x454012=document['getElementById'](_0xc22bb7(0x266));_0x454012&&(_0x454012[_0xc22bb7(0x251)]=translations[lang]['paletteHeading']),calculateBtnTitle=translations[lang]['calculateBtnTitle'],visibilityBtnStateNormal=translations[lang][_0xc22bb7(0x19d)],visibilityBtnStateReturn=translations[lang]['visibilityBtnStateReturn'],distanceToTargetLabel=translations[lang]['distanceToTargetLabel'],pixelsUnit=translations[lang]['pixelsUnit'],targetNotFound=translations[lang][_0xc22bb7(0x1c5)],elementsToPlaceLabel=translations[lang][_0xc22bb7(0x260)],circuitAssembled=translations[lang][_0xc22bb7(0x1db)],errorElementNotFound=translations[lang][_0xc22bb7(0x2a8)],shortCircuitWarningA=translations[lang]['shortCircuitWarningA'],neutralDisconnectedWarning=translations[lang]['neutralDisconnectedWarning'],shortCircuitConfirmation=translations[lang][_0xc22bb7(0x288)],currentPrefixA=translations[lang][_0xc22bb7(0x1c3)],currentPrefixB=translations[lang]['currentPrefixB'],currentPrefixC=translations[lang][_0xc22bb7(0x297)],currentPrefixN=translations[lang][_0xc22bb7(0x1f9)],ampereUnit=translations[lang][_0xc22bb7(0x240)],voltUnit=translations[lang][_0xc22bb7(0x28d)],calculationError=translations[lang][_0xc22bb7(0x2a1)],valueNotAvailable=translations[lang][_0xc22bb7(0x257)],shortCircuitAbbreviation=translations[lang][_0xc22bb7(0x1ac)],voltagePrefixUab=translations[lang][_0xc22bb7(0x238)],voltagePrefixUbc=translations[lang][_0xc22bb7(0x1b2)],voltagePrefixUca=translations[lang][_0xc22bb7(0x24f)],voltagePrefixUa=translations[lang][_0xc22bb7(0x25c)],voltagePrefixUb=translations[lang][_0xc22bb7(0x298)],voltagePrefixUc=translations[lang][_0xc22bb7(0x2ab)],voltageErrorText=translations[lang][_0xc22bb7(0x1be)],voltageInitialText=translations[lang][_0xc22bb7(0x1b4)],microFaradUnit=translations[lang]['microFaradUnit'],milliHenryUnit=translations[lang][_0xc22bb7(0x258)],wattUnit=translations[lang]['wattUnit'],enterCapacityPrompt=translations[lang][_0xc22bb7(0x20c)],phaseWireBreak=translations[lang][_0xc22bb7(0x265)],lineWireBreak=translations[lang]['lineWireBreak'],lineAndPhaseWireBreak=translations[lang]['lineAndPhaseWireBreak'],neutralStatusConnected=translations[lang][_0xc22bb7(0x262)],neutralStatusDisconnected=translations[lang][_0xc22bb7(0x1c0)],shortCircuitNoNeutralWarning=translations[lang][_0xc22bb7(0x25b)],unbalancedLoadWarning=translations[lang]['unbalancedLoadWarning'],balancedLoadInfo=translations[lang][_0xc22bb7(0x232)],capacitiveLoadInfo=translations[lang][_0xc22bb7(0x216)];}document[_0xe6f953(0x261)](_0xe6f953(0x1f4),setLocalizedContent);const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0xe6f953(0x267)](navigator['userAgent']),isLargeMobileScreen=window['innerWidth']>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x2:1.5;let isShortCircuitPopupVisible=![],hasShownShortCircuitPopupThisSession=![];const _0x345137={};_0x345137['x']=0x0,_0x345137['y']=0x0,_0x345137['w']=0x0,_0x345137['h']=0x0,_0x345137[_0xe6f953(0x1fb)]=0x0,_0x345137[_0xe6f953(0x1ec)]=0x0,_0x345137[_0xe6f953(0x1cc)]=0x0,_0x345137[_0xe6f953(0x226)]=0x0;let popupCloseButton=_0x345137,elements=[];const _0x3ae0d9={};_0x3ae0d9['type']='Switch',_0x3ae0d9['label']='SA1',_0x3ae0d9[_0xe6f953(0x223)]=0x96*SCALE_FACTOR,_0x3ae0d9[_0xe6f953(0x207)]=0x64*SCALE_FACTOR,_0x3ae0d9[_0xe6f953(0x26c)]=0x1,_0x3ae0d9['placed']=![],_0x3ae0d9[_0xe6f953(0x221)]=![];const _0x5eb5ed={};_0x5eb5ed['type']=_0xe6f953(0x244),_0x5eb5ed[_0xe6f953(0x1bd)]=_0xe6f953(0x1e9),_0x5eb5ed[_0xe6f953(0x223)]=0x1c2*SCALE_FACTOR,_0x5eb5ed[_0xe6f953(0x207)]=0x64*SCALE_FACTOR,_0x5eb5ed[_0xe6f953(0x26c)]=0x1,_0x5eb5ed['placed']=![],_0x5eb5ed['isFixed']=![];const _0xedb1e7={};_0xedb1e7[_0xe6f953(0x27a)]=_0xe6f953(0x244),_0xedb1e7[_0xe6f953(0x1bd)]=_0xe6f953(0x1dc),_0xedb1e7['targetX']=0x12c*SCALE_FACTOR,_0xedb1e7[_0xe6f953(0x207)]=0x25*SCALE_FACTOR,_0xedb1e7[_0xe6f953(0x26c)]=0x1,_0xedb1e7[_0xe6f953(0x22f)]=![],_0xedb1e7[_0xe6f953(0x221)]=![];const _0x217935={};_0x217935['type']=_0xe6f953(0x244),_0x217935[_0xe6f953(0x1bd)]=_0xe6f953(0x227),_0x217935[_0xe6f953(0x223)]=0x96*SCALE_FACTOR,_0x217935['targetY']=0xc8*SCALE_FACTOR,_0x217935[_0xe6f953(0x26c)]=0x1,_0x217935[_0xe6f953(0x22f)]=![],_0x217935[_0xe6f953(0x221)]=![];function _0x55a7(_0x3eda47,_0x525cc2){const _0x5224a4=_0x5224();return _0x55a7=function(_0x55a749,_0x50fb5d){_0x55a749=_0x55a749-0x18d;let _0x3dcb6e=_0x5224a4[_0x55a749];return _0x3dcb6e;},_0x55a7(_0x3eda47,_0x525cc2);}const _0x2f8335={};_0x2f8335[_0xe6f953(0x27a)]=_0xe6f953(0x244),_0x2f8335['label']='SA21',_0x2f8335['targetX']=0x1c2*SCALE_FACTOR,_0x2f8335['targetY']=0xc8*SCALE_FACTOR,_0x2f8335[_0xe6f953(0x26c)]=0x1,_0x2f8335[_0xe6f953(0x22f)]=![],_0x2f8335[_0xe6f953(0x221)]=![];const _0x213a7e={};_0x213a7e[_0xe6f953(0x27a)]='Switch',_0x213a7e[_0xe6f953(0x1bd)]=_0xe6f953(0x2a0),_0x213a7e[_0xe6f953(0x223)]=0x96*SCALE_FACTOR,_0x213a7e[_0xe6f953(0x207)]=0x12c*SCALE_FACTOR,_0x213a7e[_0xe6f953(0x26c)]=0x1,_0x213a7e[_0xe6f953(0x22f)]=![],_0x213a7e[_0xe6f953(0x221)]=![];const _0x1e4ac0={};_0x1e4ac0['type']='Switch',_0x1e4ac0[_0xe6f953(0x1bd)]=_0xe6f953(0x1b0),_0x1e4ac0['targetX']=0x1c2*SCALE_FACTOR,_0x1e4ac0['targetY']=0x12c*SCALE_FACTOR,_0x1e4ac0[_0xe6f953(0x26c)]=0x1,_0x1e4ac0[_0xe6f953(0x22f)]=![],_0x1e4ac0[_0xe6f953(0x221)]=![];const _0x5a99ab={};_0x5a99ab[_0xe6f953(0x27a)]=_0xe6f953(0x244),_0x5a99ab[_0xe6f953(0x1bd)]=_0xe6f953(0x1a2),_0x5a99ab[_0xe6f953(0x223)]=0x190*SCALE_FACTOR,_0x5a99ab[_0xe6f953(0x207)]=0x190*SCALE_FACTOR,_0x5a99ab[_0xe6f953(0x26c)]=0x1,_0x5a99ab[_0xe6f953(0x22f)]=![],_0x5a99ab[_0xe6f953(0x221)]=![],_0x5a99ab['forward_direction']=![];const _0x46ac11={};_0x46ac11[_0xe6f953(0x27a)]=_0xe6f953(0x273),_0x46ac11[_0xe6f953(0x1bd)]=_0xe6f953(0x299),_0x46ac11[_0xe6f953(0x223)]=0x4b*SCALE_FACTOR,_0x46ac11[_0xe6f953(0x207)]=0x64*SCALE_FACTOR,_0x46ac11[_0xe6f953(0x26c)]=0x1,_0x46ac11[_0xe6f953(0x22f)]=![],_0x46ac11['isFixed']=![];const _0x488b8d={};_0x488b8d['type']=_0xe6f953(0x273),_0x488b8d['label']=_0xe6f953(0x237),_0x488b8d['targetX']=0x4b*SCALE_FACTOR,_0x488b8d[_0xe6f953(0x207)]=0xc8*SCALE_FACTOR,_0x488b8d[_0xe6f953(0x26c)]=0x1,_0x488b8d[_0xe6f953(0x22f)]=![],_0x488b8d[_0xe6f953(0x221)]=![];const _0x410d5d={};_0x410d5d['type']=_0xe6f953(0x273),_0x410d5d['label']=_0xe6f953(0x287),_0x410d5d[_0xe6f953(0x223)]=0x4b*SCALE_FACTOR,_0x410d5d[_0xe6f953(0x207)]=0x12c*SCALE_FACTOR,_0x410d5d['orientation']=0x1,_0x410d5d[_0xe6f953(0x22f)]=![],_0x410d5d['isFixed']=![];const _0x3c5d72={};_0x3c5d72['type']=_0xe6f953(0x273),_0x3c5d72[_0xe6f953(0x1bd)]=_0xe6f953(0x1e0),_0x3c5d72['targetX']=0xfa*SCALE_FACTOR,_0x3c5d72['targetY']=0x190*SCALE_FACTOR,_0x3c5d72[_0xe6f953(0x26c)]=0x1,_0x3c5d72['placed']=![],_0x3c5d72[_0xe6f953(0x221)]=![];const _0x4e93e8={};_0x4e93e8['type']=_0xe6f953(0x21b),_0x4e93e8[_0xe6f953(0x1bd)]='C1',_0x4e93e8[_0xe6f953(0x223)]=0x12c*SCALE_FACTOR,_0x4e93e8['targetY']=0x64*SCALE_FACTOR,_0x4e93e8['orientation']=0x1,_0x4e93e8[_0xe6f953(0x22f)]=![],_0x4e93e8[_0xe6f953(0x221)]=![];const _0xb403ef={};_0xb403ef[_0xe6f953(0x27a)]=_0xe6f953(0x19b),_0xb403ef[_0xe6f953(0x1bd)]='HLG1',_0xb403ef[_0xe6f953(0x223)]=0x12c*SCALE_FACTOR,_0xb403ef[_0xe6f953(0x207)]=0x64*SCALE_FACTOR,_0xb403ef['orientation']=0x1,_0xb403ef[_0xe6f953(0x22f)]=![],_0xb403ef[_0xe6f953(0x221)]=![],_0xb403ef['powerPerLamp']=0x19;const _0x307898={};_0x307898[_0xe6f953(0x27a)]=_0xe6f953(0x19b),_0x307898[_0xe6f953(0x1bd)]=_0xe6f953(0x22e),_0x307898['targetX']=0x12c*SCALE_FACTOR,_0x307898[_0xe6f953(0x207)]=0xc8*SCALE_FACTOR,_0x307898[_0xe6f953(0x26c)]=0x1,_0x307898[_0xe6f953(0x22f)]=![],_0x307898[_0xe6f953(0x221)]=![],_0x307898['powerPerLamp']=0x19;const _0x4c5e79={};_0x4c5e79[_0xe6f953(0x27a)]=_0xe6f953(0x19b),_0x4c5e79[_0xe6f953(0x1bd)]='HLG3',_0x4c5e79['targetX']=0x12c*SCALE_FACTOR,_0x4c5e79[_0xe6f953(0x207)]=0x12c*SCALE_FACTOR,_0x4c5e79[_0xe6f953(0x26c)]=0x1,_0x4c5e79['placed']=![],_0x4c5e79['isFixed']=![],_0x4c5e79['powerPerLamp']=0x19;let paletteElementsData=[_0x3ae0d9,_0x5eb5ed,_0xedb1e7,_0x217935,_0x2f8335,_0x213a7e,_0x1e4ac0,_0x5a99ab,_0x46ac11,_0x488b8d,_0x410d5d,_0x3c5d72,_0x4e93e8,_0xb403ef,_0x307898,_0x4c5e79];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null;const _0x345b5a={};_0x345b5a[_0xe6f953(0x202)]=function(){return![];},_0x345b5a['add']=function(){},_0x345b5a[_0xe6f953(0x1a3)]=function(){};const _0x127813={};_0x127813[_0xe6f953(0x251)]='',_0x127813[_0xe6f953(0x20a)]=_0x345b5a;let messageBox=_0x127813,messageTimeout;const _0x4447dd={};_0x4447dd[_0xe6f953(0x251)]='';let counterBox=_0x4447dd;const _0x548921={};_0x548921['textContent']='';let distanceBox=_0x548921;const _0x269d3a={};_0x269d3a[_0xe6f953(0x202)]=function(){return![];},_0x269d3a[_0xe6f953(0x2ae)]=function(){},_0x269d3a[_0xe6f953(0x1a3)]=function(){};const _0x474c78={};_0x474c78[_0xe6f953(0x20a)]=_0x269d3a;let calculateButton=_0x474c78,isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x3e8,SWITCH_TOGGLE_DELAY=0x3e8;let lastButtonClickTime=0x0,pressModeCalculateBtn=![];const BUTTON_CLICK_DELAY=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,shortCircuitConfirmed=![],isC1CurrentlyVisible=![],U_phase_mag=132.8,warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x1f4;let isTogglingVisibility=![],visibilityToggleTimer=null;const VISIBILITY_TOGGLE_DELAY=0xfa;function runPerformanceTest(){const _0x15a067=_0xe6f953,_0x4e693d=0xf4240;let _0x419bdc=0x0;const _0x2d6cfc=performance[_0x15a067(0x1de)]();for(let _0x49b6c7=0x0;_0x49b6c7<_0x4e693d;_0x49b6c7++){_0x419bdc+=Math[_0x15a067(0x29d)](Math[_0x15a067(0x276)](_0x49b6c7))*Math['cos'](_0x49b6c7/0x2)/(_0x49b6c7+0x1);}const _0x1efd42=performance[_0x15a067(0x1de)]();return _0x1efd42-_0x2d6cfc;}let targetFrameRate=0x1e,targetPixelDensity=0x1;function setup(){const _0x15067c=_0xe6f953,_0x4e0e7f=runPerformanceTest(),_0x2914f1=0xb4,_0x1161db=0x5a;if(_0x4e0e7f>_0x2914f1)targetFrameRate=0x1e,targetPixelDensity=0x1;else _0x4e0e7f>_0x1161db?(targetFrameRate=0x28,targetPixelDensity=0x1):(targetFrameRate=0x2d,targetPixelDensity=1.5);pixelDensity(targetPixelDensity),frameRate(targetFrameRate),createCanvas(0x2ee*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x15067c(0x26f)],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,'Uab\x20='),elements[_0x15067c(0x218)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x15067c(0x2aa)),elements['push'](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,'Uca\x20='),elements[_0x15067c(0x218)](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x15067c(0x29c)),elements['push'](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x15067c(0x2ad)),elements[_0x15067c(0x218)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x15067c(0x241)),elements['push'](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x367f08=_0xe6f953,_0x478bb9={};_0x478bb9['SA2']=null,_0x478bb9['E2']=null;let _0x58c85d=_0x478bb9;paletteElementsData[_0x367f08(0x2a6)](_0x1be188=>{const _0x3c32e5=_0x367f08;let _0x5be8b6=createPaletteElementInstance(_0x1be188[_0x3c32e5(0x27a)],_0x1be188[_0x3c32e5(0x1bd)],_0x1be188[_0x3c32e5(0x26c)],_0x1be188[_0x3c32e5(0x223)],_0x1be188['targetY'],_0x1be188);elements[_0x3c32e5(0x218)](_0x5be8b6),_0x1be188[_0x3c32e5(0x22f)]=!![],_0x1be188[_0x3c32e5(0x221)]=!![],_0x5be8b6[_0x3c32e5(0x21a)]['placed']=!![],_0x5be8b6[_0x3c32e5(0x21a)][_0x3c32e5(0x221)]=!![];}),paletteElementsData=[];const _0x246b73=document[_0x367f08(0x28c)](_0x367f08(0x296));_0x246b73[_0x367f08(0x23f)]='',createPalette();}function createPalette(){const _0x353b5c=_0xe6f953,_0x3834e5=document[_0x353b5c(0x28c)]('palette');paletteElementsData[_0x353b5c(0x2a6)]((_0x4c9178,_0x2e7695)=>{const _0x58144d=_0x353b5c,_0x443dba=document[_0x58144d(0x1f7)](_0x58144d(0x21d));_0x443dba[_0x58144d(0x20a)]['add'](_0x58144d(0x2ac));let _0x58a594=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x58a594[_0x58144d(0x203)](),_0x58a594['push'](),_0x58a594['translate'](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x78431f=createPaletteElementInstance(_0x4c9178['type'],_0x4c9178[_0x58144d(0x1bd)],_0x4c9178[_0x58144d(0x26c)],0x0,0x0,_0x4c9178);_0x78431f[_0x58144d(0x26c)]=_0x4c9178[_0x58144d(0x26c)],_0x78431f[_0x58144d(0x254)](_0x58a594),_0x58a594['pop']();const _0x2b6986=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x2b6986[_0x58144d(0x2af)](_0x58a594,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x443dba[_0x58144d(0x224)](_0x2b6986[_0x58144d(0x263)]),_0x443dba['dataset']['elementType']=_0x4c9178[_0x58144d(0x27a)],_0x443dba[_0x58144d(0x255)][_0x58144d(0x214)]=_0x4c9178['label'],_0x443dba[_0x58144d(0x255)][_0x58144d(0x1ad)]=_0x4c9178[_0x58144d(0x26c)],_0x443dba[_0x58144d(0x255)]['paletteIndex']=_0x2e7695,_0x443dba[_0x58144d(0x261)](_0x58144d(0x1e7),paletteElementClick),_0x3834e5[_0x58144d(0x224)](_0x443dba);});}function draw(){const _0x670d38=_0xe6f953;background(bgcolor),strokeWeight(0x1);const _0x43c8a7=0x2bc*SCALE_FACTOR,_0xaf3402=0x1c2*SCALE_FACTOR,_0x433ac0=0x32*SCALE_FACTOR;stroke('lightgray');function _0x104679(_0x17122b,_0x4178c8,_0x4daa84,_0x52c6c2){line(_0x17122b,_0x4178c8,_0x4daa84,_0x52c6c2);}for(let _0x55b7ac=0x0;_0x55b7ac<=_0xaf3402;_0x55b7ac+=_0x433ac0){_0x104679(0x0,_0x55b7ac,_0x43c8a7,_0x55b7ac);}for(let _0x1ba51a=0x0;_0x1ba51a<=_0x43c8a7;_0x1ba51a+=_0x433ac0){_0x104679(_0x1ba51a,0x0,_0x1ba51a,_0xaf3402);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x104679(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x104679(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x104679(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x104679(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x40c66c=0x64;circle(0x1c*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x104679(0x1e*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x5a*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0xaa*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x192*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x1d6*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x40c66c=0xc8,circle(0x1c*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x104679(0x1e*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x5a*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0xaa*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x192*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x1d6*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x40c66c=0x12c,circle(0x1c*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x104679(0x1e*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x5a*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0xaa*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x192*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),_0x104679(0x1d6*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x40c66c*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x104679(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x104679(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x104679(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x104679(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x104679(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x104679(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0x29a613 of elements){typeof _0x29a613[_0x670d38(0x1ae)]==='function'&&_0x29a613[_0x670d38(0x1ae)](),_0x29a613[_0x670d38(0x20d)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x670d38(0x20d)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox(),isShortCircuitPopupVisible&&drawShortCircuitPopup();}function drawShortCircuitPopup(){const _0x1d1d77=_0xe6f953;push();const _0xf64a28=min(width*0.8,0x1c2*SCALE_FACTOR),_0x15fea6=min(height*0.6,0xfa*SCALE_FACTOR),_0x185cb1=(width-_0xf64a28)/0x2,_0x2ac41b=(height-_0x15fea6)/0x2,_0x9be27d=0xf*SCALE_FACTOR;fill(0x0,0x0,0x0,0xb4),noStroke(),rect(0x0,0x0,width,height),fill(0xf0,0xf0,0xf0),stroke(0x32),strokeWeight(0x1*SCALE_FACTOR),rect(_0x185cb1,_0x2ac41b,_0xf64a28,_0x15fea6,0x8*SCALE_FACTOR),fill(0x32),noStroke(),textAlign(LEFT,TOP),textSize(0xe*SCALE_FACTOR),text(shortCircuitConfirmation,_0x185cb1+_0x9be27d,_0x2ac41b+_0x9be27d,_0xf64a28-0x2*_0x9be27d,_0x15fea6-0x3*_0x9be27d-0x1e*SCALE_FACTOR);const _0x30d0a7=0x18*SCALE_FACTOR,_0x35b048=0xa*SCALE_FACTOR,_0x156284=_0x185cb1+_0xf64a28-_0x30d0a7-_0x35b048,_0x5a8261=_0x2ac41b+_0x35b048;popupCloseButton['x']=_0x156284,popupCloseButton['y']=_0x5a8261,popupCloseButton['w']=_0x30d0a7,popupCloseButton['h']=_0x30d0a7;const _0x2d885d=2.5;popupCloseButton[_0x1d1d77(0x1cc)]=_0x30d0a7*_0x2d885d,popupCloseButton['hitH']=_0x30d0a7*_0x2d885d,popupCloseButton['hitX']=_0x156284+_0x30d0a7/0x2-popupCloseButton['hitW']/0x2,popupCloseButton[_0x1d1d77(0x1ec)]=_0x5a8261+_0x30d0a7/0x2-popupCloseButton[_0x1d1d77(0x226)]/0x2,fill(0xc8,0x50,0x50),noStroke(),ellipseMode(CORNER),ellipse(_0x156284,_0x5a8261,_0x30d0a7,_0x30d0a7),stroke(0xff),strokeWeight(2.5*SCALE_FACTOR);const _0x5c89ad=_0x30d0a7*0.25;line(_0x156284+_0x5c89ad,_0x5a8261+_0x5c89ad,_0x156284+_0x30d0a7-_0x5c89ad,_0x5a8261+_0x30d0a7-_0x5c89ad),line(_0x156284+_0x5c89ad,_0x5a8261+_0x30d0a7-_0x5c89ad,_0x156284+_0x30d0a7-_0x5c89ad,_0x5a8261+_0x5c89ad),pop();}function drawWarningMessageBox(){const _0x51e1a=_0xe6f953;if(!warningMessageText)return;push();let _0x20e319=0x23*SCALE_FACTOR,_0x107be1=warningMessageText[_0x51e1a(0x1bc)]('\x0a'),_0x109b84=0xf*SCALE_FACTOR;_0x107be1[_0x51e1a(0x26f)]>0x1&&(_0x20e319=0x32*SCALE_FACTOR);let _0x1636cd=0x118*SCALE_FACTOR,_0x52c4ce=max(0xa0*SCALE_FACTOR,(width-_0x1636cd)/0x2)-0x64*SCALE_FACTOR,_0x7870aa=height-0x41*SCALE_FACTOR-_0x20e319;rectMode(CORNER);let _0x47be40,_0x5b61b4,_0x1dc0e7,_0x58a1dd=window[_0x51e1a(0x20f)]||'normal';switch(_0x58a1dd){case _0x51e1a(0x197):_0x47be40=color(0xff,0xb4,0xb4),_0x5b61b4=color(0xe6,0x0,0x0),_0x1dc0e7=color(0xaa,0x0,0x0);break;case _0x51e1a(0x275):_0x47be40=color(0xff,0xc8,0xc8),_0x5b61b4=color(0xc8,0x1e,0x1e),_0x1dc0e7=color(0xa0,0xa,0xa);break;case _0x51e1a(0x1a8):_0x47be40=color(0xff,0xff,0xb4),_0x5b61b4=color(0xf0,0xbe,0x0),_0x1dc0e7=color(0xbe,0x82,0x0);break;case'phase_break_n':_0x47be40=color(0xff,0xdc,0xb4),_0x5b61b4=color(0xfa,0x82,0x0),_0x1dc0e7=color(0xc8,0x5a,0x0);break;case _0x51e1a(0x1c8):_0x47be40=color(0xff,0xc8,0xf0),_0x5b61b4=color(0xf0,0x3c,0x96),_0x1dc0e7=color(0xbe,0x0,0x6e);break;case _0x51e1a(0x235):_0x47be40=color(0xe6,0xe1,0xb4),_0x5b61b4=color(0xaa,0x96,0x46),_0x1dc0e7=color(0x82,0x6e,0x1e);break;case _0x51e1a(0x23b):_0x47be40=color(0xe6,0xd2,0xb4),_0x5b61b4=color(0xaa,0x82,0x50),_0x1dc0e7=color(0x82,0x5a,0x28);break;case _0x51e1a(0x1a1):_0x47be40=color(0xe6,0xc8,0xd7),_0x5b61b4=color(0xaa,0x6e,0x8c),_0x1dc0e7=color(0x82,0x46,0x64);break;case'capacitive_n':_0x47be40=color(0xb4,0xe6,0xff),_0x5b61b4=color(0x0,0xa0,0xf0),_0x1dc0e7=color(0x0,0x6e,0xbe);break;case'unbalanced_n':_0x47be40=color(0xbe,0xd2,0xff),_0x5b61b4=color(0x28,0x50,0xf0),_0x1dc0e7=color(0x14,0x28,0xb4);break;case _0x51e1a(0x1f5):_0x47be40=color(0xb4,0xff,0xb4),_0x5b61b4=color(0x0,0xbe,0x0),_0x1dc0e7=color(0x0,0x82,0x0);break;case _0x51e1a(0x1cf):_0x47be40=color(0xd2,0xe1,0xeb),_0x5b61b4=color(0x64,0x82,0x96),_0x1dc0e7=color(0x3c,0x5a,0x6e);break;case'unbalanced_no_n':_0x47be40=color(0xd2,0xd7,0xe6),_0x5b61b4=color(0x64,0x6e,0x96),_0x1dc0e7=color(0x46,0x50,0x78);break;case _0x51e1a(0x285):_0x47be40=color(0xd2,0xe6,0xd2),_0x5b61b4=color(0x64,0x8c,0x64),_0x1dc0e7=color(0x3c,0x64,0x3c);break;case'error':_0x47be40=color(0xe6,0xe6,0xe6),_0x5b61b4=color(0x78,0x78,0x78),_0x1dc0e7=color(0x3c,0x3c,0x3c);break;default:_0x47be40=color(0xf5,0xf5,0xf5),_0x5b61b4=color(0xb4,0xb4,0xb4),_0x1dc0e7=color(0x5a,0x5a,0x5a);}let _0x55f02f=!![];if(isBlinkingWarning&&_0x58a1dd===_0x51e1a(0x197)){let _0x3b5474=millis();_0x3b5474-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x3b5474),_0x55f02f=blinkState;}if(_0x55f02f){fill(_0x47be40),stroke(_0x5b61b4);let _0x72ecb7=_0x58a1dd[_0x51e1a(0x2a4)]('_n')&&!_0x58a1dd[_0x51e1a(0x1b8)](_0x51e1a(0x1c7)),_0x2b513e=_0x58a1dd[_0x51e1a(0x271)](_0x51e1a(0x1c4))?1.8:_0x58a1dd[_0x51e1a(0x1b8)](_0x51e1a(0x22c))?1.4:0x1;strokeWeight(_0x2b513e*SCALE_FACTOR);!_0x72ecb7&&!_0x58a1dd['startsWith']('sc_')&&_0x58a1dd!==_0x51e1a(0x18f)&&_0x58a1dd!=='normal'?drawingContext[_0x51e1a(0x219)]([0x5*SCALE_FACTOR,0x3*SCALE_FACTOR]):drawingContext[_0x51e1a(0x219)]([]);rect(_0x52c4ce,_0x7870aa,_0x1636cd,_0x20e319,0x6*SCALE_FACTOR),drawingContext[_0x51e1a(0x219)]([]),noStroke(),fill(_0x1dc0e7),textAlign(CENTER,CENTER),textSize(_0x109b84),_0x72ecb7=_0x58a1dd[_0x51e1a(0x2a4)]('_n')&&!_0x58a1dd['includes'](_0x51e1a(0x1c7));_0x58a1dd[_0x51e1a(0x271)](_0x51e1a(0x1c4))||_0x72ecb7?textStyle(BOLD):textStyle(NORMAL);if(_0x107be1[_0x51e1a(0x26f)]>0x1){const _0x1dddf4=_0x7870aa+_0x20e319*0.3,_0x3e19a4=_0x7870aa+_0x20e319*0.68;text(_0x107be1[0x0],_0x52c4ce+_0x1636cd/0x2,_0x1dddf4),text(_0x107be1[0x1],_0x52c4ce+_0x1636cd/0x2,_0x3e19a4);}else text(warningMessageText,_0x52c4ce+_0x1636cd/0x2,_0x7870aa+_0x20e319/0x2);textStyle(NORMAL);}pop();}function drawMessageBox(){const _0x4c8d3d=_0xe6f953;messageBox[_0x4c8d3d(0x20a)]['contains'](_0x4c8d3d(0x18d))&&(push(),fill('lightgreen'),stroke(_0x4c8d3d(0x195)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox[_0x4c8d3d(0x251)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x260c86=_0xe6f953;push(),fill(_0x260c86(0x19f)),stroke(_0x260c86(0x1a4)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x260c86(0x251)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x5de731=_0xe6f953;push(),fill('lightcyan'),stroke('blue'),strokeWeight(0x1),rectMode(CORNER);let _0xcac528=0x96*SCALE_FACTOR,_0x384ba5=height-0x49*SCALE_FACTOR,_0x1379c8=0x96*SCALE_FACTOR,_0x572831=0xf*SCALE_FACTOR;rect(_0xcac528,_0x384ba5,_0x1379c8,_0x572831,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x5de731(0x251)],_0xcac528+0x5*SCALE_FACTOR,_0x384ba5+_0x572831/0x2),pop();}function drawCalculateButton(){const _0x5bd1d9=_0xe6f953;if(isCalculateButtonVisible){push();let _0x2a9467=0x19*SCALE_FACTOR;textSize(_0x2a9467),textAlign(CENTER,CENTER);let _0x4492de=textWidth(calculateBtnTitle),_0x43abc9=0x1e*SCALE_FACTOR,_0x544d12=_0x4492de+_0x43abc9,_0x235566=0x32*SCALE_FACTOR,_0x403b90=0x5*SCALE_FACTOR,_0x494b4d=0x113*SCALE_FACTOR,_0x268bb8=height-0x32*SCALE_FACTOR+_0x235566/0x2,_0x598d87=millis();!(_0x598d87-lastButtonClickTime<BUTTON_CLICK_DELAY/0x5)&&(pressModeCalculateBtn=![]);let _0xf1451e=_0x494b4d,_0x2a9218=_0x268bb8;pressModeCalculateBtn&&(_0xf1451e+=0x1*SCALE_FACTOR,_0x2a9218+=0x2*SCALE_FACTOR),rectMode(CENTER),fill(_0x5bd1d9(0x210)),noStroke(),rect(_0xf1451e,_0x2a9218,_0x544d12,_0x235566,_0x403b90),fill(0xff),text(calculateBtnTitle,_0xf1451e,_0x2a9218),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x1b1806=_0xe6f953,_0x58a04e=findElementByLabel(_0x1b1806(0x1ff)),_0x4e42a1=findElementByLabel('SA11'),_0x3f510e=findElementByLabel(_0x1b1806(0x1dc)),_0x3bac71=findElementByLabel(_0x1b1806(0x1e8));if(!_0x58a04e||!_0x4e42a1||!_0x3f510e||!_0x3bac71)return;if(!(_0x58a04e instanceof Switch)||!(_0x4e42a1 instanceof Switch)||!(_0x3f510e instanceof Switch)||!(_0x3bac71 instanceof GroupLamp))return;const _0x460e15=_0x58a04e['isOpen'],_0x559b7d=_0x4e42a1[_0x1b1806(0x1ca)],_0x491928=_0x3f510e[_0x1b1806(0x1ca)],_0x14cadb=!_0x460e15&&!_0x559b7d&&_0x491928;if(_0x3bac71[_0x1b1806(0x27f)]!==_0x14cadb)_0x3bac71['setEnabled'](_0x14cadb);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x123822=_0xe6f953,_0x1cdcff=findElementByLabel(_0x123822(0x227)),_0x2a3978=findElementByLabel('SA21'),_0xd1d284=findElementByLabel(_0x123822(0x22e));if(!_0x1cdcff||!_0x2a3978||!_0xd1d284)return;if(!(_0x1cdcff instanceof Switch)||!(_0x2a3978 instanceof Switch)||!(_0xd1d284 instanceof GroupLamp))return;const _0x1b7612=_0x1cdcff[_0x123822(0x1ca)],_0xffd094=_0x2a3978[_0x123822(0x1ca)],_0x31cfa3=!_0x1b7612&&!_0xffd094;if(_0xd1d284[_0x123822(0x27f)]!==_0x31cfa3)_0xd1d284[_0x123822(0x21c)](_0x31cfa3);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x328140=_0xe6f953,_0x3bb6ce=findElementByLabel(_0x328140(0x2a0)),_0x5f4471=findElementByLabel(_0x328140(0x1b0)),_0x265956=findElementByLabel('HLG3');if(!_0x3bb6ce||!_0x5f4471||!_0x265956)return;if(!(_0x3bb6ce instanceof Switch)||!(_0x5f4471 instanceof Switch)||!(_0x265956 instanceof GroupLamp))return;const _0x577875=_0x3bb6ce[_0x328140(0x1ca)],_0x104ce7=_0x5f4471['isOpen'],_0x2e3487=!_0x577875&&!_0x104ce7;if(_0x265956['isEnabled']!==_0x2e3487)_0x265956[_0x328140(0x21c)](_0x2e3487);else;}function drawVisibilityToggleButton(){push();const _0x44de9c=0x226*SCALE_FACTOR,_0x573891=0x55*SCALE_FACTOR,_0x4ce5f=0x64*SCALE_FACTOR,_0x40083e=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x44de9c,_0x573891,_0x4ce5f,_0x40083e,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x4665fa=isC1CurrentlyVisible?visibilityBtnStateReturn:visibilityBtnStateNormal;text(_0x4665fa,_0x44de9c+_0x4ce5f/0x2,_0x573891+_0x40083e/0x2),pop();}function paletteElementClick(_0x28226e){const _0x378749=_0xe6f953,_0x37bb17=_0x28226e[_0x378749(0x25e)];if(!_0x37bb17)return;const _0x389646=_0x37bb17['dataset'][_0x378749(0x1a5)],_0x501db8=_0x37bb17[_0x378749(0x255)][_0x378749(0x214)],_0x1ca6e8=_0x37bb17['dataset'][_0x378749(0x1ad)],_0x46b8a8=parseInt(_0x37bb17[_0x378749(0x255)][_0x378749(0x1eb)]);if(!_0x389646||!_0x501db8||!_0x1ca6e8||isNaN(_0x46b8a8))return;canvasElementInstance=createPaletteElementInstance(_0x389646,_0x501db8,_0x1ca6e8,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x46b8a8]),paletteElementsData[_0x378749(0x27b)](_0x46b8a8,0x1);const _0x3d6f28=document[_0x378749(0x28c)]('palette');_0x3d6f28[_0x378749(0x23f)]='',createPalette();}function createPaletteElementInstance(_0x5cadcd,_0x3891e0,_0x438fc0,_0xa3940a,_0x26a1f6,_0x2ec5c6){const _0x3705ec=_0xe6f953;let _0x2efea3;const _0x55da7b=_0x2ec5c6?.[_0x3705ec(0x228)];switch(_0x5cadcd){case _0x3705ec(0x244):_0x2efea3=new Switch(_0xa3940a,_0x26a1f6,_0x3891e0);(_0x3891e0===_0x3705ec(0x1ff)||_0x3891e0==='SA11'||_0x3891e0===_0x3705ec(0x227)||_0x3891e0===_0x3705ec(0x1a7)||_0x3891e0===_0x3705ec(0x2a0)||_0x3891e0===_0x3705ec(0x1b0)||_0x3891e0===_0x3705ec(0x1a2))&&(_0x2efea3['isOpen']=![]);_0x3891e0===_0x3705ec(0x1a2)&&(_0x2efea3['forward_direction']=![]);break;case'CustomAmmeter':_0x2efea3=new CustomAmmeter(_0xa3940a,_0x26a1f6,_0x3891e0);break;case _0x3705ec(0x220):_0x2efea3=new Induction(_0xa3940a,_0x26a1f6,_0x3891e0);break;case _0x3705ec(0x21b):_0x2efea3=new Capacity(_0xa3940a,_0x26a1f6,_0x3891e0);break;case _0x3705ec(0x19b):_0x2efea3=new GroupLamp(_0xa3940a,_0x26a1f6,_0x3891e0,_0x55da7b);break;default:return null;}return _0x2efea3[_0x3705ec(0x26c)]=parseInt(_0x438fc0),_0x2efea3['placedElementData']=_0x2ec5c6,_0x2efea3;}function generateNewData(){const _0x4ec38a=_0xe6f953,_0x33dcbc=[];for(let _0x1caa17=0x5;_0x1caa17<=0x32;_0x1caa17+=0x5){_0x33dcbc[_0x4ec38a(0x218)](_0x1caa17);}const _0xb29217=[];for(let _0x3c068c=0x78;_0x3c068c<=0x9b;_0x3c068c+=0x5){_0xb29217[_0x4ec38a(0x218)](_0x3c068c);}let _0x541b3b=_0x33dcbc[Math[_0x4ec38a(0x1b5)](Math[_0x4ec38a(0x19a)]()*_0x33dcbc[_0x4ec38a(0x26f)])],_0x423e56=_0xb29217[Math[_0x4ec38a(0x1b5)](Math[_0x4ec38a(0x19a)]()*_0xb29217[_0x4ec38a(0x26f)])],_0x2b32f4={'C1':findElementByLabel('C1')};_0x2b32f4['C1']['capacity']=String(_0x541b3b),U_phase_mag=String(_0x423e56),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x203bd3=_0xe6f953;if(isShortCircuitPopupVisible){mouseX>=popupCloseButton[_0x203bd3(0x1fb)]&&mouseX<=popupCloseButton['hitX']+popupCloseButton[_0x203bd3(0x1cc)]&&mouseY>=popupCloseButton[_0x203bd3(0x1ec)]&&mouseY<=popupCloseButton['hitY']+popupCloseButton[_0x203bd3(0x226)]&&(isShortCircuitPopupVisible=![],redraw());return;}const _0x26a7ad=0x226*SCALE_FACTOR,_0xc25cdd=0x55*SCALE_FACTOR,_0x26ca1f=0x64*SCALE_FACTOR,_0x46f3da=0x3c*SCALE_FACTOR;if(mouseX>_0x26a7ad&&mouseX<_0x26a7ad+_0x26ca1f&&mouseY>_0xc25cdd&&mouseY<_0xc25cdd+_0x46f3da){if(isTogglingVisibility)return;isTogglingVisibility=!![],isC1CurrentlyVisible=!isC1CurrentlyVisible;const _0x3832ad=findElementByLabel('C1'),_0x3d3cec=findElementByLabel(_0x203bd3(0x1e8));if(_0x3832ad instanceof Capacity&&_0x3d3cec instanceof GroupLamp)_0x3832ad['setVisibility'](isC1CurrentlyVisible),_0x3d3cec['setVisibility'](!isC1CurrentlyVisible),_0x3d3cec[_0x203bd3(0x1d8)](),calculateCircuit();else;redraw(),clearTimeout(visibilityToggleTimer),visibilityToggleTimer=setTimeout(()=>{isTogglingVisibility=![];},VISIBILITY_TOGGLE_DELAY);return;}if(isCalculateButtonVisible){let _0x26019f=millis();if(!(_0x26019f-lastButtonClickTime<BUTTON_CLICK_DELAY)){const _0xb8efc2=calculateBtnTitle,_0x57ccc7=0x19*SCALE_FACTOR,_0x1a1bf0=0x32*SCALE_FACTOR,_0x4d18d7=0x14*SCALE_FACTOR;textSize(_0x57ccc7);const _0x11beea=textWidth(_0xb8efc2),_0xe13f85=_0x11beea+_0x4d18d7*0x2;let _0x4494a2=0x96*SCALE_FACTOR;const _0x6de54c=height-_0x1a1bf0;if(mouseX>_0x4494a2&&mouseX<_0x4494a2+_0xe13f85&&mouseY>_0x6de54c&&mouseY<_0x6de54c+_0x1a1bf0){pressModeCalculateBtn=!![],lastButtonClickTime=_0x26019f,generateNewData();return;}}else;}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x279a33=null,_0x5ce919=-0x1;for(let _0x551831=elements[_0x203bd3(0x26f)]-0x1;_0x551831>=0x0;_0x551831--){let _0x518ee0=elements[_0x551831];if(_0x518ee0 instanceof GroupLamp&&!_0x518ee0[_0x203bd3(0x1e3)]||_0x518ee0 instanceof Capacity&&!_0x518ee0[_0x203bd3(0x1e3)])continue;if(_0x518ee0 instanceof GroupLamp){_0x5ce919=_0x518ee0[_0x203bd3(0x283)](mouseX,mouseY);if(_0x5ce919!==-0x1){_0x279a33=_0x518ee0;break;}}}if(_0x279a33===null)for(let _0x247904=elements[_0x203bd3(0x26f)]-0x1;_0x247904>=0x0;_0x247904--){let _0x399e14=elements[_0x247904];if(_0x399e14 instanceof GroupLamp&&!_0x399e14[_0x203bd3(0x1e3)]||_0x399e14 instanceof Capacity&&!_0x399e14['isVisible'])continue;if(_0x399e14 instanceof StaticTextDisplay)continue;let _0x11613c=![];if(typeof _0x399e14['r']!==_0x203bd3(0x1d7)&&!(_0x399e14 instanceof GroupLamp))dist(mouseX,mouseY,_0x399e14['x'],_0x399e14['y'])<_0x399e14['r']&&(_0x11613c=!![]);else{if(typeof _0x399e14['w']!==_0x203bd3(0x1d7)&&typeof _0x399e14['h']!==_0x203bd3(0x1d7)){push(),translate(_0x399e14['x'],_0x399e14['y']);let _0x599251=0x0;switch(_0x399e14['orientation']){case 0x2:_0x599251=PI/0x2;break;case 0x3:_0x599251=PI;break;case 0x4:_0x599251=0x3*PI/0x2;break;}let _0x418182=mouseX-_0x399e14['x'],_0x256c56=mouseY-_0x399e14['y'],_0x51a2c0=_0x418182*cos(-_0x599251)-_0x256c56*sin(-_0x599251),_0x2f4b82=_0x418182*sin(-_0x599251)+_0x256c56*cos(-_0x599251);abs(_0x51a2c0)<_0x399e14['w']/0x2&&abs(_0x2f4b82)<_0x399e14['h']/0x2&&(_0x11613c=!![]),pop();}}if(_0x11613c){_0x279a33=_0x399e14;break;}}if(_0x279a33){let _0x4cef1a=millis(),_0x5a6aea=_0x4cef1a-lastMousePressTime>DOUBLE_CLICK_THRESHOLD,_0xe1da83=_0x279a33[_0x203bd3(0x21a)]&&_0x279a33[_0x203bd3(0x21a)]['isFixed'],_0x1db7c5=![],_0x35aff3=![];if(_0x279a33 instanceof GroupLamp&&_0x5ce919!==-0x1)_0x279a33['toggleState'](_0x5ce919),_0x1db7c5=!![],_0x35aff3=!![];else{if(_0x279a33 instanceof Switch&&isCalculateButtonVisible){if(_0x4cef1a-_0x279a33['lastToggleTime']>SWITCH_TOGGLE_DELAY){_0x279a33[_0x203bd3(0x2a5)](),_0x279a33[_0x203bd3(0x1cd)]=_0x4cef1a,draggedElement=null;return;}else{draggedElement=null;return;}}else{if(_0x5a6aea){_0x1db7c5=!![],_0x35aff3=!![];if(_0x279a33 instanceof Capacity){if(_0x279a33[_0x203bd3(0x1e3)]){let _0xd93fe4=prompt(enterCapacityPrompt+_0x279a33['label']+':',_0x279a33[_0x203bd3(0x1d9)]||'10');_0xd93fe4!==null&&!isNaN(parseFloat(_0xd93fe4))&&(_0x279a33[_0x203bd3(0x1d9)]=_0xd93fe4,calculateCircuit());}}else{if(_0x279a33 instanceof Induction){if(_0x279a33['isVisible']){let _0x2396fc=prompt(_0x203bd3(0x248)+_0x279a33['label']+':',_0x279a33[_0x203bd3(0x1d9)]||'50');_0x2396fc!==null&&!isNaN(parseFloat(_0x2396fc))&&(_0x279a33[_0x203bd3(0x24a)]=_0x2396fc);}}}}}}_0xe1da83&&(_0x35aff3=!![]),!_0x35aff3&&(draggedElement=_0x279a33,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x4cef1a;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x203bd3(0x218)](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else{draggedElement=null;if(canvasElementInstance){const _0x31fb2f=canvasElementInstance[_0x203bd3(0x21a)];if(_0x31fb2f){}canvasElementInstance=null,redraw();}}}function mouseDragged(){const _0x1979fd=_0xe6f953;if(isShortCircuitPopupVisible)return;let _0x5b511c=canvasElementInstance||draggedElement;if(_0x5b511c){let _0xa65395=mouseX-dragOffsetX,_0x230232=mouseY-dragOffsetY,_0xb99a09=0x1e*SCALE_FACTOR,_0x29b978=_0xb99a09,_0x2c6792=_0xb99a09,_0x518678=width-_0xb99a09,_0x32e922=height-_0xb99a09;_0x5b511c['x']=constrain(_0xa65395,_0x29b978,_0x518678),_0x5b511c['y']=constrain(_0x230232,_0x2c6792,_0x32e922);if(_0x5b511c[_0x1979fd(0x21a)]&&_0x5b511c[_0x1979fd(0x21a)][_0x1979fd(0x223)]!==undefined){let _0x39ee9e=dist(_0x5b511c['x'],_0x5b511c['y'],_0x5b511c['placedElementData'][_0x1979fd(0x223)],_0x5b511c[_0x1979fd(0x21a)][_0x1979fd(0x207)]),_0x5ba6b8=Math[_0x1979fd(0x21e)](0x0,Math[_0x1979fd(0x1aa)](_0x39ee9e-SNAP_DISTANCE));distanceBox['textContent']=distanceToTargetLabel+('\x20'+_0x5ba6b8)+pixelsUnit;}else distanceBox[_0x1979fd(0x251)]=targetNotFound;redraw();}}function mouseReleased(){const _0x2695d2=_0xe6f953;if(isShortCircuitPopupVisible){draggedElement=null,canvasElementInstance=null;return;}let _0x51619b=null,_0x532e57;if(canvasElementInstance)elements['push'](canvasElementInstance),_0x51619b=canvasElementInstance[_0x2695d2(0x21a)],_0x51619b&&(_0x532e57=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x51619b[_0x2695d2(0x223)],_0x51619b[_0x2695d2(0x207)]),_0x532e57<=SNAP_DISTANCE&&!_0x51619b['placed']&&(canvasElementInstance['x']=_0x51619b[_0x2695d2(0x223)],canvasElementInstance['y']=_0x51619b[_0x2695d2(0x207)],_0x51619b[_0x2695d2(0x22f)]=!![],elementsPlacedCount++,_0x51619b['isFixed']=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x51619b=draggedElement[_0x2695d2(0x21a)],_0x532e57=_0x51619b?dist(draggedElement['x'],draggedElement['y'],_0x51619b[_0x2695d2(0x223)],_0x51619b[_0x2695d2(0x207)]):undefined;if(_0x51619b){if(_0x532e57<=SNAP_DISTANCE&&!_0x51619b['placed'])!_0x51619b[_0x2695d2(0x22f)]&&(draggedElement['x']=_0x51619b[_0x2695d2(0x223)],draggedElement['y']=_0x51619b[_0x2695d2(0x207)],_0x51619b[_0x2695d2(0x22f)]=!![],elementsPlacedCount++,_0x51619b['isFixed']=!![]);else _0x51619b[_0x2695d2(0x22f)]&&(!(draggedElement instanceof Switch)&&(_0x51619b[_0x2695d2(0x22f)]=![],elementsPlacedCount--,_0x51619b[_0x2695d2(0x221)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x2695d2(0x251)]='',redraw();}function updateCounterDisplay(){const _0x37d5c9=_0xe6f953;counterBox[_0x37d5c9(0x251)]=elementsToPlaceLabel+('\x20'+(elementsToPlaceCount-elementsPlacedCount));if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox[_0x37d5c9(0x251)]=circuitAssembled,isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0x1dc98f=findElementByLabel('C1'),_0x330ae2=findElementByLabel(_0x37d5c9(0x1e8));_0x1dc98f instanceof Capacity&&_0x330ae2 instanceof GroupLamp&&(_0x1dc98f['setVisibility'](isC1CurrentlyVisible),_0x330ae2['setVisibility'](!isC1CurrentlyVisible),_0x330ae2['calculateTotalPower']()),calculateCircuit();}else{isCalculateButtonVisible=![];const _0xae36b8=findElementByLabel('HLG1');_0xae36b8 instanceof GroupLamp&&_0xae36b8[_0x37d5c9(0x21c)](![]);}redraw();}function showCorrectMessage(){const _0x137eff=_0xe6f953;messageBox[_0x137eff(0x251)]=_0x137eff(0x196),messageBox['classList'][_0x137eff(0x2ae)](_0x137eff(0x18d)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0xb7a57a=_0x137eff;messageBox[_0xb7a57a(0x20a)]['remove'](_0xb7a57a(0x18d));},0x7d0);}function polarToRect(_0x159575,_0x98dda3){const _0x93e823=_0xe6f953,_0x509a54=_0x98dda3*Math['PI']/0xb4;return{'re':_0x159575*Math[_0x93e823(0x279)](_0x509a54),'im':_0x159575*Math[_0x93e823(0x29d)](_0x509a54)};}function rectToPolar(_0x5a356b,_0x170bc3){const _0xdaef8e=_0xe6f953,_0x5c060c=Math[_0xdaef8e(0x276)](_0x5a356b*_0x5a356b+_0x170bc3*_0x170bc3);let _0x3eeec4=Math[_0xdaef8e(0x212)](_0x170bc3,_0x5a356b),_0x58ba28=_0x3eeec4*0xb4/Math['PI'];const _0x563013={};return _0x563013['mag']=_0x5c060c,_0x563013['ang']=_0x58ba28,_0x563013;}function addPhasors(_0x585613,_0x1ce8f9){const _0x29d8ee={};return _0x29d8ee['re']=_0x585613['re']+_0x1ce8f9['re'],_0x29d8ee['im']=_0x585613['im']+_0x1ce8f9['im'],_0x29d8ee;}function subtractPhasors(_0x332836,_0x4208ad){const _0x176e53={};return _0x176e53['re']=_0x332836['re']-_0x4208ad['re'],_0x176e53['im']=_0x332836['im']-_0x4208ad['im'],_0x176e53;}function multiplyPhasors(_0xfb8534,_0x1ed103){const _0x2f54c8={};return _0x2f54c8['re']=_0xfb8534['re']*_0x1ed103['re']-_0xfb8534['im']*_0x1ed103['im'],_0x2f54c8['im']=_0xfb8534['re']*_0x1ed103['im']+_0xfb8534['im']*_0x1ed103['re'],_0x2f54c8;}function dividePhasors(_0x2e5f76,_0x53a9b3){const _0x120daf=_0xe6f953,_0xb7b174=_0x53a9b3['re']*_0x53a9b3['re']+_0x53a9b3['im']*_0x53a9b3['im'];if(Math[_0x120daf(0x1b6)](_0xb7b174)<1e-9){const _0x27039b={};return _0x27039b['re']=Infinity,_0x27039b['im']=Infinity,_0x27039b;}const _0x551751={};return _0x551751['re']=(_0x2e5f76['re']*_0x53a9b3['re']+_0x2e5f76['im']*_0x53a9b3['im'])/_0xb7b174,_0x551751['im']=(_0x2e5f76['im']*_0x53a9b3['re']-_0x2e5f76['re']*_0x53a9b3['im'])/_0xb7b174,_0x551751;}function _0x5224(){const _0x2cd5fd=['SA31','offsetX','voltagePrefixUbc','paletteHeading','voltageInitialText','floor','abs','In\x20=\x20','includes','strokeWeight','lampSpacing','0.0\x20В','split','label','voltageErrorText','7455990Drjexr','neutralStatusDisconnected','textAlign','_no_n','currentPrefixA','sc_','targetNotFound','Error','no_n','combo_break_n','Ємнісне\x20навантаження.','isOpen','Balanced\x20load.','hitW','lastToggleTime','9TYaTEP','capacitive_no_n','Помилка:\x20Елемент\x20не\x20знайдено','69neGNyx','microFaradUnit','neutralDisconnectedWarning','Circuit\x20assembled!','УВАГА!\x20Режим\x20короткого\x20замикання!\x0a\x0aСимулюється\x20небезпечний\x20аварійний\x20режим\x20короткого\x20замикання\x20в\x20фазі\x20А\x20при\x20підключеному\x20нейтральному\x20проводі!!!\x20В\x20реальних\x20умовах\x20це\x20призвело\x20б\x20до\x20спрацювання\x20апаратури\x20захисту\x20або\x20пошкодження\x20обладнання.\x0a\x0a\x20Використання\x20даного\x20режиму\x20для\x20проведення\x20дослідів\x20можливе\x20тільки\x20у\x20випадку\x20відключеної\x20нейтралі.\x0a\x0aНатисніть\x20ОК\x20для\x20продовження\x20симуляції\x20цього\x20режиму.','HLG3','undefined','calculateTotalPower','capacity','lampRadius','circuitAssembled','SA12','Unbalanced\x20load.','now','offsetY','PA4','voltageDrop','calculationDisplayValue','isVisible','Повернути\x20\x0a\x20навантаження','0.0\x20V','15uuGRwe','click','HLG1','SA11','---','paletteIndex','hitY','\x20мкФ','253','>9999\x20A','Ia\x20=\x20','\x20px','2581425ErtkYY','pixelsUnit','DOMContentLoaded','balanced_n','\x20мГн','createElement','Phase\x20wire\x20break!','currentPrefixN','filter','hitX','9539IFUiDa','Restore\x20\x0a\x20load','line_break','SA1','WARNING!\x20Short\x20circuit\x20mode!\x0a\x0aA\x20dangerous\x20emergency\x20short\x20circuit\x20mode\x20in\x20phase\x20A\x20with\x20the\x20neutral\x20wire\x20connected\x20is\x20being\x20simulated!!!\x20Under\x20real\x20conditions,\x20this\x20would\x20lead\x20to\x20the\x20tripping\x20of\x20protective\x20equipment\x20or\x20damage\x20to\x20the\x20equipment.\x0a\x0aUsing\x20this\x20mode\x20for\x20experiments\x20is\x20only\x20possible\x20if\x20the\x20neutral\x20is\x20disconnected.\x0a\x0aPress\x20OK\x20to\x20continue\x20simulating\x20this\x20mode.','fill','contains','clear','9999','\x20μF','language','targetY','toLowerCase','Uca\x20=','classList','toFixed','enterCapacityPrompt','display','find','currentWarningType','#4CAF50','distanceToTargetLabel','atan2','Елементи\x20схеми','elementLabel','lamps','capacitiveLoadInfo','levels','push','setLineDash','placedElementData','Capacity','setEnabled','div','max','Enter\x20capacitance\x20for\x20','Induction','isFixed','animationTime','targetX','appendChild','Обрив\x20лінійного\x20проводу!','hitH','SA2','powerPerLamp','Коротке\x20замикання\x20в\x20фазі\x20А\x20!!!','boolean','Short\x20circuit\x20in\x20phase\x20A\x20!!!','break','Дослідні\x20дані','HLG2','placed','Нейтраль\x20підключено.','mag','balancedLoadInfo','>9999\x20А','forward_direction','line_break_no_n','rotationAngle','PA2','voltagePrefixUab','setText','combo_break','phase_break_no_n','glowIntensity','isTogglingLamp','normal','innerHTML','ampereUnit','Uc\x20=','Line\x20and\x20phase\x20wire\x20break!','Circuit\x20Elements','Switch','text','rect','unbalanced_no_n','Enter\x20Induction\x20','1910274sxBQXV','induction','unbalancedLoadWarning','Ub\x20=\x20','_previousLampStates','Ib\x20=\x20','voltagePrefixUca','wattUnit','textContent','Ubc\x20=\x20','Відстань\x20до\x20точки:','displayPalette','dataset','#f5f5f5','valueNotAvailable','milliHenryUnit','phase_break','simulationLang','shortCircuitNoNeutralWarning','voltagePrefixUa','isActive','currentTarget','lineAndPhaseWireBreak','elementsToPlaceLabel','addEventListener','neutralStatusConnected','canvas','Переключити\x20на\x20\x0a\x20конденсатор','phaseWireBreak','palette-heading','test','title','Neutral\x20connected.','switchAngle','textSize','orientation','stroke','Uab\x20=\x20','length','lightgray','startsWith','Несиметричне\x20навантаження.','CustomAmmeter','Обрив\x20фазного\x20проводу!','sc_no_modal','sqrt','unbalanced_n','postDisplay','cos','type','splice','126476HOCbBN','lineWireBreak','shortCircuitWarningA','isEnabled','>9999','setVisibility','Uca\x20=\x20','getClickedLampIndex','3579121JtEkOq','balanced_no_n','Neutral\x20wire\x20disconnectedǃǃ','PA3','shortCircuitConfirmation','isDragging','numLamps','Схему\x20зібрано!','getElementById','voltUnit','arc','Switch\x20to\x20\x0a\x20capacitor','total_power','calculateBtnTitle','Error:\x20Element\x20not\x20found','Нейтраль\x20відключено.','capacitive_n','Симетричне\x20навантаження.','palette','currentPrefixC','voltagePrefixUb','PA1','noStroke','noFill','Ua\x20=','sin','Ic\x20=\x20','line','SA3','calculationError','toggleTimer','0.00','endsWith','toggleState','forEach','Line\x20wire\x20break!','errorElementNotFound','22xjqGrV','Ubc\x20=','voltagePrefixUc','palette-element','Ub\x20=','add','copy','Elements\x20left\x20to\x20place:','show','Uc\x20=\x20','error','Введіть\x20ємність\x20для\x20','string','Uab\x20=','visibilityBtnStateReturn','\x20mH','green','Correctly\x20placed!','sc_modal','Лабораторна\x20робота:\x20Симетричне\x20та\x20несиметричне\x20трифазне\x20коло\x20з\x27єднане\x20зіркою\x20з\x20нейтраллю','getItem','random','GroupLamp','Distance\x20to\x20target:','visibilityBtnStateNormal','circle','lightyellow','440','combo_break_no_n','SA4','remove','orange','elementType','Lab\x20Simulation:\x20Balanced\x20and\x20Unbalanced\x20Y-Connected\x20Circuit\x20with\x20Neutral','SA21','line_break_n','Нейтральний\x20провід\x20відімкнутоǃǃ','round','567632Kwkhxa','shortCircuitAbbreviation','elementOrientation','update','bottom'];_0x5224=function(){return _0x2cd5fd;};return _0x5224();}function invertPhasorRect(_0x59f75){const _0x24ba62=_0x59f75['re']*_0x59f75['re']+_0x59f75['im']*_0x59f75['im'];if(Math['abs'](_0x24ba62)<1e-9){const _0x8bd17={};return _0x8bd17['re']=Infinity,_0x8bd17['im']=Infinity,_0x8bd17;}const _0x3bf398={};return _0x3bf398['re']=_0x59f75['re']/_0x24ba62,_0x3bf398['im']=-_0x59f75['im']/_0x24ba62,_0x3bf398;}function calculateCircuit(){const _0x4ce747=_0xe6f953;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){warningMessageText=null,isBlinkingWarning=![],isShortCircuitPopupVisible=![],hideCalculationValues();const _0x13de81=findElementByLabel(_0x4ce747(0x192)),_0x3fdda5=findElementByLabel(_0x4ce747(0x2aa)),_0x119872=findElementByLabel(_0x4ce747(0x209)),_0x2f1b2b=findElementByLabel(_0x4ce747(0x29c)),_0x137bde=findElementByLabel('Ub\x20='),_0x2c1cb9=findElementByLabel(_0x4ce747(0x241));if(_0x13de81)_0x13de81[_0x4ce747(0x239)](voltagePrefixUab+voltageInitialText);if(_0x3fdda5)_0x3fdda5[_0x4ce747(0x239)](voltagePrefixUbc+voltageInitialText);if(_0x119872)_0x119872['setText'](voltagePrefixUca+voltageInitialText);if(_0x2f1b2b)_0x2f1b2b['setText'](voltagePrefixUa+voltageInitialText);if(_0x137bde)_0x137bde['setText'](voltagePrefixUb+voltageInitialText);if(_0x2c1cb9)_0x2c1cb9[_0x4ce747(0x239)](voltagePrefixUc+voltageInitialText);const _0x10e1c1=findElementByLabel(_0x4ce747(0x299)),_0x561fe6=findElementByLabel(_0x4ce747(0x237)),_0x409f8c=findElementByLabel(_0x4ce747(0x287)),_0x432670=findElementByLabel(_0x4ce747(0x1e0)),_0x46951e=valueNotAvailable+ampereUnit;if(_0x10e1c1)displayCalculationValue(_0x10e1c1,currentPrefixA+_0x46951e,_0x4ce747(0x1af));if(_0x561fe6)displayCalculationValue(_0x561fe6,currentPrefixB+_0x46951e,_0x4ce747(0x1af));if(_0x409f8c)displayCalculationValue(_0x409f8c,currentPrefixC+_0x46951e,_0x4ce747(0x1af));if(_0x432670)displayCalculationValue(_0x432670,currentPrefixN+_0x46951e,_0x4ce747(0x1af));window[_0x4ce747(0x20f)]='normal',redraw();return;}const _0x764e58=0xe6,_0x4372e8=0x32,_0x58fe63=0x2*Math['PI']*_0x4372e8,_0x1d589f=0xe6,_0x4de5a9=parseFloat(U_phase_mag)||_0x1d589f/Math['sqrt'](0x3),_0x5c3fc5=polarToRect(_0x4de5a9,0x0),_0x428bf4=polarToRect(_0x4de5a9,-0x78),_0x4a5548=polarToRect(_0x4de5a9,0x78),_0xdfbb5=findElementByLabel(_0x4ce747(0x1e8)),_0x59d171=findElementByLabel(_0x4ce747(0x22e)),_0x180264=findElementByLabel(_0x4ce747(0x1d6)),_0x780463=findElementByLabel('C1'),_0x2b365d=findElementByLabel(_0x4ce747(0x1ff)),_0x257513=findElementByLabel(_0x4ce747(0x227)),_0x5ee51b=findElementByLabel(_0x4ce747(0x2a0)),_0xb48ce2=findElementByLabel(_0x4ce747(0x1e9)),_0x1a8eaa=findElementByLabel(_0x4ce747(0x1dc)),_0x598a0c=findElementByLabel(_0x4ce747(0x1a7)),_0x3391e5=findElementByLabel(_0x4ce747(0x1b0)),_0x1a9441=findElementByLabel(_0x4ce747(0x1a2)),_0x4393e6=findElementByLabel(_0x4ce747(0x299)),_0x2d325e=findElementByLabel(_0x4ce747(0x237)),_0xb870d0=findElementByLabel(_0x4ce747(0x287)),_0x98ff4d=findElementByLabel(_0x4ce747(0x1e0)),_0x4d8d02=findElementByLabel('Uab\x20='),_0x17f3cc=findElementByLabel(_0x4ce747(0x2aa)),_0x1de0f8=findElementByLabel(_0x4ce747(0x209)),_0x37f0e9=findElementByLabel(_0x4ce747(0x29c)),_0x3f0ed2=findElementByLabel(_0x4ce747(0x2ad)),_0x46dde4=findElementByLabel('Uc\x20=');if(!_0xdfbb5||!_0x59d171||!_0x180264||!_0x780463||!_0x2b365d||!_0x257513||!_0x5ee51b||!_0xb48ce2||!_0x1a8eaa||!_0x598a0c||!_0x3391e5||!_0x1a9441||!_0x4393e6||!_0x2d325e||!_0xb870d0||!_0x98ff4d||!_0x4d8d02||!_0x17f3cc||!_0x1de0f8||!_0x37f0e9||!_0x3f0ed2||!_0x46dde4){warningMessageText=errorElementNotFound,isBlinkingWarning=!![],isShortCircuitPopupVisible=![],hideCalculationValues();if(_0x4d8d02)_0x4d8d02['setText'](voltagePrefixUab+voltageErrorText);if(_0x4393e6)displayCalculationValue(_0x4393e6,currentPrefixA+calculationError,_0x4ce747(0x1af));window[_0x4ce747(0x20f)]='error',redraw();return;}hideCalculationValues();const _0x440e7e={};_0x440e7e['re']=Infinity,_0x440e7e['im']=0x0;let _0x2e499d=_0x440e7e;const _0x3d96cc={};_0x3d96cc['re']=Infinity,_0x3d96cc['im']=0x0;let _0x14ebc8=_0x3d96cc;const _0x333d37={};_0x333d37['re']=Infinity,_0x333d37['im']=0x0;let _0xa86f76=_0x333d37;const _0x2f9513=0.01,_0x128b41=_0x10b85a=>{const _0x24b7e2=_0x4ce747;if(!_0x10b85a||!_0x10b85a[_0x24b7e2(0x1e3)]||!_0x10b85a[_0x24b7e2(0x27f)])return Infinity;const _0x32a44e=_0x10b85a[_0x24b7e2(0x228)];if(_0x32a44e<=0x0)return Infinity;let _0x136798=0x0;for(const _0x472158 of _0x10b85a[_0x24b7e2(0x215)]){if(_0x472158[_0x24b7e2(0x25d)])_0x136798++;}if(_0x136798===0x0)return Infinity;const _0x5e1a12=_0x764e58*_0x764e58/_0x32a44e;return _0x5e1a12/_0x136798;},_0x5120f7=!_0xb48ce2[_0x4ce747(0x1ca)],_0x3dc1ee=!_0x598a0c[_0x4ce747(0x1ca)],_0x89dafe=!_0x3391e5[_0x4ce747(0x1ca)],_0x1daa26=!_0x1a8eaa[_0x4ce747(0x1ca)];if(_0x5120f7){if(_0x1daa26){const _0x4f51f5={};_0x4f51f5['re']=_0x2f9513,_0x4f51f5['im']=0x0,_0x2e499d=_0x4f51f5;if(_0xdfbb5[_0x4ce747(0x27f)])_0xdfbb5[_0x4ce747(0x21c)](![]);}else{const _0x3bbaa1=_0x128b41(_0xdfbb5);if(_0xdfbb5['isVisible']&&_0xdfbb5[_0x4ce747(0x27f)]&&_0x3bbaa1!==Infinity){const _0x32cef2={};_0x32cef2['re']=_0x3bbaa1,_0x32cef2['im']=0x0,_0x2e499d=_0x32cef2;}else{if(_0x780463[_0x4ce747(0x1e3)]){const _0x1a2b7b=parseFloat(_0x780463[_0x4ce747(0x1d9)])/0xf4240;if(_0x1a2b7b>0x0&&_0x58fe63>0x0){const _0x219be3={};_0x219be3['re']=0x0,_0x219be3['im']=-0x1/(_0x58fe63*_0x1a2b7b),_0x2e499d=_0x219be3;}else{const _0x13a779={};_0x13a779['re']=Infinity,_0x13a779['im']=0x0,_0x2e499d=_0x13a779;}}else{const _0x24ef8e={};_0x24ef8e['re']=Infinity,_0x24ef8e['im']=0x0,_0x2e499d=_0x24ef8e;}}!_0xdfbb5[_0x4ce747(0x27f)]&&!_0x1daa26&&updateHlg1StateBasedOnSA1AndSA11();}}else{const _0x53c037={};_0x53c037['re']=Infinity,_0x53c037['im']=0x0,_0x2e499d=_0x53c037;if(_0xdfbb5['isEnabled'])_0xdfbb5[_0x4ce747(0x21c)](![]);}if(_0x3dc1ee){const _0x2f4107=_0x128b41(_0x59d171);if(_0x59d171['isVisible']&&_0x59d171[_0x4ce747(0x27f)]&&_0x2f4107!==Infinity){const _0x2ceb37={};_0x2ceb37['re']=_0x2f4107,_0x2ceb37['im']=0x0,_0x14ebc8=_0x2ceb37;}else{const _0xe37f3d={};_0xe37f3d['re']=Infinity,_0xe37f3d['im']=0x0,_0x14ebc8=_0xe37f3d;}!_0x59d171[_0x4ce747(0x27f)]&&updateHLG2StateBasedOnSA2AndSA21();}else{const _0x488637={};_0x488637['re']=Infinity,_0x488637['im']=0x0,_0x14ebc8=_0x488637;if(_0x59d171[_0x4ce747(0x27f)])_0x59d171[_0x4ce747(0x21c)](![]);}if(_0x89dafe){const _0x2c162b=_0x128b41(_0x180264);if(_0x180264[_0x4ce747(0x1e3)]&&_0x180264[_0x4ce747(0x27f)]&&_0x2c162b!==Infinity){const _0x106525={};_0x106525['re']=_0x2c162b,_0x106525['im']=0x0,_0xa86f76=_0x106525;}else{const _0x7738f5={};_0x7738f5['re']=Infinity,_0x7738f5['im']=0x0,_0xa86f76=_0x7738f5;}!_0x180264['isEnabled']&&updateHLG3StateBasedOnSA3AndSA31();}else{const _0x5bf3c2={};_0x5bf3c2['re']=Infinity,_0x5bf3c2['im']=0x0,_0xa86f76=_0x5bf3c2;if(_0x180264[_0x4ce747(0x27f)])_0x180264[_0x4ce747(0x21c)](![]);}const _0x38f807={};_0x38f807['re']=0x0,_0x38f807['im']=0x0;let _0x341b01=_0x38f807;const _0x4ae251={};_0x4ae251['re']=0x0,_0x4ae251['im']=0x0;let _0x240cc4=_0x4ae251;const _0x1c912={};_0x1c912['re']=0x0,_0x1c912['im']=0x0;let _0x3aac5a=_0x1c912;const _0x3ae49b={};_0x3ae49b['re']=0x0,_0x3ae49b['im']=0x0;let _0x4a1fb7=_0x3ae49b;const _0x5c8bc5={};_0x5c8bc5['re']=0x0,_0x5c8bc5['im']=0x0;let _0x2d28bd=_0x5c8bc5;const _0x1669ec={};_0x1669ec['re']=0x0,_0x1669ec['im']=0x0;let _0x326bc0=_0x1669ec;const _0x53018f={};_0x53018f['re']=0x0,_0x53018f['im']=0x0;let _0x15dd9a=_0x53018f;const _0x2f3f01=!_0x2b365d['isOpen'],_0x8ff0a5=!_0x257513['isOpen'],_0x555e6e=!_0x5ee51b[_0x4ce747(0x1ca)],_0x1744e2=!_0x1a9441[_0x4ce747(0x1ca)],_0xea5763={};_0xea5763['re']=0x0,_0xea5763['im']=0x0;const _0x396eb7=_0x2e499d['re']!==Infinity||_0x2e499d['im']!==0x0?invertPhasorRect(_0x2e499d):_0xea5763,_0x45fe58={};_0x45fe58['re']=0x0,_0x45fe58['im']=0x0;const _0x51dec3=_0x14ebc8['re']!==Infinity||_0x14ebc8['im']!==0x0?invertPhasorRect(_0x14ebc8):_0x45fe58,_0x4fa6b4={};_0x4fa6b4['re']=0x0,_0x4fa6b4['im']=0x0;const _0x2b5845=_0xa86f76['re']!==Infinity||_0xa86f76['im']!==0x0?invertPhasorRect(_0xa86f76):_0x4fa6b4,_0x5f02d0={};_0x5f02d0['re']=0x0,_0x5f02d0['im']=0x0;let _0x575419=_0x5f02d0;if(!_0x1744e2){const _0x42b575={};_0x42b575['re']=0x0,_0x42b575['im']=0x0;const _0x2feb01=_0x2f3f01?_0x396eb7:_0x42b575,_0xb48a30={};_0xb48a30['re']=0x0,_0xb48a30['im']=0x0;const _0x25ade4=_0x8ff0a5?_0x51dec3:_0xb48a30,_0x14de46={};_0x14de46['re']=0x0,_0x14de46['im']=0x0;const _0x13cafa=_0x555e6e?_0x2b5845:_0x14de46,_0xf879cb=addPhasors(_0x2feb01,addPhasors(_0x25ade4,_0x13cafa));if(Math[_0x4ce747(0x1b6)](_0xf879cb['re'])>1e-9||Math['abs'](_0xf879cb['im'])>1e-9){const _0x5f3a53={};_0x5f3a53['re']=0x0,_0x5f3a53['im']=0x0;const _0x4aafe6=_0x2f3f01?_0x5c3fc5:_0x5f3a53,_0x1761c3={};_0x1761c3['re']=0x0,_0x1761c3['im']=0x0;const _0x263490=_0x8ff0a5?_0x428bf4:_0x1761c3,_0x55c174={};_0x55c174['re']=0x0,_0x55c174['im']=0x0;const _0x35a14f=_0x555e6e?_0x4a5548:_0x55c174,_0x28f474=multiplyPhasors(_0x4aafe6,_0x2feb01),_0x4c8ac6=multiplyPhasors(_0x263490,_0x25ade4),_0x156f1f=multiplyPhasors(_0x35a14f,_0x13cafa),_0xfd4048=addPhasors(_0x28f474,addPhasors(_0x4c8ac6,_0x156f1f));_0x575419=dividePhasors(_0xfd4048,_0xf879cb);}}const _0x541304={};_0x541304['re']=0x0,_0x541304['im']=0x0,_0x2d28bd=_0x2f3f01?subtractPhasors(_0x5c3fc5,_0x575419):_0x541304;const _0x165a35={};_0x165a35['re']=0x0,_0x165a35['im']=0x0,_0x326bc0=_0x8ff0a5?subtractPhasors(_0x428bf4,_0x575419):_0x165a35;const _0x28b6ba={};_0x28b6ba['re']=0x0,_0x28b6ba['im']=0x0,_0x15dd9a=_0x555e6e?subtractPhasors(_0x4a5548,_0x575419):_0x28b6ba;const _0xd36368={};_0xd36368['re']=0x0,_0xd36368['im']=0x0,_0x341b01=_0x2f3f01&&(_0x396eb7['re']!==0x0||_0x396eb7['im']!==0x0)?multiplyPhasors(_0x2d28bd,_0x396eb7):_0xd36368;const _0x24abb0={};_0x24abb0['re']=0x0,_0x24abb0['im']=0x0,_0x240cc4=_0x8ff0a5&&(_0x51dec3['re']!==0x0||_0x51dec3['im']!==0x0)?multiplyPhasors(_0x326bc0,_0x51dec3):_0x24abb0;const _0x63b878={};_0x63b878['re']=0x0,_0x63b878['im']=0x0,_0x3aac5a=_0x555e6e&&(_0x2b5845['re']!==0x0||_0x2b5845['im']!==0x0)?multiplyPhasors(_0x15dd9a,_0x2b5845):_0x63b878,_0x4a1fb7=addPhasors(_0x341b01,addPhasors(_0x240cc4,_0x3aac5a));if(!_0x1744e2){const _0x1249c5={};_0x1249c5['re']=0x0,_0x1249c5['im']=0x0,_0x4a1fb7=_0x1249c5;}warningMessageText=null,isBlinkingWarning=![];let _0xe5455c=_0x4ce747(0x23e),_0x21a610='',_0x4db29d='',_0x1d68da=isShortCircuitPopupVisible;const _0x53e7bd=_0x1744e2?neutralStatusConnected:neutralStatusDisconnected,_0x31d6cb=!_0x5120f7||!_0x3dc1ee||!_0x89dafe,_0x5bfb64=!_0x2f3f01||!_0x8ff0a5||!_0x555e6e,_0x14ef51=_0x2f3f01&&_0x5120f7&&_0x1daa26;if(_0x5bfb64||_0x31d6cb){isShortCircuitPopupVisible=![];const _0x36bfad=_0x1744e2?'_n':_0x4ce747(0x1c2);if(_0x5bfb64&&_0x31d6cb)_0x21a610=lineAndPhaseWireBreak,_0xe5455c=_0x4ce747(0x23a)+_0x36bfad;else _0x5bfb64?(_0x21a610=lineWireBreak,_0xe5455c=_0x4ce747(0x1fe)+_0x36bfad):(_0x21a610=phaseWireBreak,_0xe5455c=_0x4ce747(0x259)+_0x36bfad);_0x4db29d=_0x53e7bd;}else{if(_0x14ef51)_0x4db29d='',_0x1744e2?(_0x21a610=shortCircuitWarningA,_0xe5455c=_0x4ce747(0x197),isBlinkingWarning=!![],!hasShownShortCircuitPopupThisSession?(isShortCircuitPopupVisible=!![],hasShownShortCircuitPopupThisSession=!![]):isShortCircuitPopupVisible=![]):(_0x21a610=shortCircuitNoNeutralWarning,_0xe5455c=_0x4ce747(0x275),isShortCircuitPopupVisible=![]);else{isShortCircuitPopupVisible=![],_0x4db29d=_0x53e7bd;const _0x281ad6=_0x780463[_0x4ce747(0x1e3)]&&(_0x2e499d['re']===0x0&&_0x2e499d['im']<0x0);if(_0x281ad6)_0x21a610=capacitiveLoadInfo,_0xe5455c=_0x1744e2?_0x4ce747(0x294):_0x4ce747(0x1cf);else{function _0x2dbaf1(_0x2bcbd0,_0x129c42,_0x4aeccd,_0x459e3b=0.1){const _0x517a51=_0x4ce747,_0x26c9d8=_0x3d5471=>_0x3d5471['re']===Infinity?Infinity:Math[_0x517a51(0x276)](_0x3d5471['re']**0x2+_0x3d5471['im']**0x2),_0x5757eb=[_0x26c9d8(_0x2bcbd0),_0x26c9d8(_0x129c42),_0x26c9d8(_0x4aeccd)][_0x517a51(0x1fa)](_0x4bf834=>_0x4bf834!==Infinity);if(_0x5757eb[_0x517a51(0x26f)]<=0x1)return!![];const _0x1c9aff=_0x5757eb['reduce']((_0x101da9,_0x40fb2d)=>_0x101da9+_0x40fb2d,0x0)/_0x5757eb[_0x517a51(0x26f)];if(_0x1c9aff<0.000001)return!![];for(const _0x4f6322 of _0x5757eb){if(Math[_0x517a51(0x1b6)](_0x4f6322-_0x1c9aff)/_0x1c9aff>_0x459e3b)return![];}return!![];}_0x2dbaf1(_0x2e499d,_0x14ebc8,_0xa86f76)?(_0x21a610=balancedLoadInfo,_0xe5455c=_0x1744e2?_0x4ce747(0x1f5):_0x4ce747(0x285)):(_0x21a610=unbalancedLoadWarning,_0xe5455c=_0x1744e2?_0x4ce747(0x277):_0x4ce747(0x247));}}}warningMessageText=_0x21a610;_0x4db29d&&(warningMessageText+='\x0a'+_0x4db29d);window[_0x4ce747(0x20f)]=_0xe5455c;const _0x140f96={};_0x140f96['re']=0x0,_0x140f96['im']=0x0;let _0x12dfff=_0x140f96;const _0x40fb83={};_0x40fb83['re']=0x0,_0x40fb83['im']=0x0;let _0x1cb83d=_0x40fb83;const _0x7afa28={};_0x7afa28['re']=0x0,_0x7afa28['im']=0x0;let _0x76692a=_0x7afa28;_0x2f3f01&&(_0x12dfff=subtractPhasors(_0x5c3fc5,_0x575419));_0x8ff0a5&&(_0x1cb83d=subtractPhasors(_0x428bf4,_0x575419));_0x555e6e&&(_0x76692a=subtractPhasors(_0x4a5548,_0x575419));const _0x3cefe1=rectToPolar(_0x12dfff['re'],_0x12dfff['im']),_0x718b5=rectToPolar(_0x1cb83d['re'],_0x1cb83d['im']),_0xdf39cc=rectToPolar(_0x76692a['re'],_0x76692a['im']);let _0x48a194=subtractPhasors(_0x12dfff,_0x1cb83d),_0x3cc94b=subtractPhasors(_0x1cb83d,_0x76692a),_0x5efb20=subtractPhasors(_0x76692a,_0x12dfff);const _0x50a819=rectToPolar(_0x48a194['re'],_0x48a194['im']),_0x3ffd7d=rectToPolar(_0x3cc94b['re'],_0x3cc94b['im']),_0x3b8864=rectToPolar(_0x5efb20['re'],_0x5efb20['im']),_0x31efff=rectToPolar(_0x341b01['re'],_0x341b01['im']),_0x3e6268=rectToPolar(_0x240cc4['re'],_0x240cc4['im']),_0x20a00b=rectToPolar(_0x3aac5a['re'],_0x3aac5a['im']),_0x3b2585=rectToPolar(_0x4a1fb7['re'],_0x4a1fb7['im']),_0x5b4d39=(_0x570cae,_0x2cba38,_0x39e2a7=0x1)=>{const _0x32c0de=_0x4ce747;if(isNaN(_0x570cae)||!isFinite(_0x570cae))return valueNotAvailable+'\x20'+(_0x2cba38==='A'?ampereUnit:voltUnit);if(Math['abs'](_0x570cae)<0.001)_0x570cae=0x0;if(_0x2cba38==='A'){if(Math[_0x32c0de(0x1b6)](_0x570cae)>0x270f)return shortCircuitAbbreviation;_0x39e2a7=0x2;}else _0x2cba38==='V'&&(_0x39e2a7=Math['abs'](_0x570cae)<0xa?0x2:0x1);const _0xc1b25d=_0x2cba38==='A'?ampereUnit:_0x2cba38==='V'?voltUnit:_0x2cba38;return''+_0x570cae[_0x32c0de(0x20b)](_0x39e2a7)+_0xc1b25d;};displayCalculationValue(_0x4393e6,currentPrefixA+_0x5b4d39(_0x31efff[_0x4ce747(0x231)],'A'),_0x4ce747(0x1af)),displayCalculationValue(_0x2d325e,currentPrefixB+_0x5b4d39(_0x3e6268[_0x4ce747(0x231)],'A'),_0x4ce747(0x1af)),displayCalculationValue(_0xb870d0,currentPrefixC+_0x5b4d39(_0x20a00b['mag'],'A'),_0x4ce747(0x1af)),displayCalculationValue(_0x98ff4d,currentPrefixN+_0x5b4d39(_0x3b2585[_0x4ce747(0x231)],'A'),'bottom'),_0x4d8d02[_0x4ce747(0x239)](voltagePrefixUab+_0x5b4d39(_0x50a819[_0x4ce747(0x231)],'V')),_0x17f3cc[_0x4ce747(0x239)](voltagePrefixUbc+_0x5b4d39(_0x3ffd7d[_0x4ce747(0x231)],'V')),_0x1de0f8['setText'](voltagePrefixUca+_0x5b4d39(_0x3b8864[_0x4ce747(0x231)],'V')),_0x37f0e9[_0x4ce747(0x239)](voltagePrefixUa+_0x5b4d39(_0x3cefe1[_0x4ce747(0x231)],'V')),_0x3f0ed2[_0x4ce747(0x239)](voltagePrefixUb+_0x5b4d39(_0x718b5[_0x4ce747(0x231)],'V')),_0x46dde4['setText'](voltagePrefixUc+_0x5b4d39(_0xdf39cc[_0x4ce747(0x231)],'V'));if(isBlinkingWarning){let _0xd037f8=millis();_0xd037f8-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0xd037f8);}else blinkState=!![];redraw();}function findElementByLabel(_0x54f61c){const _0x28ac00=_0xe6f953;for(const _0x3ba3ea of elements){if(_0x3ba3ea[_0x28ac00(0x1bd)]===_0x54f61c)return _0x3ba3ea;}if(_0x54f61c===_0x28ac00(0x192))return elements[_0x28ac00(0x20e)](_0x27dea1=>_0x27dea1 instanceof StaticTextDisplay&&_0x27dea1['text']['startsWith']('Uab\x20='));if(_0x54f61c===_0x28ac00(0x2aa))return elements[_0x28ac00(0x20e)](_0x38ac59=>_0x38ac59 instanceof StaticTextDisplay&&_0x38ac59[_0x28ac00(0x245)][_0x28ac00(0x271)]('Ubc\x20='));if(_0x54f61c===_0x28ac00(0x209))return elements['find'](_0xda7d30=>_0xda7d30 instanceof StaticTextDisplay&&_0xda7d30[_0x28ac00(0x245)][_0x28ac00(0x271)](_0x28ac00(0x209)));if(_0x54f61c===_0x28ac00(0x29c))return elements[_0x28ac00(0x20e)](_0x40accf=>_0x40accf instanceof StaticTextDisplay&&_0x40accf[_0x28ac00(0x245)][_0x28ac00(0x271)](_0x28ac00(0x29c)));if(_0x54f61c==='Ub\x20=')return elements[_0x28ac00(0x20e)](_0x3720a3=>_0x3720a3 instanceof StaticTextDisplay&&_0x3720a3[_0x28ac00(0x245)][_0x28ac00(0x271)]('Ub\x20='));if(_0x54f61c===_0x28ac00(0x241))return elements['find'](_0x52576c=>_0x52576c instanceof StaticTextDisplay&&_0x52576c[_0x28ac00(0x245)][_0x28ac00(0x271)](_0x28ac00(0x241)));return null;}function displayCalculationValue(_0x39a7f5,_0x5057fe,_0x178515){const _0x9706fb=_0xe6f953;if(!_0x39a7f5||typeof _0x39a7f5['x']===_0x9706fb(0x1d7)||typeof _0x39a7f5['y']===_0x9706fb(0x1d7))return;push(),pop(),_0x39a7f5[_0x9706fb(0x1e2)]=_0x5057fe;}function hideCalculationValues(){const _0x544b4e=_0xe6f953;redraw(),elements[_0x544b4e(0x2a6)](_0xbfdd03=>{_0xbfdd03['calculationDisplayValue']=null;});}class CircuitElement{constructor(_0x4b4e3b,_0x3e4601){const _0x31370a=_0xe6f953;this['x']=_0x4b4e3b,this['y']=_0x3e4601,this[_0x31370a(0x26c)]=0x1,this[_0x31370a(0x1bd)]='',this[_0x31370a(0x289)]=![],this[_0x31370a(0x21a)]=null,this[_0x31370a(0x1e2)]=null;}[_0xe6f953(0x1ae)](){}[_0xe6f953(0x20d)](){const _0xa71a3d=_0xe6f953;push(),translate(this['x'],this['y']);let _0x5ef672=0x0;switch(this[_0xa71a3d(0x26c)]){case 0x2:_0x5ef672=PI/0x2;break;case 0x3:_0x5ef672=PI;break;case 0x4:_0x5ef672=0x3*PI/0x2;break;default:_0x5ef672=0x0;}rotate(_0x5ef672);if(this[_0xa71a3d(0x1e2)]!==null){push(),stroke('lightgray'),fill(_0xa71a3d(0x1ee)),textSize(0xf*SCALE_FACTOR);let _0x52e265=textWidth(this[_0xa71a3d(0x1e2)]);rectMode(CENTER);let _0x2aff88=-0xa*SCALE_FACTOR,_0x2467b7=0x28*SCALE_FACTOR,_0xade60=0x2*SCALE_FACTOR,_0x51ae87=0x2*SCALE_FACTOR;typeof this[_0xa71a3d(0x1e2)]===_0xa71a3d(0x191)&&this[_0xa71a3d(0x1e2)][_0xa71a3d(0x1b8)](_0xa71a3d(0x280))&&stroke(0xff,0x0,0x0);let _0x4cf770=findElementByLabel('SA4');!(this['label']=='PA4'&&_0x4cf770[_0xa71a3d(0x1ca)])&&rect(_0x2aff88,_0x2467b7,_0x52e265+_0xade60*0x2,0x14*SCALE_FACTOR+_0x51ae87*0x2,0x2*SCALE_FACTOR),noStroke(),textAlign(CENTER,CENTER),typeof this[_0xa71a3d(0x1e2)]===_0xa71a3d(0x191)&&this[_0xa71a3d(0x1e2)][_0xa71a3d(0x1b8)](_0xa71a3d(0x280))?fill(0xff,0x0,0x0):fill(0x3c,0x96,0x28),!(this['label']==_0xa71a3d(0x1e0)&&_0x4cf770[_0xa71a3d(0x1ca)])&&text(this['calculationDisplayValue'],_0x2aff88,_0x2467b7),pop();}}[_0xe6f953(0x278)](){rotate(0x0),pop();}[_0xe6f953(0x236)](){const _0x5af0a8=_0xe6f953;switch(this[_0x5af0a8(0x26c)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class Capacity extends CircuitElement{constructor(_0x492d2e,_0x3dd44b,_0x339448){const _0x2aedd9=_0xe6f953;super(_0x492d2e,_0x3dd44b),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x2aedd9(0x21e)](this['w'],this['h'])/0x2,this[_0x2aedd9(0x1bd)]=_0x339448,this['capacity']='18',this[_0x2aedd9(0x1e3)]=!![];}[_0xe6f953(0x281)](_0x56dd4e){const _0x3a8518=_0xe6f953;if(_0x56dd4e===this[_0x3a8518(0x1e3)])return;this[_0x3a8518(0x1e3)]=_0x56dd4e,redraw();}['displayPalette'](_0x728d61){const _0xb468ba=_0xe6f953;_0x728d61[_0xb468ba(0x1b9)](0x1*SCALE_FACTOR),_0x728d61[_0xb468ba(0x26d)](0x0),_0x728d61[_0xb468ba(0x29f)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x728d61['line'](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x728d61[_0xb468ba(0x29f)](this['w']/0x5,0x0,this['w'],0x0),_0x728d61[_0xb468ba(0x29f)](-this['w']/0x5,0x0,-this['w'],0x0),_0x728d61[_0xb468ba(0x29a)](),_0x728d61[_0xb468ba(0x201)](0x0),_0x728d61[_0xb468ba(0x1c1)](CENTER,CENTER),_0x728d61[_0xb468ba(0x26b)](0x8*SCALE_FACTOR),_0x728d61[_0xb468ba(0x245)](this[_0xb468ba(0x1bd)],-this['w']/0x2,-this['h']*0.5);}[_0xe6f953(0x20d)](){const _0x34df3b=_0xe6f953;if(!this['isVisible'])return;super[_0x34df3b(0x20d)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x34df3b(0x1bd)],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x34df3b(0x1d9)]+microFaradUnit,0x0,this['h']/0x2+0x3*SCALE_FACTOR),super[_0x34df3b(0x278)]();}[_0xe6f953(0x236)](){const _0xbb7d36=_0xe6f953;switch(this[_0xbb7d36(0x26c)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x963e9a,_0x524735,_0x39c837){const _0x5ab46c=_0xe6f953;super(_0x963e9a,_0x524735),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this[_0x5ab46c(0x1bd)]=_0x39c837,this['induction']=_0x5ab46c(0x1a0),this[_0x5ab46c(0x1e1)]=0x0;}[_0xe6f953(0x254)](_0x202cc7){const _0x16c6d2=_0xe6f953;_0x202cc7[_0x16c6d2(0x1b9)](0x1*SCALE_FACTOR),_0x202cc7[_0x16c6d2(0x26d)](0x0);let _0x28c128=this['h']*0.25,_0x1539d=this['w']*0.6,_0x59c117=-_0x1539d/0x2,_0x2e44ac=0x0,_0xee332f=_0x1539d/0x3;_0x202cc7[_0x16c6d2(0x29b)]();const _0x3dd442=0x3;for(let _0x441241=0x0;_0x441241<_0x3dd442;_0x441241++){let _0x3babda=_0x59c117+_0x441241*_0xee332f;_0x202cc7[_0x16c6d2(0x28e)](_0x3babda+_0xee332f/0x2,_0x2e44ac,_0xee332f,_0x28c128,PI,0x0);}_0x202cc7[_0x16c6d2(0x29f)](_0x59c117,0x0,_0x59c117-0xa,0x0),_0x202cc7[_0x16c6d2(0x29f)](_0x1539d/0x2,0x0,_0x1539d/0x2+0xa,0x0),_0x202cc7[_0x16c6d2(0x29a)](),_0x202cc7['fill'](0x0),_0x202cc7[_0x16c6d2(0x1c1)](CENTER,CENTER),_0x202cc7[_0x16c6d2(0x26b)](0x8*SCALE_FACTOR),_0x202cc7['text'](this[_0x16c6d2(0x1bd)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0xe6f953(0x20d)](){const _0x2f01bb=_0xe6f953;super[_0x2f01bb(0x20d)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x3887ca=this['h']*0.25,_0x3811ea=this['w']*0.6,_0x279e40=-_0x3811ea/0x2,_0x11320b=0x0,_0xbeed5b=_0x3811ea/0x3;noFill();const _0x1dd914=0x3;for(let _0x1ccca2=0x0;_0x1ccca2<_0x1dd914;_0x1ccca2++){let _0x19de16=_0x279e40+_0x1ccca2*_0xbeed5b;arc(_0x19de16+_0xbeed5b/0x2,_0x11320b,_0xbeed5b,_0x3887ca,PI,0x0);}line(_0x279e40,0x0,_0x279e40-_0x3811ea/0x3,0x0),line(_0x3811ea/0x2,0x0,_0x3811ea*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['induction']+milliHenryUnit,0x0,this['h']/0x2*0.6)),super[_0x2f01bb(0x278)]();}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x203988,_0x5203be,_0x3a1aec){const _0x44910a=_0xe6f953;super(_0x203988,_0x5203be),this['r']=0x11*SCALE_FACTOR,this[_0x44910a(0x1bd)]=_0x3a1aec,this['current']=0x0;}[_0xe6f953(0x254)](_0x546e6a){const _0x12b8eb=_0xe6f953;_0x546e6a[_0x12b8eb(0x1b9)](0x1*SCALE_FACTOR),_0x546e6a[_0x12b8eb(0x26d)](0x0),_0x546e6a[_0x12b8eb(0x201)](0xdc),_0x546e6a[_0x12b8eb(0x19e)](0x0,0x0,this['r']*1.5),_0x546e6a[_0x12b8eb(0x29a)](),_0x546e6a['fill'](0x0),_0x546e6a[_0x12b8eb(0x1c1)](CENTER,CENTER),_0x546e6a['textSize'](0x8*SCALE_FACTOR),_0x546e6a[_0x12b8eb(0x245)](this[_0x12b8eb(0x1bd)],this['r']*0.6,this['r']*1.3);}[_0xe6f953(0x20d)](){const _0x1a23b3=_0xe6f953;super[_0x1a23b3(0x20d)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x21278d=findElementByLabel(_0x1a23b3(0x1a2));this[_0x1a23b3(0x1bd)]==_0x1a23b3(0x1e0)&&_0x21278d[_0x1a23b3(0x1ca)]?fill(0xc8):fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),this[_0x1a23b3(0x1bd)]=='PA4'&&_0x21278d['isOpen']?fill(0x28):fill(0x0),textAlign(CENTER,CENTER),textSize(12.5*SCALE_FACTOR),text(this[_0x1a23b3(0x1bd)],0x0,0x0),super[_0x1a23b3(0x278)]();}[_0xe6f953(0x236)](){const _0x5962ff=_0xe6f953;switch(this[_0x5962ff(0x26c)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x43681c,_0xb0b003,_0x4de0ce){const _0x532e12=_0xe6f953;super(_0x43681c,_0xb0b003),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this['label']=_0x4de0ce,this[_0x532e12(0x234)]=!![],this['isOpen']=!![],this['lastToggleTime']=0x0,this[_0x532e12(0x23c)]=0x0,this[_0x532e12(0x222)]=0x0,this[_0x532e12(0x26a)]=this[_0x532e12(0x1ca)]?-PI/0x4:0x0;}[_0xe6f953(0x254)](_0x21f579){const _0x4d5c12=_0xe6f953;_0x21f579[_0x4d5c12(0x1b9)](1.5*SCALE_FACTOR),_0x21f579[_0x4d5c12(0x26d)](0x0),_0x21f579[_0x4d5c12(0x29f)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x21f579[_0x4d5c12(0x29f)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x21f579[_0x4d5c12(0x29f)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x21f579[_0x4d5c12(0x29b)](),_0x21f579['rectMode'](CENTER),_0x21f579[_0x4d5c12(0x246)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x21f579['noStroke'](),_0x21f579['fill'](0x0),_0x21f579[_0x4d5c12(0x1c1)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x21f579[_0x4d5c12(0x245)](this[_0x4d5c12(0x1bd)],0x0,-this['h']/0x2*0.7-0x2*SCALE_FACTOR);}['display'](){const _0x114f96=_0xe6f953;super[_0x114f96(0x20d)](),this[_0x114f96(0x222)]+=deltaTime/0x3e8;!this[_0x114f96(0x1ca)]?this[_0x114f96(0x23c)]=min(this[_0x114f96(0x23c)]+0.05,0x1):this[_0x114f96(0x23c)]=max(this[_0x114f96(0x23c)]-0.05,0x0);let _0x525b83=!![],_0x253fc5=![],_0x4943cd=color(0x0,0xff,0x0),_0x4eb79b=color(0x3c,0xc8,0xff),_0x1c9ff7=0x3e80,_0x5735ee=0x0,_0x491836=findElementByLabel('PA1'),_0x53abb3=findElementByLabel(_0x114f96(0x1a2)),_0x22681e=findElementByLabel(_0x114f96(0x237)),_0xaf4129=findElementByLabel('PA3'),_0x29265b=findElementByLabel('PA4');if((this['label']==_0x114f96(0x1ff)||this[_0x114f96(0x1bd)]==_0x114f96(0x1e9)||this[_0x114f96(0x1bd)]==_0x114f96(0x1dc))&&(typeof _0x491836[_0x114f96(0x1e2)]==='string'&&_0x491836[_0x114f96(0x1e2)]['includes']('0.00')))_0x525b83=![];else{if((this['label']=='SA2'||this[_0x114f96(0x1bd)]==_0x114f96(0x1a7))&&(typeof _0x22681e[_0x114f96(0x1e2)]==='string'&&_0x22681e['calculationDisplayValue'][_0x114f96(0x1b8)](_0x114f96(0x2a3))))_0x525b83=![];else{if((this['label']==_0x114f96(0x2a0)||this[_0x114f96(0x1bd)]==_0x114f96(0x1b0))&&(typeof _0xaf4129[_0x114f96(0x1e2)]===_0x114f96(0x191)&&_0xaf4129[_0x114f96(0x1e2)]['includes'](_0x114f96(0x2a3))))_0x525b83=![];else this[_0x114f96(0x1bd)]==_0x114f96(0x1a2)&&(typeof _0x29265b['calculationDisplayValue']==='string'&&_0x29265b['calculationDisplayValue']['includes'](_0x114f96(0x2a3)))&&(_0x525b83=![]);}}(this[_0x114f96(0x1bd)]=='SA1'||this[_0x114f96(0x1bd)]=='SA11'||this[_0x114f96(0x1bd)]==_0x114f96(0x1dc)||this[_0x114f96(0x1bd)]=='SA4')&&(typeof _0x491836[_0x114f96(0x1e2)]===_0x114f96(0x191)&&_0x491836['calculationDisplayValue'][_0x114f96(0x1b8)](_0x114f96(0x204)))&&!_0x53abb3[_0x114f96(0x1ca)]&&(_0x1c9ff7=0x7d0,_0x4eb79b=color(0xff,0x0,0x0),_0x4943cd=color(0xff,0x0,0x0),_0x253fc5=!![]);if(this[_0x114f96(0x23c)]>0x0){noStroke();for(let _0x4d473e=0x3;_0x4d473e>0x0;_0x4d473e--){let _0xa56722=this[_0x114f96(0x23c)]*(0x4-_0x4d473e)*0x5;fill(_0x4943cd['levels'][0x0],_0x4943cd[_0x114f96(0x217)][0x1],_0x4943cd[_0x114f96(0x217)][0x2],_0xa56722),ellipseMode(CENTER),ellipse(0x0,0x0,this['w']*(0x1+_0x4d473e*0.1),this['h']*(0x1+_0x4d473e*0.1));}}strokeWeight(1.5*SCALE_FACTOR);this[_0x114f96(0x1ca)]?(stroke(0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0)):stroke(_0x4943cd);noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']);if(this[_0x114f96(0x1ca)])stroke(0x0),push(),translate(-this['w']/0x4,0x0),rotate(this['switchAngle']),line(0x0,0x0,this['w']/0x2,0x0),pop();else{stroke(_0x4943cd),line(-this['w']/0x2,0x0,this['w']/0x2,0x0);if(_0x525b83){let _0x3ace41=millis(),_0x2bc8b8=_0x3ace41%_0x1c9ff7/_0x1c9ff7,_0x14ac77=0xa,_0x1d465a=this['w']/_0x14ac77,_0x345cc8=0x3*SCALE_FACTOR,_0x4fc26e=-this['w']/0x2,_0x3b1ff0=this['w']/0x2,_0x413fa7=_0x3b1ff0-_0x4fc26e,_0x37854e=this['h']/0x5,_0x179674=0x2*PI,_0x2cc1d0=sin(_0x3ace41/0x1f4)*0.3+0.7;noStroke(),strokeWeight(0x2*SCALE_FACTOR),stroke(_0x4eb79b[_0x114f96(0x217)][0x0],_0x4eb79b['levels'][0x1],_0x4eb79b['levels'][0x2],0x1e),noFill(),beginShape();for(let _0x53f88d=_0x4fc26e;_0x53f88d<=_0x3b1ff0;_0x53f88d+=0x5){let _0x3ece78=(_0x53f88d-_0x4fc26e)/_0x413fa7,_0x33aefc=_0x3ece78*_0x179674,_0x390b5b=_0x37854e*sin(_0x33aefc);vertex(_0x53f88d,_0x390b5b);}endShape();for(let _0x2601bb=0x0;_0x2601bb<_0x14ac77;_0x2601bb++){let _0x3bc64d=_0x2601bb*_0x1d465a,_0x24d6d8;!this[_0x114f96(0x234)]?(_0x24d6d8=_0x3bc64d-_0x2bc8b8*_0x413fa7,_0x24d6d8=(_0x24d6d8%_0x413fa7+_0x413fa7)%_0x413fa7):_0x24d6d8=(_0x3bc64d+_0x2bc8b8*_0x413fa7)%_0x413fa7;let _0x2ed52a=_0x4fc26e+_0x24d6d8,_0x43d3d4=_0x24d6d8/_0x413fa7,_0x22a385=_0x43d3d4*_0x179674;_0x253fc5&&(_0x5735ee=random(-this['h']/0x8,this['h']/0x8));let _0x46ce39=_0x37854e*sin(_0x22a385)-_0x5735ee;for(let _0x2e1c73=0x3;_0x2e1c73>0x0;_0x2e1c73--){noStroke(),fill(_0x4eb79b[_0x114f96(0x217)][0x0],_0x4eb79b[_0x114f96(0x217)][0x1],_0x4eb79b[_0x114f96(0x217)][0x2],0x50/_0x2e1c73*_0x2cc1d0),ellipse(_0x2ed52a,_0x46ce39,_0x345cc8*(0x1+_0x2e1c73*0.5)*_0x2cc1d0,_0x345cc8*(0x1+_0x2e1c73*0.5)*_0x2cc1d0);}fill(_0x4eb79b),ellipse(_0x2ed52a,_0x46ce39,_0x345cc8*_0x2cc1d0,_0x345cc8*_0x2cc1d0),_0x253fc5?fill(0xff,0x96,0x0):fill(0xff),ellipse(_0x2ed52a,_0x46ce39,_0x345cc8*0.5*_0x2cc1d0,_0x345cc8*0.5*_0x2cc1d0);}}}noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x114f96(0x1bd)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x114f96(0x278)]();}['toggleState'](){const _0x4b6ada=_0xe6f953;this[_0x4b6ada(0x1ca)]=!this[_0x4b6ada(0x1ca)],this[_0x4b6ada(0x26a)]=this[_0x4b6ada(0x1ca)]?-PI/0x4:0x0,updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}[_0xe6f953(0x236)](){const _0x9beccd=_0xe6f953;switch(this[_0x9beccd(0x26c)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x1fcf24,_0x1f56cc,_0x2d9645){const _0x367d0a=_0xe6f953;this['x']=_0x1fcf24,this['y']=_0x1f56cc,this[_0x367d0a(0x245)]=_0x2d9645;}[_0xe6f953(0x239)](_0x1c7e6c){const _0x3f00c3=_0xe6f953;this[_0x3f00c3(0x245)]=_0x1c7e6c;}[_0xe6f953(0x20d)](){const _0x153739=_0xe6f953;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke(_0x153739(0x270)),fill(_0x153739(0x1ee)),textSize(0xf*SCALE_FACTOR);let _0x11744c=textWidth(this['text']);rectMode(CENTER);let _0x1794c0=0x7*SCALE_FACTOR,_0x497f0e=0x0,_0x315da9=0x2*SCALE_FACTOR,_0x3a31cd=0x2*SCALE_FACTOR;this[_0x153739(0x245)]&&rect(_0x1794c0,_0x497f0e,_0x11744c+_0x315da9*0x2,0x14*SCALE_FACTOR+_0x3a31cd*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x3c,0x96,0x28),textAlign(CENTER,CENTER),text(this[_0x153739(0x245)],_0x1794c0,_0x497f0e),pop();}}class GroupLamp extends CircuitElement{constructor(_0x3e75d5,_0x49d026,_0x1ca40c,_0x230508=0x19){const _0x240834=_0xe6f953;super(_0x3e75d5,_0x49d026),this[_0x240834(0x28a)]=0x5,this[_0x240834(0x1da)]=0xf*SCALE_FACTOR,this['lampSpacing']=this['lampRadius']*0x2+0xa*SCALE_FACTOR,this[_0x240834(0x1bd)]=_0x1ca40c,this[_0x240834(0x228)]=parseFloat(_0x230508)||0x19,this['total_power']=0x0,this['isVisible']=!![],this['isEnabled']=!![],this[_0x240834(0x24d)]=[],this['w']=this[_0x240834(0x28a)]*this['lampRadius']*0x2+(this['numLamps']-0x1)*(this[_0x240834(0x1ba)]-this[_0x240834(0x1da)]*0x2),this['h']=this[_0x240834(0x1da)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x240834(0x215)]=[];const _0x462b13=-(this['w']/0x2)+this[_0x240834(0x1da)];for(let _0x557023=0x0;_0x557023<this[_0x240834(0x28a)];_0x557023++){const _0x3c4a58=!![];this[_0x240834(0x215)][_0x240834(0x218)]({'isActive':_0x3c4a58,'offsetX':_0x462b13+_0x557023*this['lampSpacing'],'offsetY':0x0}),this['_previousLampStates']['push'](_0x3c4a58);}this['calculateTotalPower'](),this['isTogglingLamp']=![],this[_0x240834(0x2a2)]=null;}[_0xe6f953(0x281)](_0x239328){const _0x36ecc0=_0xe6f953;if(_0x239328===this[_0x36ecc0(0x1e3)])return;this['isVisible']=_0x239328,this['calculateTotalPower'](),redraw();}[_0xe6f953(0x21c)](_0x35cbc8){const _0x431566=_0xe6f953;if(_0x35cbc8===this[_0x431566(0x27f)])return;this[_0x431566(0x27f)]=_0x35cbc8;if(!this[_0x431566(0x27f)]){for(let _0x29f7a7=0x0;_0x29f7a7<this['numLamps'];_0x29f7a7++){this['_previousLampStates'][_0x29f7a7]=this['lamps'][_0x29f7a7][_0x431566(0x25d)];}for(let _0x48cadd of this[_0x431566(0x215)]){_0x48cadd['isActive']=![];}}else for(let _0xf7a2a2=0x0;_0xf7a2a2<this[_0x431566(0x28a)];_0xf7a2a2++){this[_0x431566(0x215)][_0xf7a2a2][_0x431566(0x25d)]=typeof this[_0x431566(0x24d)][_0xf7a2a2]===_0x431566(0x22a)?this[_0x431566(0x24d)][_0xf7a2a2]:![];}this[_0x431566(0x1d8)](),redraw();}[_0xe6f953(0x2a5)](_0x50dcd4){const _0x213d44=_0xe6f953;if(!this['isEnabled']||!this[_0x213d44(0x1e3)])return;if(this['isTogglingLamp'])return;_0x50dcd4>=0x0&&_0x50dcd4<this['numLamps']&&(this[_0x213d44(0x23d)]=!![],this['lamps'][_0x50dcd4]['isActive']=!this[_0x213d44(0x215)][_0x50dcd4][_0x213d44(0x25d)],this[_0x213d44(0x24d)][_0x50dcd4]=this[_0x213d44(0x215)][_0x50dcd4][_0x213d44(0x25d)],this[_0x213d44(0x1d8)](),clearTimeout(this[_0x213d44(0x2a2)]),this[_0x213d44(0x2a2)]=setTimeout(()=>{const _0x4d2c15=_0x213d44;this[_0x4d2c15(0x23d)]=![],redraw();},0xc8));}[_0xe6f953(0x1d8)](){const _0x130164=_0xe6f953;if(!this[_0x130164(0x27f)]||!this['isVisible']){this[_0x130164(0x290)]=0x0;return;}let _0x5a6b7f=0x0;for(const _0x2d8946 of this[_0x130164(0x215)]){_0x2d8946[_0x130164(0x25d)]&&(_0x5a6b7f+=this[_0x130164(0x228)]);}this[_0x130164(0x290)]=_0x5a6b7f;}[_0xe6f953(0x283)](_0x24be19,_0x48919b){const _0x4bd955=_0xe6f953;if(!this['isVisible'])return-0x1;for(let _0x1adbc9=0x0;_0x1adbc9<this['numLamps'];_0x1adbc9++){const _0x245f6e=this['lamps'][_0x1adbc9],_0x5c431e=this['x']+_0x245f6e['offsetX'],_0x4deeac=this['y']+_0x245f6e[_0x4bd955(0x1df)],_0x411b25=dist(_0x24be19,_0x48919b,_0x5c431e,_0x4deeac);if(_0x411b25<this[_0x4bd955(0x1da)])return _0x1adbc9;}return-0x1;}[_0xe6f953(0x254)](_0x2ef57f){const _0x919e15=_0xe6f953;_0x2ef57f[_0x919e15(0x1b9)](0x1*SCALE_FACTOR),_0x2ef57f[_0x919e15(0x26d)](0x0);const _0x351d4c=this[_0x919e15(0x1da)]*0.5,_0x3706bf=_0x351d4c*0x2+0x2*SCALE_FACTOR,_0xfb43c5=this[_0x919e15(0x28a)]*_0x351d4c*0x2+(this['numLamps']-0x1)*0x2*SCALE_FACTOR,_0x56b25f=-_0xfb43c5/0x2+_0x351d4c;for(let _0x3ca69d=0x0;_0x3ca69d<this[_0x919e15(0x28a)];_0x3ca69d++){_0x2ef57f[_0x919e15(0x201)](0xff),_0x2ef57f[_0x919e15(0x19e)](_0x56b25f+_0x3ca69d*_0x3706bf,0x0,_0x351d4c*0x2);const _0x4a271b=_0x351d4c*0.707;_0x2ef57f['line'](_0x56b25f+_0x3ca69d*_0x3706bf-_0x4a271b,_0x4a271b,_0x56b25f+_0x3ca69d*_0x3706bf+_0x4a271b,-_0x4a271b),_0x2ef57f[_0x919e15(0x29f)](_0x56b25f+_0x3ca69d*_0x3706bf-_0x4a271b,-_0x4a271b,_0x56b25f+_0x3ca69d*_0x3706bf+_0x4a271b,_0x4a271b);}_0x2ef57f[_0x919e15(0x29a)](),_0x2ef57f[_0x919e15(0x201)](0x0),_0x2ef57f[_0x919e15(0x1c1)](CENTER,BOTTOM),_0x2ef57f[_0x919e15(0x26b)](0x8*SCALE_FACTOR),_0x2ef57f[_0x919e15(0x245)](this[_0x919e15(0x1bd)],0x0,_0x351d4c+0xa*SCALE_FACTOR);}[_0xe6f953(0x20d)](){const _0x13a96b=_0xe6f953;if(!this[_0x13a96b(0x1e3)])return;push(),translate(this['x'],this['y']);const _0x760da6=this[_0x13a96b(0x1da)]*0x5+this[_0x13a96b(0x1ba)]*3.2;stroke(0x64),rect(-_0x760da6/0x2,-this[_0x13a96b(0x1da)]*1.2,_0x760da6,this[_0x13a96b(0x1da)]*2.4),stroke(0x0);for(let _0x26d72d=0x0;_0x26d72d<this['numLamps'];_0x26d72d++){const _0x337e69=this[_0x13a96b(0x215)][_0x26d72d];push(),translate(_0x337e69[_0x13a96b(0x1b1)],_0x337e69[_0x13a96b(0x1df)]);let _0x568984=0x1*SCALE_FACTOR,_0x441aee=0x2*_0x568984,_0x45a4ee=color(0xff),_0x272124=color(0x0);_0x337e69[_0x13a96b(0x25d)]?(_0x272124=color(0xff,0xd8,0x0),strokeWeight(_0x441aee),_0x45a4ee=color(0xff,0xff,0xc8)):(strokeWeight(_0x568984),_0x45a4ee=color(0xdc));!this['isEnabled']&&(_0x272124=color(0x96),_0x45a4ee=color(0xdc),strokeWeight(_0x568984));stroke(_0x272124),fill(_0x45a4ee),circle(0x0,0x0,this[_0x13a96b(0x1da)]*0x2);const _0x2d8b43=this[_0x13a96b(0x1da)]*0.707;line(-_0x2d8b43,_0x2d8b43,_0x2d8b43,-_0x2d8b43),line(-_0x2d8b43,-_0x2d8b43,_0x2d8b43,_0x2d8b43);if(_0x337e69['isActive']&&this[_0x13a96b(0x27f)]){stroke(_0x272124),strokeWeight(0x1*SCALE_FACTOR);for(let _0x1dd721=0x0;_0x1dd721<0x168;_0x1dd721+=0x2d){const _0x306b65=radians(_0x1dd721),_0x3dc159=1.15*this[_0x13a96b(0x1da)],_0x4d453d=1.4*this['lampRadius'];line(_0x3dc159*cos(_0x306b65),_0x3dc159*sin(_0x306b65),_0x4d453d*cos(_0x306b65),_0x4d453d*sin(_0x306b65));}}pop();}noStroke(),fill(this[_0x13a96b(0x27f)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this[_0x13a96b(0x1da)]-0x7*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),pop();}[_0xe6f953(0x236)](){return 0x0;}}


    </script>
    <!--
        MIT License

        Copyright (c) 2025 , 

        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:

        The above copyright notice and this permission notice shall be included in all
        copies or substantial portions of the Software.

        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
    -->  

</body>
</html>