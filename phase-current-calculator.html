<!DOCTYPE html>
<!-- Adding the lang attribute, which will be updated by the script -->
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- Title will be set via JS -->
    <title>Калькулятор струму</title>
    <script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true
          },
          svg: {
            fontCache: 'global'
          }
        };
        </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
<style>
/* Styles remain THE SAME as in the previous version */
/* General styles */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    font-size: 16px;
    line-height: 1.5;
    background-color: #f4f4f4;
    color: #333;
    display: flex; /* For pinning the footer, if it exists */
    flex-direction: column;
    min-height: 100vh;
}

* {
    box-sizing: border-box;
}

h1, h2 {
    color: #0056b3;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
h1 { font-size: 1.6em; text-align: center; }
h2 { font-size: 1.2em; border-bottom: 1px solid #ccc; padding-bottom: 0.2em;}

hr {
    border: 0;
    height: 1px;
    background-color: #ccc;
    margin: 20px 0;
}

/* Application container */
#app-container {
    display: flex;
    flex-grow: 1;
    width: 100%;
    overflow-x: hidden; /* Prevent horizontal scrolling */
}

/* Information panel */
#info-panel {
    padding: 15px 20px;
    background-color: #fff;
    overflow-y: auto; /* Allow scrolling if content doesn't fit */
    border-right: 2px solid #ccc; /* Separator in horizontal mode */
    flex-shrink: 0; /* Do not shrink the panel */
}

/* Graph panel */
#graph-panel-container {
    flex-grow: 1; /* Occupy the remaining space */
    display: flex;
    flex-direction: column; /* Position canvas and hint */
    padding: 10px;
    background-color: #e9e9e9; /* Light background for the graph area */
    min-width: 0; /* Allows the panel to shrink */
}

#canvas-container {
    flex-grow: 1; /* Canvas occupies available space */
    position: relative; /* For positioning the canvas, if necessary */
    min-height: 200px; /* Minimum height for graphs */
    display: flex; /* Center the canvas */
    justify-content: center;
    align-items: center;
}

#canvas-container canvas {
    display: block;
    max-width: 100%;
    max-height: 100%; /* Canvas does not extend beyond the container */
    /* background-color: #F0F0F0; */ /* Canvas background is now controlled by p5 */
    border: 1px solid #bbb; /* Border around the canvas */
}

#graph-hint {
    flex-shrink: 0; /* Do not shrink the hint */
    padding-top: 5px;
}

/* --- Panel Layout --- */
/* Horizontal (default for wider screens) */
#app-container.layout-horizontal {
    flex-direction: row;
}
#info-panel.layout-horizontal {
    /*width: 50%;         /* Desired width of the information panel */
    flex-shrink: 0;     /* Do not shrink the panel */
    min-width: 350px;   /* Minimum width so content doesn't break */
    max-width: 50%;
    border-right: 2px solid #ccc;
    border-bottom: none;
    overflow-y: auto; /* Keep scroll */
}
#graph-panel-container.layout-horizontal {
    /* Occupies remaining space */
}


/* Vertical (for narrower screens) */
#app-container.layout-vertical {
    flex-direction: column;
}
#info-panel.layout-vertical {
    width: 100%;
    max-width: none;
    border-right: none;
    border-bottom: 2px solid #ccc; /* Separator at the bottom */
}
#graph-panel-container.layout-vertical {
     min-height: 400px; /* Larger minimum height in vertical mode */
     height: 60vh; /* Or fixed height, e.g., 500px */
}


/* --- Input Element Styles --- */
.input-section {
    margin-bottom: 20px;
}

.input-container {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    flex-wrap: wrap; /* Allow wrapping on small screens */
}

.input-container label {
    min-width: 110px;
    text-align: right;
    margin-right: 10px;
    font-weight: bold;
}

.input-container div { /* Wrapper for input and units */
    display: flex;
    align-items: center;
}

input[type="number"], select {
    padding: 6px 10px;
    font-size: 1em;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #fff;
    color: #333;
    width: 100px; /* Input field width */
}

/* Remove arrows in number fields (Webkit/Firefox) */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type=number] {
  -moz-appearance: textfield;
}

select {
   width: auto; /* Automatic width for select */
   min-width: 80px;
   padding-right: 5px;
   cursor: pointer;
}

.input-container span.unit { /* Added class for units of measurement */
    margin-left: 8px;
    color: #555;
}
.input-container span#phase-angle-display { /* Style for displaying the angle */
     margin-left: 10px;
     color: #555;
}
.input-container span#phase-angle-label { /* Added class for the word 'Angle' */
    margin-left: 10px;
    color: #555;
}


/* --- Result Styles --- */
#results-area {
    margin-top: 15px;
}

#results-area p {
    margin: 8px 0;
}
#results-area span[id$="-value"], /* Span for values */
#results-area span[id$="-result"] {
    font-weight: bold;
    color: #006622; /* Green for values */
}

.formula-block {
    margin: 10px 0 15px 15px; /* Indent for formulas */
    font-size: 1.1em; /* Slightly larger font for formulas */
    overflow-x: auto; /* Allow scrolling if the formula is very long */
    padding: 5px 0;
}
.formula-block mjx-container { /* Styling the MathJax container */
    margin: 5px 0 !important;
}


.final-result {
    margin-top: 15px;
    padding: 10px;
    background-color: #e6f4e6;
    border: 1px solid #5cb85c;
    border-radius: 4px;
    display: inline-block; /* So the background is only around the text */
}
.final-result b {
    color: #3c763d;
}

/* Error styles */
.error {
    color: #D8000C;
    background-color: #FFD2D2;
    border: 1px solid #D8000C;
    padding: 10px;
    margin-bottom: 15px;
    border-radius: 4px;
    display: none; /* Initially hidden */
}
.error:not(:empty) { /* Show only if there is text */
    display: block;
}

/* Class for hiding inputs when the graph is maximized */
body.graph-maximized .input-container {
    visibility: hidden;
}
/* Hiding the hint when maximized */
body.graph-maximized #graph-hint {
     display: none;
}


/* Media query for layout control */
@media (max-width: 768px) { /* Threshold for vertical mode */
    #app-container {
        flex-direction: column;
    }
    #info-panel {
        width: 100%;
        max-width: none;
        border-right: none;
        border-bottom: 2px solid #ccc;
        height: auto; /* Automatic height */
        max-height: 60vh; /* Height limit so graphs are visible */
        overflow-y: auto; /* Allow scroll */
    }
    #graph-panel-container {
        min-height: 350px; /* Minimum height for graphs */
        height: 50vh; /* Height of the graph panel */
    }
    .input-container label {
        min-width: 100px; /* Can be reduced */
        text-align: left;
        margin-bottom: 3px;
    }
     .input-container {
        flex-direction: column;
        align-items: flex-start;
     }
     .input-container div{
         margin-left: 0; /* Remove indent for the input+units group */
     }
}

</style>
</head>
<body>
    <div id="app-container">
        <!-- Information and Input Panel -->
        <div id="info-panel">
            <!-- Headers and labels with data-lang-key -->
            <h1 data-lang-key="mainTitle">Калькулятор струму в фазі</h1>

            <!-- Data Input -->
            <div class="input-section">
                <h2 data-lang-key="inputDataTitle">Вхідні дані:</h2>
                <div id="voltage-container" class="input-container">
                    <label for="voltage-input" data-lang-key="voltageLabel">Напруга U:</label>
                    <div>
                        <input type="number" id="voltage-input" step="any" min="0" value="230">
                        <span class="unit" data-lang-key="unitVolt">В</span>
                    </div>
                </div>
                <div id="phase-angle-container" class="input-container">
                   <label for="phase-select" data-lang-key="phaseLabel">Фаза:</label>
                   <div>
                       <select id="phase-select">
                           <option value="A" selected>A (0°)</option>
                           <option value="B">B (-120°)</option>
                           <option value="C">C (120°)</option>
                       </select>
                       <!-- Added span for the word 'Angle' -->
                       <span id="phase-angle-label" data-lang-key="angleLabel" style="margin-left: 10px;">Кут:</span>
                       <span id="phase-angle-display" style="margin-left: 5px;">0°</span>
                   </div>
                </div>
                <div id="r-container" class="input-container">
                    <label for="r-input" data-lang-key="rLabel">Активний R:</label>
                     <div>
                        <input type="number" id="r-input" step="any" min="0" value="10">
                        <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>
                <div id="xl-container" class="input-container">
                    <label for="xl-input" data-lang-key="xlLabel">Індуктивний XL:</label>
                    <div>
                        <input type="number" id="xl-input" step="any" min="0" value="5">
                         <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>
                <div id="xc-container" class="input-container">
                    <label for="xc-input" data-lang-key="xcLabel">Ємнісний XC:</label>
                     <div>
                        <input type="number" id="xc-input" step="any" min="0" value="15">
                        <span class="unit" data-lang-key="unitOhm">Ом</span>
                    </div>
                </div>

            </div>

            <hr>

            <!-- Results Area -->
            <div id="results-area">
                <h2 data-lang-key="resultsTitle">Розрахунок:</h2>
                <div id="error-message" class="error"></div>

                <div id="calculation-steps">
                    <!-- Text before values also add data-lang-key -->
                    <p><span data-lang-key="phaseVoltageLabel">Напруга фази:</span> <span id="voltage-result"></span> <span data-lang-key="unitVolt">В</span></p>
                    <p><span data-lang-key="phaseImpedanceLabel">Імпеданс фази:</span>
                        <span id="impedance-rect-formula"></span> = <span id="impedance-rect-value"></span> <span data-lang-key="unitOhm">Ом</span>
                    </p>

                    <div id="impedance-polar-calculation">
                        <p><span data-lang-key="impedancePolarCalcLabel">Розрахунок Z (полярна форма):</span></p>
                        <div class="formula-block">
                           <span id="impedance-polar-formula"></span>
                        </div>
                    </div>
                    <p>|Z| = <span id="impedance-mag-value"></span> <span data-lang-key="unitOhm">Ом</span></p>
                    <p>φ<sub>Z</sub> = <span id="impedance-angle-value"></span><span data-lang-key="unitDegree">°</span></p>

                    <p><span data-lang-key="currentPolarCalcLabel">Розрахунок струму I (полярна форма):</span></p>
                    <div class="formula-block">
                       <span id="current-polar-formula"></span>
                    </div>
                    <p>I = <span id="current-polar-value"></span> <span data-lang-key="unitAmpere">А</span></p>

                    <div id="current-rect-calculation" style="display: none;">
                        <p><span data-lang-key="currentRectCalcLabel">Розрахунок струму I (прямокутна форма):</span></p>
                        <div class="formula-block">
                            <span id="current-rect-formula"></span>
                        </div>
                        <p>I = <span id="current-rect-value"></span> <span data-lang-key="unitAmpere">А</span></p>
                    </div>

                    <p class="final-result">
                        <b><span data-lang-key="finalCurrentLabel">Підсумковий струм:</span> <span id="final-current-value"></span> <span data-lang-key="unitAmpere">А</span></b>
                    </p>
                </div>
                <div id="needs-calculation-message" style="display: none;" data-lang-key="needsCalcMessage">Натисніть 'Порахувати' або змініть дані.</div>
            </div>
        </div>

        <!-- Graph Panel -->
        <div id="graph-panel-container">
            <div id="canvas-container"></div>
            <div id="graph-hint" style="text-align: center; margin-top: 5px; font-size: 0.9em; color: #555;" data-lang-key="graphHint">
                (Клікніть на графік для збільшення)
            </div>
        </div>
    </div>
</body>
</html>

    <script >
function _0x404b(_0x40f872,_0x474e7f){const _0x4473ea=_0x4473();return _0x404b=function(_0x404b36,_0x3d6b9b){_0x404b36=_0x404b36-0xa8;let _0x8d16b1=_0x4473ea[_0x404b36];return _0x8d16b1;},_0x404b(_0x40f872,_0x474e7f);}const _0x394b0d=_0x404b;(function(_0x1ef6ec,_0x184517){const _0x1efcdb=_0x404b,_0xa489e6=_0x1ef6ec();while(!![]){try{const _0x20467f=parseInt(_0x1efcdb(0x11b))/0x1+parseInt(_0x1efcdb(0xf3))/0x2*(-parseInt(_0x1efcdb(0x123))/0x3)+parseInt(_0x1efcdb(0xff))/0x4*(-parseInt(_0x1efcdb(0x139))/0x5)+parseInt(_0x1efcdb(0x17a))/0x6+-parseInt(_0x1efcdb(0x159))/0x7+-parseInt(_0x1efcdb(0x15f))/0x8*(parseInt(_0x1efcdb(0x13d))/0x9)+-parseInt(_0x1efcdb(0x13b))/0xa*(-parseInt(_0x1efcdb(0xea))/0xb);if(_0x20467f===_0x184517)break;else _0xa489e6['push'](_0xa489e6['shift']());}catch(_0x10a5d2){_0xa489e6['push'](_0xa489e6['shift']());}}}(_0x4473,0x890ef));const _0x532c81={};_0x532c81[_0x394b0d(0x17d)]=_0x394b0d(0xc2),_0x532c81['mainTitle']=_0x394b0d(0xc2),_0x532c81['inputDataTitle']=_0x394b0d(0x168),_0x532c81[_0x394b0d(0x183)]='Напруга\x20U:',_0x532c81[_0x394b0d(0x147)]=_0x394b0d(0x141),_0x532c81['angleLabel']=_0x394b0d(0x148),_0x532c81[_0x394b0d(0x176)]=_0x394b0d(0x19d),_0x532c81['xlLabel']=_0x394b0d(0x170),_0x532c81[_0x394b0d(0x10f)]=_0x394b0d(0x156),_0x532c81[_0x394b0d(0x164)]=_0x394b0d(0xef),_0x532c81[_0x394b0d(0x161)]='Напруга\x20фази:',_0x532c81[_0x394b0d(0xe9)]=_0x394b0d(0xc8),_0x532c81[_0x394b0d(0x115)]=_0x394b0d(0x18c),_0x532c81[_0x394b0d(0x13a)]='Розрахунок\x20струму\x20I\x20(полярна\x20форма):',_0x532c81[_0x394b0d(0x14c)]=_0x394b0d(0x103),_0x532c81[_0x394b0d(0xcb)]=_0x394b0d(0xb5),_0x532c81[_0x394b0d(0x17b)]=_0x394b0d(0xbd),_0x532c81['graphHint']='(Клікніть\x20на\x20графік\x20для\x20збільшення)',_0x532c81[_0x394b0d(0x122)]='В',_0x532c81[_0x394b0d(0xfe)]='Ом',_0x532c81[_0x394b0d(0xe5)]='А',_0x532c81['unitDegree']='°',_0x532c81[_0x394b0d(0x13e)]=_0x394b0d(0x173),_0x532c81[_0x394b0d(0x124)]='Помилка:\x20Ділення\x20на\x20нуль\x20(Імпеданс\x20Z\x20=\x200)',_0x532c81[_0x394b0d(0xf5)]='Помилка\x20в\x20розрахунку',_0x532c81[_0x394b0d(0x194)]=_0x394b0d(0x180),_0x532c81[_0x394b0d(0x130)]=_0x394b0d(0x11a),_0x532c81[_0x394b0d(0x111)]=_0x394b0d(0xab),_0x532c81[_0x394b0d(0x129)]=_0x394b0d(0x12d),_0x532c81[_0x394b0d(0x144)]='Re',_0x532c81[_0x394b0d(0x142)]='Im',_0x532c81['p5_currentLabel']=_0x394b0d(0x15c),_0x532c81[_0x394b0d(0xa8)]='I\x20=\x200\x20А',_0x532c81[_0x394b0d(0x145)]=_0x394b0d(0xfa),_0x532c81[_0x394b0d(0x104)]=_0x394b0d(0x15d),_0x532c81[_0x394b0d(0x14f)]=_0x394b0d(0x197),_0x532c81[_0x394b0d(0xbe)]=_0x394b0d(0xd1),_0x532c81[_0x394b0d(0x155)]=_0x394b0d(0x18f),_0x532c81[_0x394b0d(0x16f)]='Струм\x20I',_0x532c81[_0x394b0d(0x17f)]=_0x394b0d(0x19c);const _0x2f61b2={};_0x2f61b2['pageTitle']=_0x394b0d(0x193),_0x2f61b2['mainTitle']=_0x394b0d(0x193),_0x2f61b2['inputDataTitle']='Input\x20Data:',_0x2f61b2[_0x394b0d(0x183)]=_0x394b0d(0xe0),_0x2f61b2['phaseLabel']='Phase:',_0x2f61b2[_0x394b0d(0xfb)]='Angle:',_0x2f61b2['rLabel']=_0x394b0d(0x15b),_0x2f61b2[_0x394b0d(0x107)]=_0x394b0d(0x12b),_0x2f61b2[_0x394b0d(0x10f)]='Capacitive\x20XC:',_0x2f61b2[_0x394b0d(0x164)]=_0x394b0d(0x126),_0x2f61b2[_0x394b0d(0x161)]=_0x394b0d(0x10b),_0x2f61b2[_0x394b0d(0xe9)]=_0x394b0d(0x10a),_0x2f61b2[_0x394b0d(0x115)]=_0x394b0d(0xd9),_0x2f61b2[_0x394b0d(0x13a)]=_0x394b0d(0xcf),_0x2f61b2['currentRectCalcLabel']='Current\x20I\x20Calculation\x20(Rectangular\x20Form):',_0x2f61b2['finalCurrentLabel']=_0x394b0d(0x19b),_0x2f61b2['needsCalcMessage']=_0x394b0d(0x140),_0x2f61b2[_0x394b0d(0x113)]='(Click\x20on\x20the\x20graph\x20to\x20maximize)',_0x2f61b2['unitVolt']='V',_0x2f61b2[_0x394b0d(0xfe)]='Ω',_0x2f61b2['unitAmpere']='A',_0x2f61b2[_0x394b0d(0x186)]='°',_0x2f61b2[_0x394b0d(0x13e)]=_0x394b0d(0x177),_0x2f61b2['errorZeroImpedance']=_0x394b0d(0xc9),_0x2f61b2[_0x394b0d(0xf5)]=_0x394b0d(0xd7),_0x2f61b2[_0x394b0d(0x194)]=_0x394b0d(0x100),_0x2f61b2[_0x394b0d(0x130)]=_0x394b0d(0x182),_0x2f61b2[_0x394b0d(0x111)]=_0x394b0d(0x12f),_0x2f61b2[_0x394b0d(0x129)]=_0x394b0d(0x15a),_0x2f61b2[_0x394b0d(0x144)]='Re',_0x2f61b2[_0x394b0d(0x142)]='Im',_0x2f61b2[_0x394b0d(0x108)]=_0x394b0d(0x171),_0x2f61b2[_0x394b0d(0xa8)]=_0x394b0d(0x153),_0x2f61b2['p5_sineGraphTitle']=_0x394b0d(0xf8),_0x2f61b2[_0x394b0d(0x104)]=_0x394b0d(0xee),_0x2f61b2[_0x394b0d(0x14f)]=_0x394b0d(0x149),_0x2f61b2[_0x394b0d(0xbe)]=_0x394b0d(0xd1),_0x2f61b2[_0x394b0d(0x155)]=_0x394b0d(0xd5),_0x2f61b2['p5_legendCurrent']=_0x394b0d(0xfc),_0x2f61b2[_0x394b0d(0x17f)]='Not\x20enough\x20space\x20for\x20graphs';const _0x47ed68={};_0x47ed68['uk']=_0x532c81,_0x47ed68['en']=_0x2f61b2;const translations=_0x47ed68;let currentLang='en',voltage=0xe6,resistanceR=0xa,reactanceXl=0x5,reactanceXc=0xf,selectedPhase='A',phaseAngleDeg=0x0,impedanceZ_mag=0x0,impedanceZ_angle_deg=0x0,impedanceZ_real=0x0,impedanceZ_imag=0x0,currentI_mag=0x0,currentI_angle_deg=0x0,currentI_real=0x0,currentI_imag=0x0,calculated=![],calculationErrorKey=null,showPolarMaximized=![],showSineMaximized=![],isHorizontalLayout=!![],isMobile=![],voltageInputElement,phaseSelectElement,phaseAngleLabelElement,phaseAngleDisplay,rInputElement,xlInputElement,xcInputElement,resultsArea,errorMessageElement,needsCalcMessageElement,voltageResultSpan,impedanceRectFormulaSpan,impedanceRectValueSpan,impedancePolarFormulaSpan,impedanceMagValueSpan,impedanceAngleValueSpan,currentPolarFormulaSpan,currentPolarValueSpan,currentRectFormulaSpan,currentRectValueSpan,finalCurrentValueSpan,appContainer,canvasContainer,p5Canvas,graphHintElement,smallPolarGraphClickRect=null,smallSineGraphClickRect=null;const COLOR_BG_P5=_0x394b0d(0xdf),COLOR_TEXT_P5=_0x394b0d(0xc6),COLOR_SEPARATOR_P5=_0x394b0d(0xe1),COLOR_GRAPH_AXES=_0x394b0d(0x192),COLOR_VOLTAGE_WAVE=_0x394b0d(0xc5),COLOR_CURRENT_WAVE=_0x394b0d(0x146),COLOR_VECTOR_CURRENT=_0x394b0d(0x146),COLOR_PROJECTION=_0x394b0d(0xe1);let lastInteractionTime=0x0;const INTERACTION_DEBOUNCE_DELAY=0x12c,SINE_GRAPH_VERTICAL_SCALE_SMALL=1.5,SINE_GRAPH_VERTICAL_SCALE_MAXIMIZED=1.8,SINE_GRAPH_XMARGIN_SMALL=0x32,SINE_GRAPH_YMARGIN_SMALL=0x23,SINE_GRAPH_XMARGIN_MAXIMIZED=0x19,SINE_GRAPH_YMARGIN_MAXIMIZED=0x14;function detectLanguage(){const _0x2584b8=_0x394b0d,_0x30f6a6=navigator[_0x2584b8(0xbb)]||[navigator['language']||navigator['userLanguage']];let _0x25cf13='en';if(_0x30f6a6&&_0x30f6a6[_0x2584b8(0xcc)]>0x0){const _0x3a1a77=_0x30f6a6[0x0][_0x2584b8(0x1a6)]();_0x3a1a77[_0x2584b8(0x105)]('uk')&&(_0x25cf13='uk');}else{}currentLang=_0x25cf13,document[_0x2584b8(0x19f)][_0x2584b8(0x19a)]=currentLang;}function getText(_0x45c5c5){let _0x5f4e1f=translations[currentLang]?.[_0x45c5c5];_0x5f4e1f===undefined&&(_0x5f4e1f=translations['en']?.[_0x45c5c5]);if(_0x5f4e1f===undefined)return'['+_0x45c5c5+']';return _0x5f4e1f;}function applyStaticTranslations(){const _0x304913=_0x394b0d;document['querySelectorAll'](_0x304913(0xe8))[_0x304913(0xec)](_0x1b018f=>{const _0x247239=_0x304913,_0x56f8db=_0x1b018f['getAttribute'](_0x247239(0xc1));_0x56f8db&&(_0x1b018f[_0x247239(0xde)]===_0x247239(0xb1)?document['title']=getText(_0x56f8db):_0x1b018f[_0x247239(0x11d)]=getText(_0x56f8db));}),document['title']=getText(_0x304913(0x17d));}document[_0x394b0d(0xbf)](_0x394b0d(0x199),initialize);function initialize(){const _0x10476f=_0x394b0d;detectLanguage(),isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_0x10476f(0x10e)](navigator[_0x10476f(0x11e)]),appContainer=document[_0x10476f(0xe7)](_0x10476f(0x128)),canvasContainer=document[_0x10476f(0xe7)]('canvas-container'),graphHintElement=document[_0x10476f(0xe7)](_0x10476f(0x116)),voltageInputElement=document[_0x10476f(0xe7)](_0x10476f(0xe2)),phaseSelectElement=document[_0x10476f(0xe7)](_0x10476f(0x1a7)),phaseAngleLabelElement=document['getElementById']('phase-angle-label'),phaseAngleDisplay=document[_0x10476f(0xe7)](_0x10476f(0x132)),rInputElement=document['getElementById'](_0x10476f(0xdb)),xlInputElement=document[_0x10476f(0xe7)](_0x10476f(0x118)),xcInputElement=document[_0x10476f(0xe7)](_0x10476f(0x11c)),resultsArea=document['getElementById']('results-area'),errorMessageElement=document[_0x10476f(0xe7)](_0x10476f(0xf2)),needsCalcMessageElement=document[_0x10476f(0xe7)](_0x10476f(0xf0)),voltageResultSpan=document[_0x10476f(0xe7)](_0x10476f(0x163)),impedanceRectFormulaSpan=document['getElementById'](_0x10476f(0x17e)),impedanceRectValueSpan=document[_0x10476f(0xe7)]('impedance-rect-value'),impedancePolarFormulaSpan=document[_0x10476f(0xe7)](_0x10476f(0x121)),impedanceMagValueSpan=document['getElementById'](_0x10476f(0x166)),impedanceAngleValueSpan=document[_0x10476f(0xe7)](_0x10476f(0x1a3)),currentPolarFormulaSpan=document[_0x10476f(0xe7)]('current-polar-formula'),currentPolarValueSpan=document[_0x10476f(0xe7)](_0x10476f(0x109)),currentRectFormulaSpan=document[_0x10476f(0xe7)]('current-rect-formula'),currentRectValueSpan=document[_0x10476f(0xe7)](_0x10476f(0x10c)),finalCurrentValueSpan=document[_0x10476f(0xe7)](_0x10476f(0x14a));if(!appContainer||!canvasContainer){document[_0x10476f(0xc3)][_0x10476f(0xb6)]='<h1\x20style=\x22color:red;\x22>Fatal\x20Error:\x20HTML\x20structure\x20mismatch.\x20Check\x20element\x20IDs.</h1>';return;}applyStaticTranslations(),voltageInputElement[_0x10476f(0xf9)]=voltage,phaseSelectElement[_0x10476f(0xf9)]=selectedPhase,rInputElement['value']=resistanceR,xlInputElement[_0x10476f(0xf9)]=reactanceXl,xcInputElement[_0x10476f(0xf9)]=reactanceXc,voltageInputElement[_0x10476f(0xbf)]('input',handleInput),phaseSelectElement[_0x10476f(0xbf)](_0x10476f(0x137),handlePhaseChange),rInputElement[_0x10476f(0xbf)](_0x10476f(0xc4),handleInput),xlInputElement[_0x10476f(0xbf)](_0x10476f(0xc4),handleInput),xcInputElement[_0x10476f(0xbf)](_0x10476f(0xc4),handleInput),window[_0x10476f(0xbf)]('resize',handleResize),new p5(sketch,canvasContainer),updateLayout(),updatePhaseAngle(),performCalculation();}function handleInput(_0x255b94){const _0x635907=_0x394b0d,_0x2a7520=_0x255b94['target'];let _0xce106b=_0x2a7520[_0x635907(0xf9)],_0x20db40=parseFloat(_0xce106b),_0x4f5a6f=_0x2a7520['id'],_0x238b01=!![],_0x22d9b3='';const _0x2831d=document[_0x635907(0xd0)](_0x635907(0xd3)+_0x4f5a6f+'\x22]');if(_0x2831d){const _0x14a346=_0x2831d['getAttribute']('data-lang-key');_0x22d9b3=_0x14a346?getText(_0x14a346):_0x2831d['innerText']||_0x4f5a6f;}else _0x22d9b3=_0x4f5a6f;_0x22d9b3=_0x22d9b3[_0x635907(0xdc)](/:$/,''),_0x2a7520[_0x635907(0x1a0)][_0x635907(0x13f)]='';calculationErrorKey===_0x635907(0xac)&&(calculationErrorKey=null);if(_0xce106b==='')_0x20db40=0x0;else isNaN(_0x20db40)||_0x20db40<0x0?(calculationErrorKey=_0x635907(0xac),calculationErrorContext=_0x22d9b3,_0x2a7520[_0x635907(0x1a0)][_0x635907(0x13f)]=_0x635907(0x14e),_0x238b01=![],calculated=![]):calculationErrorContext=null;if(_0x238b01){switch(_0x4f5a6f){case _0x635907(0xe2):voltage=_0x20db40;break;case'r-input':resistanceR=_0x20db40;break;case _0x635907(0x118):reactanceXl=_0x20db40;break;case _0x635907(0x11c):reactanceXc=_0x20db40;break;}performCalculation();}else updateResultsHTML();}function handlePhaseChange(_0x217ceb){const _0x362947=_0x394b0d;selectedPhase=_0x217ceb[_0x362947(0x127)][_0x362947(0xf9)];const _0x397854=_0x217ceb[_0x362947(0x127)];_0x397854[_0x362947(0x1a0)][_0x362947(0x13f)]='',updatePhaseAngle(),calculationErrorKey===_0x362947(0xac)&&(calculationErrorKey=null,calculationErrorContext=null),performCalculation();}function updatePhaseAngle(){const _0x4fd87a=_0x394b0d;switch(selectedPhase){case'A':phaseAngleDeg=0x0;break;case'B':phaseAngleDeg=-0x78;break;case'C':phaseAngleDeg=0x78;break;default:phaseAngleDeg=0x0;}if(phaseAngleLabelElement){}phaseAngleDisplay&&(phaseAngleDisplay[_0x4fd87a(0x11d)]=''+formatNumber(phaseAngleDeg,0x0)+getText(_0x4fd87a(0x186)));}let calculationErrorContext=null;function performCalculation(){const _0x14b33c=_0x394b0d;if(calculationErrorKey===_0x14b33c(0xac)){calculated=![],updateResultsHTML();return;}impedanceZ_real=resistanceR,impedanceZ_imag=reactanceXl-reactanceXc,impedanceZ_mag=Math[_0x14b33c(0x169)](Math[_0x14b33c(0x19e)](impedanceZ_real,0x2)+Math[_0x14b33c(0x19e)](impedanceZ_imag,0x2)),impedanceZ_angle_deg=0xb4/Math['PI']*Math['atan2'](impedanceZ_imag,impedanceZ_real),calculationErrorKey=null,calculationErrorContext=null;if(impedanceZ_mag<1e-9){calculationErrorKey=_0x14b33c(0x124),currentI_mag=0x0,currentI_angle_deg=0x0,currentI_real=0x0,currentI_imag=0x0,calculated=!![],updateResultsHTML();return;}currentI_mag=voltage/ impedanceZ_mag,currentI_angle_deg=phaseAngleDeg-impedanceZ_angle_deg;while(currentI_angle_deg>0xb4)currentI_angle_deg-=0x168;while(currentI_angle_deg<=-0xb4)currentI_angle_deg+=0x168;let _0x4d5aaf=Math['PI']/0xb4*currentI_angle_deg;currentI_real=currentI_mag*Math[_0x14b33c(0x162)](_0x4d5aaf),currentI_imag=currentI_mag*Math[_0x14b33c(0x16c)](_0x4d5aaf);if(Math['abs'](impedanceZ_imag)<1e-9)impedanceZ_imag=0x0;if(Math[_0x14b33c(0x119)](currentI_imag)<1e-9)currentI_imag=0x0;if(impedanceZ_imag===0x0&&impedanceZ_real>=0x0)impedanceZ_angle_deg=0x0;calculated=!![],updateResultsHTML();}function updateResultsHTML(){const _0x2587b4=_0x394b0d,_0x201dc3=document[_0x2587b4(0xe7)]('calculation-steps'),_0x184b27=document[_0x2587b4(0xe7)](_0x2587b4(0xb8)),_0x44e27f=document[_0x2587b4(0xe7)](_0x2587b4(0xb4)),_0x426a2e=getText(_0x2587b4(0x122)),_0x5aa8f6=getText(_0x2587b4(0xfe)),_0x2af3a2=getText(_0x2587b4(0xe5)),_0x3971ed=getText(_0x2587b4(0x186));if(calculationErrorKey){let _0x5a9eee=getText(calculationErrorKey);calculationErrorKey===_0x2587b4(0xac)&&calculationErrorContext&&(_0x5a9eee+='\x20\x22'+calculationErrorContext+'\x22');errorMessageElement[_0x2587b4(0x11d)]=_0x5a9eee,errorMessageElement[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0x106),_0x201dc3['style']['display']='none',needsCalcMessageElement[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0xfd);if(_0x184b27)_0x184b27[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0xfd);if(_0x44e27f)_0x44e27f[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]='none';}else{if(calculated){errorMessageElement[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]='none',_0x201dc3['style'][_0x2587b4(0xaa)]=_0x2587b4(0x106),needsCalcMessageElement[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]='none';const _0x59ed3c=formatNumber(voltage),_0x2f2c93=formatNumber(phaseAngleDeg),_0x2cac0e=_0x59ed3c+_0x2587b4(0x179)+_0x2f2c93+_0x3971ed,_0x58e3d2=formatNumber(impedanceZ_real),_0x57f1e0=formatNumber(impedanceZ_imag),_0x420bc6=formatComplexLatex(impedanceZ_real,impedanceZ_imag),_0x2e192a=formatNumber(impedanceZ_mag),_0x55394f=formatNumber(impedanceZ_angle_deg),_0x44d0cf=_0x2e192a+_0x2587b4(0x179)+_0x55394f+_0x3971ed,_0x29575c=formatNumber(currentI_mag),_0x59b8be=formatNumber(currentI_angle_deg),_0x525ba1=_0x29575c+_0x2587b4(0x179)+_0x59b8be+_0x3971ed,_0x19675b=formatComplexLatex(currentI_real,currentI_imag);voltageResultSpan[_0x2587b4(0x11d)]='$'+_0x2cac0e+'$',impedanceRectFormulaSpan['innerText']=_0x2587b4(0x198),impedanceRectValueSpan[_0x2587b4(0x11d)]='$'+_0x420bc6+'$',impedanceMagValueSpan['innerText']=_0x2e192a,impedanceAngleValueSpan['innerText']=_0x55394f;const _0x3c01f5=Math['abs'](impedanceZ_imag)<1e-9;if(_0x3c01f5){if(_0x184b27)_0x184b27[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0xfd);}else{if(_0x184b27){const _0x3763e4=_0x2587b4(0xf1)+_0x58e3d2+_0x2587b4(0x185)+_0x57f1e0+'^2}',_0x1ca101=_0x2587b4(0x1a2)+_0x57f1e0+'}{'+_0x58e3d2+'}\x5cright)',_0x53e3d9=_0x184b27[_0x2587b4(0xd0)](_0x2587b4(0x15e));_0x53e3d9&&(_0x53e3d9[_0x2587b4(0xb6)]='$$'+_0x3763e4+_0x2587b4(0x191)+_0x1ca101+'$$'),_0x184b27['style'][_0x2587b4(0xaa)]=_0x2587b4(0x106);}}let _0x562156;if(_0x3c01f5)_0x562156='I\x20=\x20\x5cfrac{U}{Z}\x20=\x20\x5cfrac{'+_0x2cac0e+'}{'+_0x44d0cf+_0x2587b4(0x1a5)+_0x59ed3c+'}{'+_0x2e192a+_0x2587b4(0x14b)+_0x2f2c93+_0x3971ed;else{let _0x19d7a5;impedanceZ_angle_deg<-1e-9?_0x19d7a5='('+_0x55394f+_0x3971ed+')':_0x19d7a5=''+_0x55394f+_0x3971ed,_0x562156=_0x2587b4(0xd6)+_0x2cac0e+'}{'+_0x44d0cf+_0x2587b4(0x1a5)+_0x59ed3c+'}{'+_0x2e192a+'}\x20\x5cright)\x20\x5cangle\x20('+_0x2f2c93+_0x3971ed+'\x20-\x20'+_0x19d7a5+')';}currentPolarFormulaSpan['innerHTML']='$$'+_0x562156+'$$',currentPolarValueSpan[_0x2587b4(0x11d)]='$'+_0x525ba1+'$';if(_0x44e27f){const _0x2f80cc=_0x2587b4(0x16b)+_0x29575c+_0x2587b4(0x16e)+_0x59b8be+_0x3971ed+_0x2587b4(0x178)+_0x59b8be+_0x3971ed+'))',_0x2f55a5=_0x44e27f[_0x2587b4(0xd0)](_0x2587b4(0xba)),_0x3ee6c6=_0x44e27f['querySelector'](_0x2587b4(0x131));if(_0x2f55a5)_0x2f55a5['innerHTML']='$$'+_0x2f80cc+'$$';if(_0x3ee6c6)_0x3ee6c6['innerText']='$'+_0x19675b+'$';_0x44e27f[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0x106);}finalCurrentValueSpan[_0x2587b4(0x11d)]='$'+_0x525ba1+'$';if(typeof MathJax!==_0x2587b4(0xb2)&&MathJax[_0x2587b4(0x10d)])MathJax[_0x2587b4(0x10d)]([resultsArea])[_0x2587b4(0x12a)](function(_0x17f62c){});else{}}else{errorMessageElement[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0xfd),_0x201dc3[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0xfd),needsCalcMessageElement[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0x106);if(_0x184b27)_0x184b27[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]='none';if(_0x44e27f)_0x44e27f[_0x2587b4(0x1a0)][_0x2587b4(0xaa)]=_0x2587b4(0xfd);}}}function updateLayout(){const _0x2026c0=_0x394b0d,_0x165107=window[_0x2026c0(0x14d)],_0x491ca0=0x301,_0x274de1=_0x165107>=_0x491ca0;if(_0x274de1!==isHorizontalLayout){isHorizontalLayout=_0x274de1;if(appContainer){appContainer['classList'][_0x2026c0(0x18e)](_0x2026c0(0x160),isHorizontalLayout),appContainer[_0x2026c0(0xc0)][_0x2026c0(0x18e)]('layout-vertical',!isHorizontalLayout);const _0x79f3c0=document[_0x2026c0(0xe7)](_0x2026c0(0x188)),_0x346179=document['getElementById'](_0x2026c0(0xed));_0x79f3c0&&(_0x79f3c0[_0x2026c0(0xc0)]['toggle'](_0x2026c0(0x160),isHorizontalLayout),_0x79f3c0[_0x2026c0(0xc0)][_0x2026c0(0x18e)](_0x2026c0(0xce),!isHorizontalLayout)),_0x346179&&(_0x346179[_0x2026c0(0xc0)][_0x2026c0(0x18e)](_0x2026c0(0x160),isHorizontalLayout),_0x346179[_0x2026c0(0xc0)][_0x2026c0(0x18e)](_0x2026c0(0xce),!isHorizontalLayout));}updateGraphHint(),(showPolarMaximized||showSineMaximized)&&handleCloseMaximizedGraph();}updateGraphHint();}function handleResize(){const _0x47ddd0=_0x394b0d;updateLayout();if(p5Canvas&&typeof window[_0x47ddd0(0x133)]!==_0x47ddd0(0xb2)&&window['p5Instance'][_0x47ddd0(0x195)]&&canvasContainer){const _0x18dc60=canvasContainer[_0x47ddd0(0x196)]-0x2,_0x4559a9=canvasContainer[_0x47ddd0(0x1a4)]-0x2;if(_0x18dc60>0x0&&_0x4559a9>0x0)(p5Canvas[_0x47ddd0(0x102)]!==_0x18dc60||p5Canvas[_0x47ddd0(0x18d)]!==_0x4559a9)&&(window['p5Instance'][_0x47ddd0(0x195)](_0x18dc60,_0x4559a9),window[_0x47ddd0(0x133)][_0x47ddd0(0x172)]()?window['p5Instance'][_0x47ddd0(0x184)]():window[_0x47ddd0(0x133)][_0x47ddd0(0x184)]());else{}}}function formatNumber(_0x55aa53,_0x46a870=0x2){const _0x18bdfd=_0x394b0d;if(!isFinite(_0x55aa53))return _0x55aa53[_0x18bdfd(0x17c)]();if(Math[_0x18bdfd(0x119)](_0x55aa53)<0.000001&&Math[_0x18bdfd(0x119)](_0x55aa53)>0x0)return _0x55aa53[_0x18bdfd(0xae)](_0x46a870);if(Math['abs'](_0x55aa53)>0x3b9aca00)return _0x55aa53[_0x18bdfd(0xae)](_0x46a870);const _0x2bb49a={};_0x2bb49a[_0x18bdfd(0x135)]=0x0,_0x2bb49a[_0x18bdfd(0x18b)]=_0x46a870,_0x2bb49a[_0x18bdfd(0xeb)]=![];let _0x4e20f9=_0x2bb49a,_0x1ab5a4=parseFloat(_0x55aa53[_0x18bdfd(0xf6)](_0x46a870));if(Object['is'](_0x1ab5a4,-0x0))_0x1ab5a4=0x0;return _0x1ab5a4['toLocaleString']('en',_0x4e20f9);}function formatComplexLatex(_0x16b1ed,_0x3c04d9,_0x352a93=0x2){const _0x53b010=_0x394b0d;let _0x307ee0=formatNumber(_0x16b1ed,_0x352a93),_0xc47bbc=formatNumber(Math[_0x53b010(0x119)](_0x3c04d9),_0x352a93);if(Math[_0x53b010(0x119)](_0x3c04d9)<1e-9)return _0x307ee0;else{const _0x2dd1df=_0x3c04d9<0x0?'-':'+';return _0x307ee0+'\x20'+_0x2dd1df+'\x20j'+_0xc47bbc;}}function updateGraphHint(){const _0x34de8a=_0x394b0d;graphHintElement&&(isMobile&&!isHorizontalLayout?graphHintElement[_0x34de8a(0x1a0)][_0x34de8a(0xaa)]=_0x34de8a(0x106):graphHintElement[_0x34de8a(0x1a0)][_0x34de8a(0xaa)]='none');}const sketch=_0x3d62b2=>{const _0xb94a93=_0x394b0d;window[_0xb94a93(0x133)]=_0x3d62b2,_0x3d62b2[_0xb94a93(0x125)]=()=>{const _0x36749c=_0xb94a93;p5Canvas=_0x3d62b2[_0x36749c(0xbc)](0x64,0x64),p5Canvas[_0x36749c(0xc7)](_0x36749c(0xe4)),_0x3d62b2[_0x36749c(0xf4)]('Arial'),_0x3d62b2[_0x36749c(0x101)](_0x3d62b2['displayDensity']()),handleResize();},_0x3d62b2[_0xb94a93(0x151)]=()=>{const _0x561107=_0xb94a93;_0x3d62b2['background'](COLOR_BG_P5);if(!calculated||calculationErrorKey){_0x3d62b2[_0x561107(0x120)](),_0x3d62b2['fill'](COLOR_TEXT_P5),_0x3d62b2['textAlign'](_0x3d62b2['CENTER'],_0x3d62b2['CENTER']),_0x3d62b2[_0x561107(0xb3)](0xe);let _0x75886d=_0x561107(0x194);if(calculationErrorKey)switch(calculationErrorKey){case'errorInvalidInput':_0x75886d='p5_fixInputError';break;case _0x561107(0x124):_0x75886d=_0x561107(0x111);break;default:_0x75886d=_0x561107(0xf5);}else!calculated&&(_0x75886d=_0x561107(0x194));_0x3d62b2[_0x561107(0x154)](getText(_0x75886d),_0x3d62b2['width']/0x2,_0x3d62b2['height']/0x2),_0x3d62b2[_0x561107(0x187)](),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;return;}if(showPolarMaximized)drawPolarGraph(_0x3d62b2,_0x3d62b2[_0x561107(0x102)],_0x3d62b2[_0x561107(0x18d)],!![]),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;else{if(showSineMaximized)drawSineGraph(_0x3d62b2,_0x3d62b2[_0x561107(0x102)],_0x3d62b2[_0x561107(0x18d)],!![]),smallPolarGraphClickRect=null,smallSineGraphClickRect=null;else{let _0x5870f5=_0x3d62b2[_0x561107(0x102)],_0x438c44=_0x3d62b2[_0x561107(0x18d)],_0x249581=0x3c;if(_0x5870f5>_0x249581&&_0x438c44>_0x249581){drawGraphsArea(_0x3d62b2,_0x5870f5,_0x438c44,![],!isHorizontalLayout);let _0x27d1bc=0x8,_0x13a953=_0x5870f5-0x2*_0x27d1bc,_0x3b092e=_0x438c44-0x2*_0x27d1bc,_0x305f03=0x1e,_0x217c44=0x14,_0x2e7f26=_0x3b092e-_0x305f03*0x2-_0x217c44;if(_0x2e7f26>0x14){let _0x5d862a,_0x2395a;const _0x539b7e=Math[_0x561107(0x136)](0.1,SINE_GRAPH_VERTICAL_SCALE_SMALL),_0x583e05=0x1+_0x539b7e;!isHorizontalLayout?(_0x5d862a=_0x2e7f26/_0x583e05,_0x2395a=_0x2e7f26*_0x539b7e/_0x583e05):(_0x5d862a=_0x2e7f26/0x2,_0x2395a=_0x2e7f26/0x2);const _0x7c516={};_0x7c516['x']=_0x27d1bc,_0x7c516['y']=_0x27d1bc+_0x305f03,_0x7c516['w']=_0x13a953,_0x7c516['h']=_0x5d862a,smallPolarGraphClickRect=_0x7c516;const _0x5089b0={};_0x5089b0['x']=_0x27d1bc,_0x5089b0['y']=_0x27d1bc+_0x305f03+_0x5d862a+_0x217c44+_0x305f03,_0x5089b0['w']=_0x13a953,_0x5089b0['h']=_0x2395a,smallSineGraphClickRect=_0x5089b0;}else smallPolarGraphClickRect=null,smallSineGraphClickRect=null;}else smallPolarGraphClickRect=null,smallSineGraphClickRect=null;}}},_0x3d62b2['mousePressed']=()=>{handleP5MousePress(_0x3d62b2);},_0x3d62b2[_0xb94a93(0x138)]=()=>{handleP5DoubleClick(_0x3d62b2);};};function handleP5MousePress(_0x3e7073){const _0x315ff2=_0x394b0d;let _0x358fa6=_0x3e7073[_0x315ff2(0xca)]();if(_0x358fa6-lastInteractionTime<INTERACTION_DEBOUNCE_DELAY)return;let _0x3e540e=_0x3e7073['mouseX'],_0xd26a67=_0x3e7073[_0x315ff2(0xd4)];if(showPolarMaximized||showSineMaximized){handleCloseMaximizedGraph(),lastInteractionTime=_0x358fa6;return;}const _0x46285b=isMobile&&!isHorizontalLayout;if(!_0x46285b)return;if(calculated&&!calculationErrorKey){let _0x5b44e1=![];if(smallPolarGraphClickRect&&isClickInsideRect(_0x3e540e,_0xd26a67,smallPolarGraphClickRect))handleOpenMaximizedGraph('polar'),_0x5b44e1=!![];else smallSineGraphClickRect&&isClickInsideRect(_0x3e540e,_0xd26a67,smallSineGraphClickRect)&&(handleOpenMaximizedGraph(_0x315ff2(0xb0)),_0x5b44e1=!![]);_0x5b44e1&&(lastInteractionTime=_0x358fa6);}}function handleP5DoubleClick(_0x6e35d8){let _0x3f9d88=_0x6e35d8['millis']();if(_0x3f9d88-lastInteractionTime<INTERACTION_DEBOUNCE_DELAY)return;(showPolarMaximized||showSineMaximized)&&(handleCloseMaximizedGraph(),lastInteractionTime=_0x3f9d88);}function handleOpenMaximizedGraph(_0x10530d){const _0x30cb91=_0x394b0d;if(_0x10530d==='polar'&&showPolarMaximized||_0x10530d===_0x30cb91(0xb0)&&showSineMaximized)return;if(_0x10530d===_0x30cb91(0x13c))showPolarMaximized=!![],showSineMaximized=![];else{if(_0x10530d==='sine')showSineMaximized=!![],showPolarMaximized=![];else return;}updateGraphHint(),typeof window[_0x30cb91(0x133)]!=='undefined'&&(window['p5Instance'][_0x30cb91(0xb9)](),window['p5Instance'][_0x30cb91(0x184)]());}function handleCloseMaximizedGraph(){const _0x4284df=_0x394b0d;if(!showPolarMaximized&&!showSineMaximized)return;showPolarMaximized=![],showSineMaximized=![],updateGraphHint(),typeof window[_0x4284df(0x133)]!==_0x4284df(0xb2)&&window[_0x4284df(0x133)][_0x4284df(0x184)]();}function isClickInsideRect(_0x28bca1,_0x1520b2,_0x509737){const _0x411d67=_0x394b0d;if(!_0x509737)return![];if(typeof _0x509737['x']!==_0x411d67(0x16a)||typeof _0x509737['y']!==_0x411d67(0x16a)||typeof _0x509737['w']!==_0x411d67(0x16a)||typeof _0x509737['h']!==_0x411d67(0x16a))return![];return _0x28bca1>=_0x509737['x']&&_0x28bca1<=_0x509737['x']+_0x509737['w']&&_0x1520b2>=_0x509737['y']&&_0x1520b2<=_0x509737['y']+_0x509737['h'];}function drawGraphsArea(_0xb84cf2,_0x5f5b55,_0xb5ddf7,_0x110b6c,_0x4be9ce=![]){const _0x59e7a4=_0x394b0d;_0xb84cf2[_0x59e7a4(0x120)]();let _0x526770=_0x110b6c?0x28:0x8,_0x37ef1c=_0x5f5b55-0x2*_0x526770,_0xf5aefb=_0xb5ddf7-0x2*_0x526770,_0x5489fa=0x1e,_0x5bd914=0x14,_0x23e77b=_0x5489fa*0x2+_0x5bd914+0x28;if(_0x37ef1c<=0x0||_0xf5aefb<_0x23e77b){_0xb84cf2[_0x59e7a4(0x120)](),_0xb84cf2[_0x59e7a4(0x165)](COLOR_TEXT_P5),_0xb84cf2[_0x59e7a4(0x117)](_0xb84cf2[_0x59e7a4(0x12c)],_0xb84cf2[_0x59e7a4(0x12c)]),_0xb84cf2[_0x59e7a4(0xb3)](0xe),_0xb84cf2[_0x59e7a4(0x154)](getText(_0x59e7a4(0x17f)),_0x5f5b55/0x2,_0xb5ddf7/0x2),_0xb84cf2['pop'](),_0xb84cf2[_0x59e7a4(0x187)]();return;}let _0x259f88=_0xf5aefb-_0x5489fa*0x2-_0x5bd914,_0x55c41f,_0x4353ed;const _0x810507=Math[_0x59e7a4(0x136)](0.1,SINE_GRAPH_VERTICAL_SCALE_SMALL),_0x19a102=0x1+_0x810507;_0x4be9ce&&!_0x110b6c?(_0x55c41f=_0x259f88/_0x19a102,_0x4353ed=_0x259f88*_0x810507/_0x19a102):(_0x55c41f=_0x259f88/0x2,_0x4353ed=_0x259f88/0x2),_0xb84cf2[_0x59e7a4(0xf7)](_0x526770,_0x526770),_0xb84cf2[_0x59e7a4(0x120)](),_0xb84cf2[_0x59e7a4(0x165)](COLOR_TEXT_P5),_0xb84cf2[_0x59e7a4(0xb3)](_0x110b6c?0x12:0xe),_0xb84cf2[_0x59e7a4(0x117)](_0xb84cf2[_0x59e7a4(0x12c)],_0xb84cf2[_0x59e7a4(0xdd)]),_0xb84cf2[_0x59e7a4(0x154)](getText(_0x59e7a4(0x129)),_0x37ef1c/0x2,0x0),_0xb84cf2[_0x59e7a4(0xf7)](0x0,_0x5489fa),_0x55c41f>0x14?drawPolarGraph(_0xb84cf2,_0x37ef1c,_0x55c41f,_0x110b6c):_0xb84cf2[_0x59e7a4(0x154)](_0x59e7a4(0x18a),_0x37ef1c/0x2,_0x55c41f/0x2),_0xb84cf2[_0x59e7a4(0x187)](),_0xb84cf2[_0x59e7a4(0x120)](),_0xb84cf2['translate'](0x0,_0x5489fa+_0x55c41f+_0x5bd914),_0xb84cf2[_0x59e7a4(0x165)](COLOR_TEXT_P5),_0xb84cf2[_0x59e7a4(0xb3)](_0x110b6c?0x12:0xe),_0xb84cf2[_0x59e7a4(0x117)](_0xb84cf2[_0x59e7a4(0x12c)],_0xb84cf2[_0x59e7a4(0xdd)]),_0xb84cf2[_0x59e7a4(0x154)](getText(_0x59e7a4(0x145)),_0x37ef1c/0x2,0x0),_0xb84cf2['translate'](0x0,_0x5489fa),_0x4353ed>0x14?drawSineGraph(_0xb84cf2,_0x37ef1c,_0x4353ed,_0x110b6c):_0xb84cf2[_0x59e7a4(0x154)](_0x59e7a4(0x18a),_0x37ef1c/0x2,_0x4353ed/0x2),_0xb84cf2[_0x59e7a4(0x187)](),_0xb84cf2['pop']();}function drawPolarGraph(_0x1c3115,_0x4d00a3,_0x2b9ac3,_0x59560f){const _0x2c715f=_0x394b0d;_0x1c3115[_0x2c715f(0x120)](),_0x1c3115[_0x2c715f(0xf7)](_0x4d00a3/0x2,_0x2b9ac3/0x2);let _0xc97ae5=_0x1c3115[_0x2c715f(0x152)](_0x4d00a3,_0x2b9ac3)/0x2*(_0x59560f?0.9:0.85),_0x5de312=currentI_mag,_0xd49931=_0x1c3115[_0x2c715f(0xe6)](currentI_angle_deg),_0x229ddd=0x1;if(_0x5de312>1e-9&&_0xc97ae5>0xa){let _0xc18a1=_0xc97ae5*0.75;_0x229ddd=_0xc18a1/_0x5de312;let _0x144b15=0.01;_0x5de312<_0x144b15&&(_0x229ddd=_0xc18a1/_0x144b15),_0x229ddd=_0x1c3115[_0x2c715f(0x136)](0.01,_0x229ddd);}else{if(_0xc97ae5<=0xa){_0x1c3115[_0x2c715f(0x187)]();return;}else _0x5de312=0x0;}_0x1c3115[_0x2c715f(0x157)](),_0x1c3115['fill'](0xff,0xff,0xff,0x96),_0x1c3115[_0x2c715f(0x134)](0x0,0x0,_0xc97ae5*2.1,_0xc97ae5*2.1),_0x1c3115[_0x2c715f(0xa9)]();let _0x5640f4=_0x1c3115['color'](COLOR_GRAPH_AXES);_0x5640f4[_0x2c715f(0x114)](0x3c),_0x1c3115[_0x2c715f(0x12e)](_0x5640f4),_0x1c3115[_0x2c715f(0xd2)](0.5);let _0x558e2a=0x5;for(let _0x2853b3=0x1;_0x2853b3<=_0x558e2a;_0x2853b3++){let _0x24fd9b=_0xc97ae5*(_0x2853b3/_0x558e2a);_0x1c3115[_0x2c715f(0x134)](0x0,0x0,_0x24fd9b*0x2,_0x24fd9b*0x2);}for(let _0x5bf88c=0x0;_0x5bf88c<0x168;_0x5bf88c+=0x1e){let _0x6d4a3c=_0x1c3115[_0x2c715f(0xe6)](_0x5bf88c);_0x1c3115[_0x2c715f(0x12e)](_0x5640f4),_0x1c3115[_0x2c715f(0xd2)](0.5),_0x1c3115[_0x2c715f(0x189)](0x0,0x0,_0x1c3115[_0x2c715f(0x162)](_0x6d4a3c)*_0xc97ae5,_0x1c3115['sin'](_0x6d4a3c)*_0xc97ae5);if(_0xc97ae5>0x1e&&_0x5bf88c%0x5a!==0x0){_0x1c3115['push'](),_0x1c3115[_0x2c715f(0x157)](),_0x1c3115['fill'](COLOR_GRAPH_AXES),_0x1c3115[_0x2c715f(0x117)](_0x1c3115[_0x2c715f(0x12c)],_0x1c3115[_0x2c715f(0x12c)]),_0x1c3115['textSize'](_0x1c3115['max'](0x9,_0xc97ae5*0.1));let _0x2847e6=_0xc97ae5+_0x1c3115[_0x2c715f(0x136)](0xa,_0xc97ae5*0.15);_0x1c3115[_0x2c715f(0x154)](_0x5bf88c+getText('unitDegree'),_0x1c3115[_0x2c715f(0x162)](_0x6d4a3c)*_0x2847e6,_0x1c3115[_0x2c715f(0x16c)](_0x6d4a3c)*_0x2847e6),_0x1c3115['pop']();}}_0x1c3115['stroke'](COLOR_GRAPH_AXES),_0x1c3115[_0x2c715f(0xd2)](1.5);let _0x204aa0=_0xc97ae5*1.1;_0x1c3115[_0x2c715f(0x189)](-_0x204aa0,0x0,_0x204aa0,0x0),_0x1c3115[_0x2c715f(0x189)](0x0,-_0x204aa0,0x0,_0x204aa0);_0xc97ae5>0x14&&(_0x1c3115[_0x2c715f(0x165)](COLOR_GRAPH_AXES),_0x1c3115[_0x2c715f(0x157)](),_0x1c3115[_0x2c715f(0xb3)](_0x1c3115[_0x2c715f(0x136)](0xa,_0xc97ae5*0.12)),_0x1c3115[_0x2c715f(0x110)](_0x1c3115['BOLD']),_0x1c3115[_0x2c715f(0x117)](_0x1c3115[_0x2c715f(0x167)],_0x1c3115[_0x2c715f(0x12c)]),_0x1c3115[_0x2c715f(0x154)](getText(_0x2c715f(0x144)),_0x204aa0+0x5,0x0),_0x1c3115[_0x2c715f(0x117)](_0x1c3115[_0x2c715f(0x12c)],_0x1c3115['BOTTOM']),_0x1c3115[_0x2c715f(0x154)](getText(_0x2c715f(0x142)),0x0,-_0x204aa0-0x5),_0x1c3115['textStyle'](_0x1c3115['NORMAL']));if(_0x5de312>0x0&&_0x229ddd>0x0){let _0xae97ce=_0x5de312*_0x1c3115[_0x2c715f(0x162)](_0xd49931)*_0x229ddd,_0x19b039=_0x5de312*_0x1c3115[_0x2c715f(0x16c)](_0xd49931)*_0x229ddd;_0xc97ae5>0x28&&(_0x1c3115[_0x2c715f(0x120)](),_0x1c3115[_0x2c715f(0x12e)](COLOR_PROJECTION),_0x1c3115['strokeWeight'](1.5),_0x1c3115[_0x2c715f(0xe3)][_0x2c715f(0x175)]([0x4,0x3]),_0x1c3115['line'](_0xae97ce,_0x19b039,_0xae97ce,0x0),_0x1c3115['line'](_0xae97ce,_0x19b039,0x0,_0x19b039),_0x1c3115['drawingContext'][_0x2c715f(0x175)]([]),_0x1c3115[_0x2c715f(0x187)]());_0x1c3115['stroke'](COLOR_VECTOR_CURRENT),_0x1c3115[_0x2c715f(0xd2)](_0x1c3115[_0x2c715f(0x136)](0x2,_0xc97ae5*0.05)),_0x1c3115[_0x2c715f(0x189)](0x0,0x0,_0xae97ce,_0x19b039),_0x1c3115[_0x2c715f(0x120)](),_0x1c3115['translate'](_0xae97ce,_0x19b039),_0x1c3115[_0x2c715f(0x181)](_0xd49931),_0x1c3115[_0x2c715f(0x165)](COLOR_VECTOR_CURRENT),_0x1c3115[_0x2c715f(0x157)]();let _0x4c5603=_0x1c3115[_0x2c715f(0x136)](0x6,_0xc97ae5*0.1);_0x1c3115[_0x2c715f(0x16d)](0x0,0x0,-_0x4c5603,-_0x4c5603/0x2,-_0x4c5603,_0x4c5603/0x2),_0x1c3115[_0x2c715f(0x187)]();if(_0xc97ae5>0x32&&_0x1c3115[_0x2c715f(0x119)](_0xd49931)>0.01){let _0x4a76f3=_0xc97ae5*0.25;_0x1c3115[_0x2c715f(0xa9)]();let _0x4874c6=_0x1c3115[_0x2c715f(0xcd)](COLOR_GRAPH_AXES);_0x4874c6[_0x2c715f(0x114)](0xb4),_0x1c3115[_0x2c715f(0x12e)](_0x4874c6),_0x1c3115[_0x2c715f(0xd2)](0x1),_0x1c3115[_0x2c715f(0x174)](0x0,0x0,_0x4a76f3*0x2,_0x4a76f3*0x2,0x0,_0xd49931),_0x1c3115[_0x2c715f(0x165)](COLOR_TEXT_P5),_0x1c3115[_0x2c715f(0x157)](),_0x1c3115[_0x2c715f(0xb3)](_0x1c3115['max'](0x9,_0xc97ae5*0.1)),_0x1c3115[_0x2c715f(0x117)](_0x1c3115['CENTER'],_0x1c3115[_0x2c715f(0x12c)]);let _0x15a416=_0x4a76f3*1.6;_0x1c3115['text'](''+formatNumber(currentI_angle_deg,0x1)+getText(_0x2c715f(0x186)),_0x1c3115[_0x2c715f(0x162)](_0xd49931/0x2)*_0x15a416,_0x1c3115[_0x2c715f(0x16c)](_0xd49931/0x2)*_0x15a416);}_0xc97ae5>0x3c&&(_0x1c3115[_0x2c715f(0x120)](),_0x1c3115[_0x2c715f(0xf7)](_0xae97ce/0x2,_0x19b039/0x2),_0x1c3115[_0x2c715f(0x181)](_0xd49931),_0x1c3115['fill'](COLOR_TEXT_P5),_0x1c3115['noStroke'](),_0x1c3115['textSize'](_0x1c3115[_0x2c715f(0x136)](0x9,_0xc97ae5*0.1)),_0x1c3115[_0x2c715f(0x117)](_0x1c3115[_0x2c715f(0x12c)],_0x1c3115[_0x2c715f(0xaf)]),_0x1c3115[_0x2c715f(0x154)](formatNumber(_0x5de312)+'\x20'+getText('unitAmpere'),0x0,-0x5),_0x1c3115[_0x2c715f(0x187)]());}else _0xc97ae5>0xa&&(_0x1c3115[_0x2c715f(0x165)](COLOR_VECTOR_CURRENT),_0x1c3115[_0x2c715f(0x157)](),_0x1c3115['ellipse'](0x0,0x0,_0x1c3115[_0x2c715f(0x136)](0x4,_0xc97ae5*0.08),_0x1c3115[_0x2c715f(0x136)](0x4,_0xc97ae5*0.08)),_0x1c3115[_0x2c715f(0x165)](COLOR_TEXT_P5),_0x1c3115[_0x2c715f(0x117)](_0x1c3115['CENTER'],_0x1c3115[_0x2c715f(0xaf)]),_0x1c3115[_0x2c715f(0xb3)](_0x1c3115[_0x2c715f(0x136)](0x9,_0xc97ae5*0.1)),_0x1c3115[_0x2c715f(0x154)](getText(_0x2c715f(0xa8)),0x0,-0xa));_0x1c3115[_0x2c715f(0x187)]();}function drawSineGraph(_0xf0657b,_0x4613fe,_0x1aea03,_0x34c140){const _0x364535=_0x394b0d;_0xf0657b['push']();let _0x12e680=_0x34c140?SINE_GRAPH_XMARGIN_MAXIMIZED:SINE_GRAPH_XMARGIN_SMALL,_0x31579a=_0x34c140?SINE_GRAPH_YMARGIN_MAXIMIZED:SINE_GRAPH_YMARGIN_SMALL,_0x42e245=_0x4613fe-_0x12e680*0x2,_0x329708=_0x1aea03-_0x31579a*0x2;if(_0x42e245<=0x14||_0x329708<=0x14){_0xf0657b[_0x364535(0x187)]();return;}_0xf0657b[_0x364535(0xf7)](_0x12e680,_0x31579a);let _0x51befc=voltage,_0x3cf233=currentI_mag,_0x5bef70=_0xf0657b[_0x364535(0xe6)](phaseAngleDeg),_0x29cfaa=_0xf0657b[_0x364535(0xe6)](currentI_angle_deg),_0x4a1056=_0x29cfaa-_0x5bef70;while(_0x4a1056<=-_0xf0657b['PI'])_0x4a1056+=_0xf0657b[_0x364535(0x190)];while(_0x4a1056>_0xf0657b['PI'])_0x4a1056-=_0xf0657b[_0x364535(0x190)];let _0x32bc5e=_0xf0657b['max'](0x1,_0x51befc),_0x3c597c=_0x329708/0x2/_0x32bc5e*0.9,_0x271869=_0x32bc5e*_0x3c597c*0.8,_0x126f7d=0x0;_0x3cf233>1e-9&&_0x271869>0x1?_0x126f7d=_0x271869/_0x3cf233:(_0x3cf233=0x0,_0x271869=0x0,_0x126f7d=0x0);let _0x33ca1e=_0x42e245/_0xf0657b[_0x364535(0x190)];_0xf0657b[_0x364535(0x165)](0xf5,0xf5,0xfa,0xc8),_0xf0657b[_0x364535(0x157)](),_0xf0657b[_0x364535(0xb7)](0x0,0x0,_0x42e245,_0x329708),_0xf0657b[_0x364535(0x12e)](0xc8,0xc8,0xdc,0x96),_0xf0657b[_0x364535(0xd2)](0.5);for(let _0x20c79d=0x0;_0x20c79d<=0x4;_0x20c79d++){_0xf0657b[_0x364535(0x189)](0x0,_0x329708*_0x20c79d/0x4,_0x42e245,_0x329708*_0x20c79d/0x4),_0xf0657b[_0x364535(0x189)](_0x42e245*_0x20c79d/0x4,0x0,_0x42e245*_0x20c79d/0x4,_0x329708);}_0xf0657b[_0x364535(0x12e)](COLOR_GRAPH_AXES),_0xf0657b[_0x364535(0xd2)](1.5),_0xf0657b[_0x364535(0x189)](0x0,_0x329708/0x2,_0x42e245,_0x329708/0x2),_0xf0657b[_0x364535(0x189)](0x0,0x0,0x0,_0x329708);_0x3cf233>0x0&&_0xf0657b[_0x364535(0x189)](_0x42e245,0x0,_0x42e245,_0x329708);_0xf0657b[_0x364535(0x165)](COLOR_GRAPH_AXES),_0xf0657b['noStroke']();let _0x13ebf1=_0xf0657b[_0x364535(0x136)](0xa,_0xf0657b['min'](_0x42e245*0.05,_0x329708*0.08));_0xf0657b[_0x364535(0xb3)](_0x13ebf1),_0xf0657b[_0x364535(0x117)](_0xf0657b[_0x364535(0x12c)],_0xf0657b[_0x364535(0xdd)]);let _0x2a4df5=_0x329708/0x2+0x5;_0xf0657b[_0x364535(0x154)]('0',0x0,_0x2a4df5),_0xf0657b[_0x364535(0x154)](_0x364535(0x11f),_0x42e245/0x4,_0x2a4df5),_0xf0657b['text']('π',_0x42e245/0x2,_0x2a4df5),_0xf0657b[_0x364535(0x154)](_0x364535(0xda),_0x42e245*0x3/0x4,_0x2a4df5),_0xf0657b['text']('2π',_0x42e245,_0x2a4df5);let _0x15b2c3=_0xf0657b[_0x364535(0x136)](0x9,_0xf0657b[_0x364535(0x152)](_0x42e245*0.04,_0x329708*0.07));_0xf0657b['textSize'](_0x15b2c3),_0xf0657b[_0x364535(0x117)](_0xf0657b[_0x364535(0xad)],_0xf0657b[_0x364535(0x12c)]);for(let _0x17a87b=-0x2;_0x17a87b<=0x2;_0x17a87b++){if(_0x17a87b===0x0)continue;let _0x113ec8=_0x17a87b/0x2*_0x51befc,_0x38e43c=_0x329708/0x2-_0x113ec8*_0x3c597c;_0xf0657b[_0x364535(0x154)](formatNumber(_0x113ec8,0x1),-0x5,_0x38e43c);}_0xf0657b[_0x364535(0x120)](),_0xf0657b[_0x364535(0xf7)](-_0x12e680*0.6,_0x329708/0x2),_0xf0657b['rotate'](-_0xf0657b[_0x364535(0x112)]),_0xf0657b[_0x364535(0x117)](_0xf0657b[_0x364535(0x12c)],_0xf0657b[_0x364535(0xaf)]),_0xf0657b[_0x364535(0x165)](COLOR_VOLTAGE_WAVE),_0xf0657b[_0x364535(0x110)](_0xf0657b[_0x364535(0x1a1)]),_0xf0657b[_0x364535(0xb3)](_0x13ebf1),_0xf0657b[_0x364535(0x154)](getText(_0x364535(0x104)),0x0,0x0),_0xf0657b[_0x364535(0x187)]();if(_0x3cf233>0x0&&_0x126f7d>0x0){_0xf0657b['textAlign'](_0xf0657b[_0x364535(0x167)],_0xf0657b[_0x364535(0x12c)]),_0xf0657b[_0x364535(0xb3)](_0x15b2c3);for(let _0x59bb5f=-0x2;_0x59bb5f<=0x2;_0x59bb5f++){if(_0x59bb5f===0x0)continue;let _0x462f9e=_0x59bb5f/0x2*_0x3cf233,_0x16543a=_0x329708/0x2-_0x462f9e*_0x126f7d;_0xf0657b[_0x364535(0x154)](formatNumber(_0x462f9e,0x1),_0x42e245+0x5,_0x16543a);}_0xf0657b[_0x364535(0x120)](),_0xf0657b[_0x364535(0xf7)](_0x42e245+_0x12e680*0.5,_0x329708/0x2),_0xf0657b[_0x364535(0x181)](_0xf0657b[_0x364535(0x112)]),_0xf0657b[_0x364535(0x117)](_0xf0657b[_0x364535(0x12c)],_0xf0657b[_0x364535(0xaf)]),_0xf0657b[_0x364535(0x165)](COLOR_CURRENT_WAVE),_0xf0657b[_0x364535(0x110)](_0xf0657b[_0x364535(0x1a1)]),_0xf0657b['textSize'](_0x13ebf1),_0xf0657b[_0x364535(0x154)](getText(_0x364535(0x14f)),0x0,0x0),_0xf0657b[_0x364535(0x187)]();}_0xf0657b[_0x364535(0xa9)]();let _0x4c72d0=0xc8,_0x311fef=_0xf0657b['max'](1.5,_0xf0657b[_0x364535(0x152)](_0x42e245*0.008,_0x329708*0.008));_0xf0657b['stroke'](COLOR_VOLTAGE_WAVE),_0xf0657b['strokeWeight'](_0x311fef),_0xf0657b['beginShape']();for(let _0x77641a=0x0;_0x77641a<=_0x4c72d0;_0x77641a++){let _0x5a1884=_0xf0657b['map'](_0x77641a,0x0,_0x4c72d0,0x0,_0xf0657b[_0x364535(0x190)]);_0xf0657b[_0x364535(0x143)](_0x5a1884*_0x33ca1e,_0x329708/0x2-_0x51befc*_0xf0657b[_0x364535(0x16c)](_0x5a1884+_0x5bef70)*_0x3c597c);}_0xf0657b[_0x364535(0xd8)]();if(_0x3cf233>0x0&&_0x126f7d>0x0){_0xf0657b[_0x364535(0x12e)](COLOR_CURRENT_WAVE),_0xf0657b[_0x364535(0xd2)](_0x311fef),_0xf0657b[_0x364535(0x158)]();for(let _0x3239cb=0x0;_0x3239cb<=_0x4c72d0;_0x3239cb++){let _0x4c0a49=_0xf0657b['map'](_0x3239cb,0x0,_0x4c72d0,0x0,_0xf0657b[_0x364535(0x190)]);_0xf0657b[_0x364535(0x143)](_0x4c0a49*_0x33ca1e,_0x329708/0x2-_0x3cf233*_0xf0657b[_0x364535(0x16c)](_0x4c0a49+_0x29cfaa)*_0x126f7d);}_0xf0657b['endShape']();}if(_0x42e245>0x50&&_0x329708>0x28){_0xf0657b[_0x364535(0xd2)](0x1);let _0x1caa43=_0xf0657b[_0x364535(0xcd)](COLOR_VOLTAGE_WAVE);_0x1caa43[_0x364535(0x114)](0xb4);let _0x3869c2=_0xf0657b[_0x364535(0xcd)](COLOR_CURRENT_WAVE);_0x3869c2['setAlpha'](0xb4),_0xf0657b['drawingContext']['setLineDash']([0x4,0x3]);let _0x3a52f0=_0xf0657b[_0x364535(0x112)]-_0x5bef70;while(_0x3a52f0<0x0)_0x3a52f0+=_0xf0657b[_0x364535(0x190)];_0x3a52f0%=_0xf0657b[_0x364535(0x190)];let _0x182500=_0x3a52f0*_0x33ca1e,_0x282668=_0x329708/0x2-_0x51befc*_0x3c597c;_0x182500>=0x0&&_0x182500<=_0x42e245&&_0x51befc>0x0&&(_0xf0657b[_0x364535(0x12e)](_0x1caa43),_0xf0657b[_0x364535(0x189)](_0x182500,_0x282668,_0x182500,_0x329708/0x2));let _0x192b0b=-0x1,_0x2d691a=-0x1,_0x4f09d3=-0x1;if(_0x3cf233>0x0&&_0x126f7d>0x0){_0x4f09d3=_0xf0657b['HALF_PI']-_0x29cfaa;while(_0x4f09d3<0x0)_0x4f09d3+=_0xf0657b['TWO_PI'];_0x4f09d3%=_0xf0657b[_0x364535(0x190)],_0x192b0b=_0x4f09d3*_0x33ca1e,_0x2d691a=_0x329708/0x2-_0x3cf233*_0x126f7d,_0x192b0b>=0x0&&_0x192b0b<=_0x42e245&&(_0xf0657b[_0x364535(0x12e)](_0x3869c2),_0xf0657b[_0x364535(0x189)](_0x192b0b,_0x2d691a,_0x192b0b,_0x329708/0x2));}_0xf0657b[_0x364535(0xe3)][_0x364535(0x175)]([]);if(_0x182500>=0x0&&_0x182500<=_0x42e245&&_0x192b0b>=0x0&&_0x192b0b<=_0x42e245&&_0xf0657b[_0x364535(0x119)](_0x4a1056)>0.01){_0xf0657b[_0x364535(0xd2)](_0xf0657b[_0x364535(0x136)](1.5,_0x329708*0.015));let _0x29b8fe=COLOR_TEXT_P5;_0x29b8fe=_0x4a1056>0x0?COLOR_CURRENT_WAVE:COLOR_VOLTAGE_WAVE,_0xf0657b['stroke'](_0x29b8fe),_0xf0657b[_0x364535(0x189)](_0xf0657b[_0x364535(0x152)](_0x182500,_0x192b0b),_0x329708/0x2,_0xf0657b[_0x364535(0x136)](_0x182500,_0x192b0b),_0x329708/0x2);let _0x5ccfed=(_0x182500+_0x192b0b)/0x2;_0xf0657b[_0x364535(0x119)](_0x182500-_0x192b0b)>_0x42e245/0x2&&(_0x5ccfed=(_0x5ccfed+_0x42e245/0x2)%_0x42e245);let _0x5c44ab=_0x329708/0x2-_0xf0657b['max'](0xc,_0x329708*0.08);_0xf0657b[_0x364535(0x165)](COLOR_TEXT_P5),_0xf0657b['noStroke'](),_0xf0657b[_0x364535(0xb3)](_0xf0657b[_0x364535(0x136)](0x9,_0xf0657b[_0x364535(0x152)](_0x42e245*0.05,_0x329708*0.07))),_0xf0657b[_0x364535(0x117)](_0xf0657b['CENTER'],_0xf0657b[_0x364535(0xaf)]),_0xf0657b[_0x364535(0x154)](getText('p5_phaseDiffLabel')+'\x20'+formatNumber(_0xf0657b[_0x364535(0x150)](_0x4a1056),0x1)+getText('unitDegree'),_0x5ccfed,_0x5c44ab);}}let _0x5e8502=_0x34c140||_0x42e245>0x96&&_0x329708>0x64;if(_0x5e8502){let _0x1266b4=0xa,_0x48a74b=0xa,_0x3f3b8b=_0xf0657b[_0x364535(0x136)](0xf,_0x329708*0.08),_0x2f07c8=_0xf0657b[_0x364535(0x136)](0x8,_0x329708*0.04),_0x3764ab=_0x2f07c8*1.5,_0x2e66d5=_0xf0657b[_0x364535(0x136)](0xa,_0xf0657b[_0x364535(0x152)](_0x4613fe*0.05,_0x1aea03*0.06));_0xf0657b[_0x364535(0xb3)](_0x2e66d5),_0xf0657b[_0x364535(0x117)](_0xf0657b[_0x364535(0x167)],_0xf0657b[_0x364535(0x12c)]),_0xf0657b['fill'](COLOR_VOLTAGE_WAVE),_0xf0657b[_0x364535(0x157)](),_0xf0657b['rect'](_0x1266b4,_0x48a74b,_0x3764ab,_0x2f07c8),_0xf0657b[_0x364535(0x165)](COLOR_TEXT_P5),_0xf0657b[_0x364535(0x154)](getText(_0x364535(0x155)),_0x1266b4+_0x3764ab+0x5,_0x48a74b+_0x2f07c8/0x2),_0x3cf233>0x0&&(_0x48a74b+=_0x3f3b8b,_0xf0657b[_0x364535(0x165)](COLOR_CURRENT_WAVE),_0xf0657b[_0x364535(0x157)](),_0xf0657b['rect'](_0x1266b4,_0x48a74b,_0x3764ab,_0x2f07c8),_0xf0657b[_0x364535(0x165)](COLOR_TEXT_P5),_0xf0657b[_0x364535(0x154)](getText(_0x364535(0x16f)),_0x1266b4+_0x3764ab+0x5,_0x48a74b+_0x2f07c8/0x2));}_0xf0657b[_0x364535(0x187)]();}function _0x4473(){const _0x395b28=['p5_errorCalculating','toFixed','translate','Voltage\x20U\x20&\x20Current\x20I\x20Waveforms','value','Синусоїди\x20U\x20та\x20I','angleLabel','Current\x20I','none','unitOhm','23164XKOXnk','Waiting\x20for\x20calculation...','pixelDensity','width','Розрахунок\x20струму\x20I\x20(прямокутна\x20форма):','p5_voltageAxisLabel','startsWith','block','xlLabel','p5_currentLabel','current-polar-value','Phase\x20Impedance:','Phase\x20Voltage:','current-rect-value','typesetPromise','test','xcLabel','textStyle','p5_impedanceZeroError','HALF_PI','graphHint','setAlpha','impedancePolarCalcLabel','graph-hint','textAlign','xl-input','abs','Виправте\x20помилку\x20вводу\x20даних.','961922lgGqxj','xc-input','innerText','userAgent','π/2','push','impedance-polar-formula','unitVolt','219wETzqX','errorZeroImpedance','setup','Calculation:','target','app-container','p5_vectorDiagramTitle','catch','Inductive\x20XL:','CENTER','Векторна\x20діаграма\x20струму','stroke','Error:\x20Impedance\x20Z\x20=\x200','p5_fixInputError','#current-rect-value','phase-angle-display','p5Instance','ellipse','minimumFractionDigits','max','change','doubleClicked','485pICcDf','currentPolarCalcLabel','10wXzGNU','polar','9EpxqJO','errorInvalidInputPrefix','borderColor','Enter\x20data\x20and/or\x20click\x20\x27Calculate\x27\x20(changing\x20data\x20triggers\x20calculation).','Фаза:','p5_axisIm','vertex','p5_axisRe','p5_sineGraphTitle','#337AFF','phaseLabel','Кут:','Current\x20I\x20(A)','final-current-value','}\x20\x5cright)\x20\x5cangle\x20','currentRectCalcLabel','innerWidth','red','p5_currentAxisLabel','degrees','draw','min','I\x20=\x200\x20A','text','p5_legendVoltage','Ємнісний\x20XC:','noStroke','beginShape','1461859cerUpn','Current\x20Vector\x20Diagram','Resistance\x20R:','Струм','Напруга\x20U\x20(В)','#impedance-polar-formula','4839688iNFwIN','layout-horizontal','phaseVoltageLabel','cos','voltage-result','resultsTitle','fill','impedance-mag-value','LEFT','Вхідні\x20дані:','sqrt','number','I\x20=\x20|I|\x20(\x5ccos(\x5cphi_I)\x20+\x20j\x20\x5csin(\x5cphi_I))\x20=\x20','sin','triangle','\x20(\x5ccos(','p5_legendCurrent','Індуктивний\x20XL:','Current','isLooping','Помилка\x20вводу:\x20Некоректне\x20значення\x20для','arc','setLineDash','rLabel','Input\x20Error:\x20Invalid\x20value\x20for',')\x20+\x20j\x20\x5csin(','\x20\x5cangle\x20','4243284DzuKJa','needsCalcMessage','toString','pageTitle','impedance-rect-formula','p5_notEnoughSpace','Очікування\x20розрахунку...','rotate','Please\x20correct\x20the\x20input\x20data\x20error.','voltageLabel','redraw','^2\x20+\x20','unitDegree','pop','info-panel','line','...','maximumFractionDigits','Розрахунок\x20Z\x20(полярна\x20форма):','height','toggle','Напруга\x20U','TWO_PI','$$\x20$$','#555555','Phase\x20Current\x20Calculator','p5_waitingCalculation','resizeCanvas','clientWidth','Струм\x20I\x20(А)','$Z\x20=\x20R\x20+\x20j(X_L\x20-\x20X_C)$','DOMContentLoaded','lang','Final\x20Current:','Недостатньо\x20місця\x20для\x20графіків','Активний\x20R:','pow','documentElement','style','BOLD','\x5cphi_Z\x20=\x20\x5carctan\x5cleft(\x5cfrac{X}{R}\x5cright)\x20=\x20\x5carctan\x5cleft(\x5cfrac{','impedance-angle-value','clientHeight','}\x20=\x20\x5cleft(\x20\x5cfrac{','toLowerCase','phase-select','p5_currentZero','noFill','display','Помилка:\x20Імпеданс\x20Z\x20=\x200','errorInvalidInput','RIGHT','toExponential','BOTTOM','sine','TITLE','undefined','textSize','current-rect-calculation','Підсумковий\x20струм:','innerHTML','rect','impedance-polar-calculation','loop','#current-rect-formula','languages','createCanvas','Введіть\x20дані\x20та/або\x20натисніть\x20\x27Розрахувати\x27\x20(зміна\x20даних\x20запускає\x20розрахунок).','p5_phaseDiffLabel','addEventListener','classList','data-lang-key','Калькулятор\x20фазного\x20струму','body','input','#FF5733','#333333','parent','Імпеданс\x20фази:','Error:\x20Division\x20by\x20zero\x20(Impedance\x20Z\x20=\x200)','millis','finalCurrentLabel','length','color','layout-vertical','Current\x20I\x20Calculation\x20(Polar\x20Form):','querySelector','Δφ\x20≈','strokeWeight','label[for=\x22','mouseY','Voltage\x20U','I\x20=\x20\x5cfrac{U}{Z}\x20=\x20\x5cfrac{','Calculation\x20Error','endShape','Z\x20Calculation\x20(Polar\x20Form):','3π/2','r-input','replace','TOP','tagName','#F0F0F0','Voltage\x20U:','#AAAAAA','voltage-input','drawingContext','canvas-container','unitAmpere','radians','getElementById','[data-lang-key]','phaseImpedanceLabel','6516521WaCwUs','useGrouping','forEach','graph-panel-container','Voltage\x20U\x20(V)','Розрахунок:','needs-calculation-message','|Z|\x20=\x20\x5csqrt{R^2\x20+\x20X^2}\x20=\x20\x5csqrt{','error-message','8894qkdkwC','textFont'];_0x4473=function(){return _0x395b28;};return _0x4473();}

    </script>
</body>
</html>